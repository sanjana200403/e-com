/*! For license information please see main.bbb5ff22.js.LICENSE.txt */
!function(){var e={446:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(203),a=n(971),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(e){return d.get(e)||p}function v(e,t){d.set(e,t)}function y(){return g}function _(){return self.grecaptcha}function b(e){if(!m(e).activated)throw f.create("use-before-activation",{appName:e.name})}var w="https://www.google.com/recaptcha/api.js";function S(e,t){var n=m(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=_();return u?u.ready((function(){T(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+w,t.onload=e,document.head.appendChild(t)}((function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready((function(){T(e,t,n,i),r.resolve(n)}))})),r.promise}function I(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return b(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function T(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var E="https://content-firebaseappcheck.googleapis.com/v1beta",k="exchangeRecaptchaToken",C="exchangeDebugToken",x={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},N=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function P(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function A(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:E+"/projects/"+r+"/apps/"+i+":"+k+"?key="+o,body:{recaptcha_token:t}}}function R(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:E+"/projects/"+r+"/apps/"+i+":"+C+"?key="+o,body:{debug_token:t}}}var O="firebase-app-check-database",D=1,L="firebase-app-check-store",j="debug-token",M=null;function F(){return M||(M=new Promise((function(e,t){try{var n=indexedDB.open(O,D);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(L,{keyPath:"compositeKey"})}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})),M)}function U(e){return V(z(e))}function q(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,F()];case 1:return n=o.sent(),r=n.transaction(L,"readwrite"),i=r.objectStore(L),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function V(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,F()];case 1:return t=o.sent(),n=t.transaction(L,"readonly"),r=n.objectStore(L),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function z(e){return e.options.appId+"-"+e.name}var B=new s.Logger("@firebase/app-check");function W(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),B.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function K(e,t){return a.isIndexedDBAvailable()?function(e,t){return q(z(e),t)}(e,t).catch((function(e){B.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function H(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,V(j)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,q(j,r)).catch((function(e){return B.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function G(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var Y={error:"UNKNOWN_ERROR"};function X(e){return a.base64.encodeString(JSON.stringify(e),!1)}function Q(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,h,d,p,g,_,w,S,T;return o.__generator(this,(function(E){switch(E.label){case 0:return b(e),r=m(e),i=r.token,s=void 0,i?[3,2]:[4,W(e)];case 1:(u=E.sent())&&ee(u)&&(i=u,v(e,o.__assign(o.__assign({},r),{token:i})),Z(e,{token:i.token})),E.label=2;case 2:return!n&&i&&ee(i)?[2,{token:i.token}]:y().enabled?(l=P,h=R,d=[e],[4,G()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([E.sent()])),t])];case 4:return c=E.sent(),[4,K(e,c)];case 5:return E.sent(),v(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return E.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=E.sent(),g=a.issuedAtTime(p.token),_=null!==g&&g<Date.now()&&g>0?1e3*g:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:_}),[3,11];case 8:return[4,I(e).catch((function(e){throw f.create("recaptcha-error")}))];case 9:return w=E.sent(),[4,P(A(e,w),t)];case 10:i=E.sent(),E.label=11;case 11:return[3,13];case 12:return S=E.sent(),B.error(S),s=S,[3,13];case 13:return i?[3,14]:(T=function(e){return{token:X(Y),error:e}}(s),[3,16]);case 14:return T={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,K(e,i)];case 15:E.sent(),E.label=16;case 16:return Z(e,T),[2,T]}}))}))}function $(e,t,n,r,i){var a=m(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new N((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,Q(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,Q(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),x.RETRIAL_MIN_WAIT,x.RETRIAL_MAX_WAIT)}(e,t);u.tokenRefresher=c}if(u.tokenRefresher.isRunning()||!0!==a.isTokenAutoRefreshEnabled||u.tokenRefresher.start(),a.token&&ee(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}v(e,u)}function J(e,t){var n=m(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function Z(e,t){for(var n=0,r=m(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function ee(e){return e.expireTimeMillis-Date.now()>0}function te(e,t){return{app:e,activate:function(t,n){return function(e,t,n){var r=m(e);if(r.activated)throw f.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"===typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,v(e,i),i.siteKey&&S(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,Q(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),$(e,t,"EXTERNAL",o,a),function(){return J(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++){var r=n[t];J(e,r.next)}return Promise.resolve()}}}}var ne="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return te(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(ne).initialize()}))),e.INTERNAL.registerComponent(new i.Component(ne,(function(e){return function(e,t){return{getToken:function(n){return Q(e,t,n)},addTokenListener:function(n){return $(e,t,"INTERNAL",n)},removeTokenListener:function(t){return J(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.2.0")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(H())}}()},637:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return w}});var r,i,o=n(203),a=n(971),s=n(826),u=n(386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m="8.7.0";var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:m,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(g);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=v;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(h,"0.6.28",t),e.registerVersion("fire-js","")}(w),t.default=w},826:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(203),i=n(971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},895:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(971),a=n(203),s=n(386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),g=new s.Logger("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),v=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},_=null,b=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.LogLevel.VERBOSE,_=g.log.bind(g),t&&p.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,p.remove("logging_enabled"))},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=y.apply(null,e);_(n)}},I=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw g.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",N="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===x||t===N)return-1;if(t===x||e===N)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},O=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){(0,o.assert)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var M=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,q=function(e){if(M.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw k("Exception was thrown by user callback.",e),t}),Math.floor(0))}},z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},B=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),W=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),K=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",X="websocket",Q="long_polling",$=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===X)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Y]=s.appCheckToken),J(t,Q,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Y]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){S("frame writing exception"),u.stack&&S(u.stack),S(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||S("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){S("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=ne(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Y]=r),J(e,X,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/e-com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=32,ge=768,me=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new me("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _e(e){return e.pieces_.length-e.pieceNum_}function be(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new me(e.pieces_,t)}function we(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Se(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ie(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new me(t,0)}function Te(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof me)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new me(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function ke(e,t){var n=ye(e),r=ye(t);if(null===n)return t;if(n===r)return ke(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ce(e,t){for(var n=Se(e,0),r=Se(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function xe(e,t){if(_e(e)!==_e(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ne(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_e(e)>_e(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Pe=function(e,t){this.errorPrefix_=t,this.parts_=Se(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ae(this)};function Ae(e){if(e.byteLength_>ge)throw new Error(e.errorPrefix_+"has a key path longer than "+ge+" bytes ("+e.byteLength_+").");if(e.parts_.length>pe)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pe+") or object contains a cycle "+Re(e))}function Re(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Oe,De,Le=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),je=1e3,Me=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=I("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=je,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Le.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,g,m,v=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],g=d[1],u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){k(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&k(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){S("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){S("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return O(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new me(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){S("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){S("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Fe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ue=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Fe(x,e),r=new Fe(x,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Fe.MIN},e}(),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Oe},set:function(e){Oe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(N,Oe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Fe(e,Oe)},t.prototype.toString=function(){return".key"},t}(Ue),Ve=new qe,ze=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Be=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ke.EMPTY_NODE,this.right=null!=o?o:Ke.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ke.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ke.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),We=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Be(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ke=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ze(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ze(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new We,e}();function He(e,t){return P(e.name,t.name)}function Ge(e,t){return P(e,t)}var Ye,Xe,Qe,$e=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Je=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===De||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ye},set:function(e){Ye=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ee(t)?this:".priority"===ye(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===_e(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var et,tt,nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(N,new Ze("[PRIORITY-POST]",Qe))},t.prototype.makePost=function(e,t){var n=Xe(e);return new Fe(t,new Ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ue),rt=new nt,it=Math.log(2),ot=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/it,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),at=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Be(a,o.node,Be.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Be(a,o.node,Be.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Be(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Be.BLACK):(s(h,Be.BLACK),s(h,Be.RED))}return o}(new ot(e.length));return new Ke(r||t,o)},st={},ut=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(st&&rt,"ChildrenNode.ts has not been loaded"),et=et||new e({".priority":st},{".priority":rt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ke?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ve,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Fe.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?at(i,t.getCompare()):st;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===st){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Fe.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),at(s,a.getCompare())}return st}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Fe(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===st)return e;var r=n.get(t.name);return r?e.remove(new Fe(t.name,r)):e})),this.indexSet_)},e}(),ct=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return tt||(tt=new e(new Ke(Ge),null,ut.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||tt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?tt:t},e.prototype.getChild=function(e){var t=ye(e);return null===t?this:this.getImmediateChild(t).getChild(be(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Fe(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?tt:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ye(e);if(null===n)return t;(0,o.assert)(".priority"!==ye(e)||1===_e(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(be(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(rt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(rt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Fe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Ve||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ve||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rt),r=t.getIterator(rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ve?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),lt=new(function(e){function t(){return e.call(this,new Ke(Ge),ct.EMPTY_NODE,ut.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ct.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ct));Object.defineProperties(Fe,{MIN:{value:new Fe(x,ct.EMPTY_NODE)},MAX:{value:new Fe(N,lt)}}),qe.__EMPTY_NODE=ct.EMPTY_NODE,Ze.__childrenNodeConstructor=ct,De=lt,function(e){Qe=e}(lt);var ht=!0;function ft(e,t){if(void 0===t&&(t=null),null===e)return ct.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ze(e,ft(t));if(e instanceof Array||!ht){var n=ct.EMPTY_NODE;return L(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ft(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ft(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=ft(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Fe(e,n)))}})),0===r.length)return ct.EMPTY_NODE;var a=at(r,He,(function(e){return e.name}),Ge);if(i){var s=at(r,rt.getCompare());return new ct(a,ft(t),new ut({".priority":s},{".priority":rt}))}return new ct(a,ft(t),ut.Default)}!function(e){Xe=e}(ft);var dt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Ee(t)&&".priority"!==ye(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ft(e),r=ct.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fe(t,r)},t.prototype.maxPost=function(){var e=ct.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Fe(N,e)},t.prototype.toString=function(){return Se(this.indexPath_,0).join("/")},t}(Ue),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return Fe.MAX},t.prototype.makePost=function(e,t){var n=ft(e);return new Fe(t,n)},t.prototype.toString=function(){return".value"},t}(Ue),gt=new pt,mt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=mt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=mt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),yt=function(e){if(e===""+U)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=mt.charAt(mt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},_t=function(e){if(e===""+F)return x;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+U:(delete n[n.length-1],n.join("")):(n[n.length-1]=mt.charAt(mt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function bt(e){return{type:"value",snapshotNode:e}}function wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function St(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function It(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Tt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(St(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(wt(t,n)):a.trackChildChange(It(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rt,(function(e,r){t.hasChild(e)||n.trackChildChange(St(e,r))})),t.isLeafNode()||t.forEachChild(rt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(It(t,r,i))}else n.trackChildChange(wt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ct.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Et=function(){function e(t){this.indexedFilter_=new Tt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ct.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ct.EMPTY_NODE);var i=this;return t.forEachChild(rt,(function(e,t){i.matches(new Fe(e,t))||(r=r.updateImmediateChild(e,ct.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),kt=function(){function e(e){this.rangedFilter_=new Et(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Fe(t,n))||(n=ct.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ct.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ct.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Fe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(It(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(St(t,f));var g=u.updateImmediateChild(t,ct.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(wt(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(St(l.name,l.node)),i.trackChildChange(wt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ct.EMPTY_NODE)):e},e}(),Ct=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function xt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Nt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Pt(e,t){var n=e.copy();return n.index_=t,n}function At(e){var t,n={};return e.isDefault()||(e.index_===rt?t="$priority":e.index_===gt?t="$value":e.index_===Ve?t="$key":((0,o.assert)(e.index_ instanceof dt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Rt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rt&&(t.i=e.index_.toString()),t}var Ot=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=I("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=At(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=At(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){k("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&k("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Dt=function(){function e(){this.rootNode_=ct.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Lt(){return{value:null,children:new Map}}function jt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Lt()),jt(e.children.get(r),t=be(t),n)}}function Mt(e,t){if(Ee(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(rt,(function(t,n){jt(e,new me(t),n)})),Mt(e,t)}if(e.children.size>0){var r=ye(t);if(t=be(t),e.children.has(r))Mt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ft(r,new me(t.toString()+"/"+e),n)}))}var Ut,qt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Vt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qt(e);var n=1e4+2e4*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function zt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var Bt,Wt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ut.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new me(t));return new e(ve(),n,this.revert)}return(0,o.assert)(ye(this.path)===t,"operationForChild called for unrelated child."),new e(be(this.path),this.affectedTree,this.revert)},e}(),Kt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ut.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve()):new e(this.source,be(this.path))},e}(),Ht=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ut.OVERWRITE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,be(this.path),this.snap)},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ut.MERGE}return e.prototype.operationForChild=function(t){if(Ee(this.path)){var n=this.children.subtree(new me(t));return n.isEmpty()?null:n.value?new Ht(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.assert)(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,be(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Yt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=ye(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Xt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Qt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Fe(t.childName,t.snapshotNode),i=new Fe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $t(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return $t(new Yt(t,n,r),e.serverCache)}function Zt(e,t,n,r){return $t(e.eventCache,new Yt(t,n,r))}function en(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nn=function(){function e(e,t){void 0===t&&(Bt||(Bt=new Ke(A)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,(function(e,t){n=n.set(new me(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Ee(e))return null;var n=ye(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(be(e),t);return null!=i?{path:Te(new me(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ee(t))return this;var n=ye(t),r=this.children.get(n);return null!==r?r.subtree(be(t)):new e(null)},e.prototype.set=function(t,n){if(Ee(t))return new e(n,this.children);var r=ye(t),i=(this.children.get(r)||new e(null)).set(be(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(be(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ee(e))return this.value;var t=ye(e),n=this.children.get(t);return n?n.get(be(e)):null},e.prototype.setTree=function(t,n){if(Ee(t))return n;var r=ye(t),i=(this.children.get(r)||new e(null)).setTree(be(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Te(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;var i=ye(e),o=this.children.get(i);return o?o.findOnPath_(be(e),Te(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ee(t))return this;this.value&&r(n,this.value);var i=ye(t),o=this.children.get(i);return o?o.foreachOnPath_(be(t),Te(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Te(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),rn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new nn(null))},e}();function on(e,t,n){if(Ee(t))return new rn(new nn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ke(i,t);return o=o.updateChild(a,n),new rn(e.writeTree_.set(i,o))}var s=new nn(n),u=e.writeTree_.setTree(t,s);return new rn(u)}function an(e,t,n){var r=e;return L(n,(function(e,n){r=on(r,Te(t,e),n)})),r}function sn(e,t){if(Ee(t))return rn.empty();var n=e.writeTree_.setTree(t,new nn(null));return new rn(n)}function un(e,t){return null!=cn(e,t)}function cn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function ln(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rt,(function(e,n){t.push(new Fe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Fe(e,n.value))})),t}function hn(e,t){if(Ee(t))return e;var n=cn(e,t);return new rn(null!=n?new nn(n):e.writeTree_.subtree(t))}function fn(e){return e.writeTree_.isEmpty()}function dn(e,t){return pn(ve(),e.writeTree_,t)}function pn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pn(Te(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Te(e,".priority"),r)),n}function gn(e,t){return xn(t,e)}function mn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&vn(u,r.path)?i=!1:Ne(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=_n(e.allWrites,yn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sn(e.visibleWrites,r.path):L(r.children,(function(t){e.visibleWrites=sn(e.visibleWrites,Te(r.path,t))}));return!0}return!1}function vn(e,t){if(e.snap)return Ne(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ne(Te(e.path,n),t))return!0;return!1}function yn(e){return e.visible}function _n(e,t,n){for(var r=rn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ne(n,s)?r=on(r,u=ke(n,s),a.snap):Ne(s,n)&&(u=ke(s,n),r=on(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ne(n,s))r=an(r,u=ke(n,s),a.children);else if(Ne(s,n))if(Ee(u=ke(s,n)))r=an(r,ve(),a.children);else{var c=(0,o.safeGet)(a.children,ye(u));if(c){var l=c.getChild(be(u));r=on(r,ve(),l)}}}}}return r}function bn(e,t,n,r,i){if(r||i){var o=hn(e.visibleWrites,t);if(!i&&fn(o))return n;if(i||null!=n||un(o,ve())){return dn(_n(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ne(e.path,t)||Ne(t,e.path))}),t),n||ct.EMPTY_NODE)}return null}var a=cn(e.visibleWrites,t);if(null!=a)return a;var s=hn(e.visibleWrites,t);return fn(s)?n:null!=n||un(s,ve())?dn(s,n||ct.EMPTY_NODE):null}function wn(e,t,n,r){return bn(e.writeTree,e.treePath,t,n,r)}function Sn(e,t){return function(e,t,n){var r=ct.EMPTY_NODE,i=cn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=hn(e.visibleWrites,t);return n.forEachChild(rt,(function(e,t){var n=dn(hn(o,new me(e)),t);r=r.updateImmediateChild(e,n)})),ln(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ln(hn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function In(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Te(t,n);if(un(e.visibleWrites,a))return null;var s=hn(e.visibleWrites,a);return fn(s)?i.getChild(n):dn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tn(e,t){return function(e,t){return cn(e.visibleWrites,t)}(e.writeTree,Te(e.treePath,t))}function En(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=hn(e.visibleWrites,t),c=cn(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=dn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function kn(e,t,n){return function(e,t,n,r){var i=Te(t,n),o=cn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?dn(hn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Cn(e,t){return xn(Te(e.treePath,t),e.writeTree)}function xn(e,t){return{treePath:e,writeTree:t}}var Nn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,It(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,St(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,It(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Pn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),An=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tn(this.viewCache_),i=En(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Rn(e,t,n,r,i){var a,s,u=new Nn;if(n.type===Ut.OVERWRITE){var c=n;c.source.fromUser?a=Ln(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ee(c.path),a=Dn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ut.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Te(n,r);jn(t,ye(c))&&(s=Ln(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Te(n,r);jn(t,ye(c))||(s=Ln(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Fn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ut.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=Tn(r,n))return t;var u=new An(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ee(n)||".priority"===ye(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=wn(r,tn(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof ct,"serverChildren would be complete if leaf node"),h=Sn(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=ye(n),p=kn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,be(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,ct.EMPTY_NODE,be(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wn(r,tn(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Tn(r,ve()),Jt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Tn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ee(n)){var c=new nn(null);return u.getNode().forEachChild(Ve,(function(e,t){c=c.set(new me(e),t)})),Fn(e,t,n,c,i,o,s,a)}return t}var l=new nn(null);return r.foreach((function(e,t){var r=Te(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Fn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Zt(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return On(e,a,n,r,Pn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=en(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(bt(en(t)))}}(t,a,f),{viewCache:a,changes:f}}function On(e,t,n,r,i,a){var s=t.eventCache;if(null!=Tn(r,n))return t;var u=void 0,c=void 0;if(Ee(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tn(t),h=Sn(r,l instanceof ct?l:ct.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=wn(r,tn(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ye(n);if(".priority"===d){(0,o.assert)(1===_e(n),"Can't have a priority with additional path components");var p=s.getNode(),g=In(r,n,p,c=t.serverCache.getNode());u=null!=g?e.filter.updatePriority(p,g):s.getNode()}else{var m=be(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=In(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else v=kn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,m,i,a):s.getNode()}}return Jt(t,u,s.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function Dn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ye(n);if(!c.isCompleteForPath(n)&&_e(n)>1)return t;var d=be(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Pn,null)}var g=Zt(t,u,c.isFullyInitialized()||Ee(n),l.filtersNodes());return On(e,g,n,i,new An(i,g,o),s)}function Ln(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new An(i,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Jt(t,u,!0,e.filter.filtersNodes());else{var h=ye(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Jt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=be(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Ee(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===we(f)&&g.getChild(Ie(f)).isEmpty()?g:g.updateChild(f,r):ct.EMPTY_NODE}if(d.equals(p))s=t;else s=Jt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function jn(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Fn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ee(n)?r:new nn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new me(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Dn(e,c,new me(n),h,i,o,a,s)}})),c}var Un,qn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Tt(r.getIndex()),o=(n=r).loadsAllData()?new Tt(n.getIndex()):n.hasLimit()?new kt(n):new Et(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ct.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ct.EMPTY_NODE,s.getNode(),null),l=new Yt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Yt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$t(h,l),this.eventGenerator_=new Xt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Vn(e,t){var n=tn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function zn(e){return 0===e.eventRegistrations_.length}function Bn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Wn(e,t,n,r){t.type===Ut.MERGE&&null!==t.source.queryId&&((0,o.assert)(tn(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(en(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Rn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Kn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Kn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Qt(e,i,"child_removed",t,r,n),Qt(e,i,"child_added",t,r,n),Qt(e,i,"child_moved",o,r,n),Qt(e,i,"child_changed",t,r,n),Qt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hn,Gn=function(){this.views=new Map};function Yn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Wn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Wn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Xn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=wn(n,i?r:null),u=!1;s?u=!0:r instanceof ct?(s=Sn(n,r),u=!1):(s=ct.EMPTY_NODE,u=!1);var c=$t(new Yt(s,u,!1),new Yt(r,i,!1));return new qn(t,c)}return a}function Qn(e,t,n,r,i,o){var a=Xn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rt,(function(e,t){r.push(wt(e,t))})),n.isFullyInitialized()&&r.push(bt(n.getNode())),Kn(e,r,n.getNode(),t)}(a,n)}function $n(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=nr(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.__read)(d.value,2),g=p[0],m=p[1];l=l.concat(Bn(m,n,r)),zn(m)&&(e.views.delete(g),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(u))&&(l=l.concat(Bn(m,n,r)),zn(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return h&&!nr(e)&&c.push(new((0,o.assert)(Un,"Reference.ts has not been loaded"),Un)(t._repo,t._path)),{removed:c,events:l}}function Jn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Vn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function er(e,t){if(t._queryParams.loadsAllData())return rr(e);var n=t._queryIdentifier;return e.views.get(n)}function tr(e,t){return null!=er(e,t)}function nr(e){return null!=rr(e)}function rr(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ir=1,or=function(e){this.listenProvider_=e,this.syncPointTree_=new nn(null),this.pendingWriteTree_={visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ar(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=on(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?pr(e,new Ht({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=an(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=nn.fromObject(n);return pr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ur(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(mn(e.pendingWriteTree_,t)){var i=new nn(null);return null!=r.snap?i=i.set(ve(),!0):L(r.children,(function(e){i=i.set(new me(e),!0)})),pr(e,new Wt(r.path,i,n))}return[]}function cr(e,t,n){return pr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||tr(o,t))){var s=$n(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return nr(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&nr(t))return[rr(t)];var r=[];return t&&(r=Jn(t)),L(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],g=p.query,m=vr(e,p);e.listenProvider_.startListening(Ir(g),yr(e,g),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Ir(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(_r(t));e.listenProvider_.stopListening(Ir(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=_r(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function hr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ke(e,r);i=i||Zn(t,n),a=a||nr(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||nr(u),i=i||Zn(u,ve())):(u=new Gn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ct.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Zn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=tr(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=_r(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=ir++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Qn(u,t,n,gn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=er(u,t);f=f.concat(function(e,t,n){var r=t._path,i=yr(e,t),a=vr(e,n),s=e.listenProvider_.startListening(Ir(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!nr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ee(e)&&t&&nr(t))return[rr(t).query];var r=[];return t&&(r=r.concat(Jn(t).map((function(e){return e.query})))),L(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(Ir(h),yr(e,h))}return s}(e,t,d))}return f}function fr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Zn(n,ke(e,t));if(r)return r}));return bn(r,t,i,n,!0)}function dr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ke(e,n);r=r||Zn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Zn(i,ve()):(i=new Gn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Yt(r,!0,!1):null;return function(e){return en(e.viewCache_)}(Xn(i,t,gn(e.pendingWriteTree_,t._path),o?a.getNode():ct.EMPTY_NODE,o))}function pr(e,t){return gr(t,e.syncPointTree_,null,gn(e.pendingWriteTree_,ve()))}function gr(e,t,n,r){if(Ee(e.path))return mr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Zn(i,ve()));var o=[],a=ye(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Cn(r,a);o=o.concat(gr(s,u,c,l))}return i&&(o=o.concat(Yn(i,e,r,n))),o}function mr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Zn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Cn(r,t),u=e.operationForChild(t);u&&(o=o.concat(mr(u,i,a,s)))})),i&&(o=o.concat(Yn(i,e,r,n))),o}function vr(e,t){var n=t.query,r=yr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=br(e,n);if(r){var i=wr(r),o=i.path,a=i.queryId,s=ke(o,t);return Sr(e,o,new Kt(zt(a),s))}return[]}(e,n._path,r):function(e,t){return pr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lr(e,n,null,i)}}}function yr(e,t){var n=_r(t);return e.queryToTagMap.get(n)}function _r(e){return e._path.toString()+"$"+e._queryIdentifier}function br(e,t){return e.tagToQueryMap.get(t)}function wr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new me(e.substr(0,t))}}function Sr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Yn(r,n,gn(e.pendingWriteTree_,t),null)}function Ir(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Hn,"Reference.ts has not been loaded"),Hn)(e._repo,e._path):e}var Tr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Er=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Te(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return fr(this.syncTree_,this.path_)},e}(),kr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Cr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?xr(e[".sv"],t,n):"object"===typeof e[".sv"]?Nr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Nr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Pr=function(e,t,n,r){return Rr(t,new Er(n,e),r)},Ar=function(e,t,n){return Rr(e,new Tr(t),n)};function Rr(e,t,n){var r,i=e.getPriority().val(),o=Cr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Cr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ze(s,ft(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ze(o))),u.forEachChild(rt,(function(e,i){var o=Rr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Or=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Dr(e,t){for(var n=t instanceof me?t:new me(t),r=e,i=ye(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Or(i,r,a),i=ye(n=be(n))}return r}function Lr(e){return e.node.value}function jr(e,t){e.node.value=t,Vr(e)}function Mr(e){return e.node.childCount>0}function Fr(e,t){L(e.node.children,(function(n,r){t(new Or(n,e,r))}))}function Ur(e,t,n,r){n&&!r&&t(e),Fr(e,(function(e){Ur(e,t,!0,r)})),n&&r&&t(e)}function qr(e){return new me(null===e.parent?e.name:qr(e.parent)+"/"+e.name)}function Vr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Lr(e)&&!Mr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Vr(e))}(e.parent,e.name,e)}var zr=/[\[\].#$\/\u0000-\u001F\u007F]/,Br=/[\[\].#$\u0000-\u001F\u007F]/,Wr=10485760,Kr=function(e){return"string"===typeof e&&0!==e.length&&!zr.test(e)},Hr=function(e){return"string"===typeof e&&0!==e.length&&!Br.test(e)},Gr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Yr=function(e,t,n,r){r&&void 0===t||Xr((0,o.errorPrefix)(e,"value"),t,n)},Xr=function e(t,n,r){var i=r instanceof me?new Pe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Re(i));if("function"===typeof n)throw new Error(t+"contains a function "+Re(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Re(i));if("string"===typeof n&&n.length>Wr/3&&(0,o.stringLength)(n)>Wr)throw new Error(t+"contains a string greater than "+Wr+" utf8 bytes "+Re(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Kr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Re(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ae(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Re(i)+" in addition to actual children.")}},Qr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,(function(e,t){var r=new me(e);if(Xr(i,t,Te(n,r)),".priority"===we(r)&&!Gr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Se(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Kr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ce);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ne(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},$r=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n,r){if((!r||void 0!==n)&&!Kr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ei=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zr(e,t,n,r)},ti=function(e,t){if(".info"===ye(t))throw new Error(e+" failed = Can't modify data under /.info/")},ni=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ri=function(){this.eventLists_=[],this.recursionDepth_=0};function ii(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||xe(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function oi(e,t,n){ii(e,n),si(e,(function(e){return xe(e,t)}))}function ai(e,t,n){ii(e,n),si(e,(function(e){return Ne(e,t)||Ne(t,e)}))}function si(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ui(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ui(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&S("event: "+n.toString()),V(r)}}}var ci="repo_interrupt",li=25,hi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ri,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new Or,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function fi(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ot(e.repoInfo_,(function(t,n,r,i){gi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return mi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Me(e.repoInfo_,t,(function(t,n,r,i){gi(e,t,n,r,i)}),(function(t){mi(e,t)}),(function(t){!function(e,t){L(t,(function(t,n){vi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Vt(e.stats_,e.server_)})),e.infoData_=new Dt,e.infoSyncTree_=new or({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=cr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),vi(e,"connected",!1),e.serverSyncTree_=new or({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ai(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function di(e){var t=e.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pi(e){return kr({timestamp:di(e)})}function gi(e,t,n,r,i){e.dataUpdateCount++;var a=new me(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ft(e)}));s=function(e,t,n,r){var i=br(e,r);if(i){var o=wr(i),a=o.path,s=o.queryId,u=ke(a,t),c=nn.fromObject(n);return Sr(e,a,new Gt(zt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ft(n);s=function(e,t,n,r){var i=br(e,r);if(null!=i){var o=wr(i),a=o.path,s=o.queryId,u=ke(a,t);return Sr(e,a,new Ht(zt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ft(e)}));s=function(e,t,n){var r=nn.fromObject(n);return pr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ft(n);s=cr(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=xi(e,a)),ai(e.eventQueue_,f,s)}function mi(e,t){vi(e,"connected",t),!1===t&&function(e){Ti(e,"onDisconnectEvents");var t=pi(e),n=Lt();Ft(e.onDisconnect_,ve(),(function(r,i){var o=Pr(r,i,e.serverSyncTree_,t);jt(n,r,o)}));var r=[];Ft(n,ve(),(function(t,n){r=r.concat(cr(e.serverSyncTree_,t,n));var i=Oi(e,t);xi(e,i)})),e.onDisconnect_=Lt(),ai(e.eventQueue_,ve(),r)}(e)}function vi(e,t,n){var r=new me("/.info/"+t),i=ft(n);e.infoData_.updateSnapshot(r,i);var o=cr(e.infoSyncTree_,r,i);ai(e.eventQueue_,r,o)}function yi(e){return e.nextWriteId_++}function _i(e,t,n,r,i){Ti(e,"set",{path:t.toString(),value:n,priority:r});var o=pi(e),a=ft(n,r),s=fr(e.serverSyncTree_,t),u=Ar(a,s,o),c=yi(e),l=ar(e.serverSyncTree_,t,u,c,!0);ii(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||k("set at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,c,!o);ai(e.eventQueue_,t,a),Ei(e,i,n,r)}));var h=Oi(e,t);xi(e,h),ai(e.eventQueue_,h,[])}function bi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Mt(e.onDisconnect_,t),Ei(e,n,r,i)}))}function wi(e,t,n,r){var i=ft(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&jt(e.onDisconnect_,t,i),Ei(e,r,n,o)}))}function Si(e,t,n){var r;r=".info"===ye(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}function Ii(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ci)}function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),S.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function Ei(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ki(e,t,n){return fr(e.serverSyncTree_,t,n)||ct.EMPTY_NODE}function Ci(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ri(e,t),Lr(t)){var n=Pi(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ki(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=ke(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Ti(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ur(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ri(e,Dr(e.transactionQueueTree_,t)),Ci(e,e.transactionQueueTree_),ai(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{k("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}xi(e,t)}}),s)}(e,qr(t),n)}else Mr(t)&&Fr(t,(function(t){Ci(e,t)}))}function xi(e,t){var n=Ni(e,t),r=qr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=ke(n,l.path),f=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=li)f=!0,u="maxretry",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else{var d=ki(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Xr("transaction failed: Data returned ",p,l.path);var g=ft(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(g=g.updatePriority(d.getPriority()));var m=l.currentWriteId,v=pi(e),y=Ar(g,d,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=yi(e),a.splice(a.indexOf(m),1),i=(i=i.concat(ar(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ur(e.serverSyncTree_,m,!0))}else f=!0,u="nodata",i=i.concat(ur(e.serverSyncTree_,l.currentWriteId,!0))}ai(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ri(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Ci(e,e.transactionQueueTree_)}(e,Pi(e,n),r),r}function Ni(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);null!==n&&void 0===Lr(r);)r=Dr(r,n),n=ye(t=be(t));return r}function Pi(e,t){var n=[];return Ai(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ai(e,t,n){var r=Lr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Fr(t,(function(t){Ai(e,t,n)}))}function Ri(e,t){var n=Lr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,jr(t,n.length>0?n:void 0)}Fr(t,(function(t){Ri(e,t)}))}function Oi(e,t){var n=qr(Ni(e,t)),r=Dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),Ur(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Lr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ur(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?jr(t,void 0):n.length=a+1,ai(e.eventQueue_,qr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Li=function(e,t){var n=ji(e),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new me(n.pathString)}},ji=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Mi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Fi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ui=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),qi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return bi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ti("OnDisconnect.remove",this._path);var e=new o.Deferred;return wi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ti("OnDisconnect.set",this._path),Yr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return wi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ti("OnDisconnect.setWithPriority",this._path),Yr("OnDisconnect.setWithPriority",e,this._path,!1),$r("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ft(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&jt(e.onDisconnect_,t,o),Ei(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ti("OnDisconnect.update",this._path),Qr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&L(n,(function(n,r){var i=ft(r);jt(e.onDisconnect_,Te(t,n),i)})),Ei(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Vi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ee(this._path)?null:we(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ki(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Rt(this._queryParams),t=O(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Rt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=xe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function zi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ve){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==x)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===rt){if(null!=t&&!Gr(t)||null!=n&&!Gr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof dt||e.getIndex()===gt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ki=function(e){function t(t,n){return e.call(this,t,n,new Ct,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ie(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Vi),Hi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new me(t),r=Xi(this.ref,t);return new e(this._node.getChild(n),r,rt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Xi(n.ref,r),rt))}))},e.prototype.hasChild=function(e){var t=new me(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Gi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Xi(e._root,t):e._root}function Yi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Li(t,e._repo.repoInfo_.nodeAdmin);ni("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Gi(e,n.path.toString())}function Xi(e,t){return null===ye((e=(0,o.getModularInstance)(e))._path)?ei("child","path",t,!1):Zr("child","path",t,!1),new Ki(e._repo,Te(e._path,t))}function Qi(e,t){e=(0,o.getModularInstance)(e),ti("set",e._path),Yr("set",t,e._path,!1);var n=new o.Deferred;return _i(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t){Qr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ti(e,"update",{path:t.toString(),value:n});var i=!0,o=pi(e),a={};if(L(n,(function(n,r){i=!1,a[n]=Pr(Te(t,n),ft(r),e.serverSyncTree_,o)})),i)S("update() called with empty data.  Don't do anything."),Ei(0,r,"ok",void 0);else{var s=yi(e),u=sr(e.serverSyncTree_,t,a,s);ii(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||k("update at "+t+" failed: "+n);var a=ur(e.serverSyncTree_,s,!o),u=a.length>0?xi(e,t):t;ai(e.eventQueue_,u,a),Ei(0,r,n,i)})),L(n,(function(n){var r=Oi(e,Te(t,n));xi(e,r)})),ai(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=dr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ft(n).withIndex(t._queryParams.getIndex()),i=cr(e.serverSyncTree_,t._path,r);return oi(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ti(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Hi(t,new Ki(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Mi("value",this,new Hi(e.snapshotNode,new Ki(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Xi(new Ki(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Mi(e.type,this,new Hi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Si(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ui(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ye(t._path)?hr(e.infoSyncTree_,t,n):hr(e.serverSyncTree_,t,n),oi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Si(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Ui(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),Si(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Yr("endAt",this._value,e._path,!0);var t=Nt(e._queryParams,this._value,this._key);if(Wi(t),Bi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Yr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ve?("string"===typeof t&&(t=_t(t)),r=Nt(e,t,n)):r=Nt(e,t,null==n?x:_t(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Wi(t),Bi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Yr("startAt",this._value,e._path,!0);var t=xt(e._queryParams,this._value,this._key);if(Wi(t),Bi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Yr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ve?("string"===typeof t&&(t=yt(t)),r=xt(e,t,n)):r=xt(e,t,null==n?N:yt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Wi(t),Bi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vi(e._repo,e._path,t,e._orderByCalled)},t}(uo);var po=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var go=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);var mo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){zi(e,"orderByChild");var t=new me(this._path);if(Ee(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new dt(t),r=Pt(e._queryParams,n);return Bi(r),new Vi(e._repo,e._path,r,!0)},t}(uo);var vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){zi(e,"orderByKey");var t=Pt(e._queryParams,Ve);return Bi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){zi(e,"orderByPriority");var t=Pt(e._queryParams,rt);return Bi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var _o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){zi(e,"orderByValue");var t=Pt(e._queryParams,gt);return Bi(t),new Vi(e._repo,e._path,t,!0)},t}(uo);var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Yr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new ho(this._value,this._key)._apply(e))},t}(uo);function wo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){s=c.value._apply(s)}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Un,"__referenceConstructor has already been defined"),Un=e}(Ki),function(e){(0,o.assert)(!Hn,"__referenceConstructor has already been defined"),Hn=e}(Ki);var So="FIREBASE_DATABASE_EMULATOR_HOST",Io={},To=!1;function Eo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Li(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/e-com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[So]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Li(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new K(K.OWNER):new W(e.name,e.options,t);ni("Invalid Firebase Database URL",s),Ee(s.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Io[t.name];i||(i={},Io[t.name]=i);var o=i[e.toURLString()];o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new hi(e,To,n,r),i[e.toURLString()]=o,o}(u,e,l,new B(e.name,n));return new ko(h,e)}var ko=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(fi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Io[t];n&&n[e.key]===e||E("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ii(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")},e}();function Co(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new K(s)}!function(e,t,n,r){e.repoInfo_=new $(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function xo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ci)}var No={".sv":"timestamp"};var Po=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Ao(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ti("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){Ti(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ki(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Xr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Dr(e.transactionQueueTree_,t),h=Lr(l)||[];h.push(s),jr(l,h);var f=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(f=(0,o.safeGet)(c,".priority"),(0,o.assert)(Gr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(fr(e.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();var d=pi(e),p=ft(c,f),g=Ar(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=yi(e);var v=ar(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);ai(e.eventQueue_,t,v),Ci(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Hi(r,new Ki(e._repo,e._path),rt),a.resolve(new Po(n,i)))}),s,i),a.promise}var Ro=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Oo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Do=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Zr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new jo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Do(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Do(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Do(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new po(e)}(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new go(e)}(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,wo(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zr("orderByChild","path",e,!1),new mo(e)}(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,wo(this._delegate,new vo))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,wo(this._delegate,new yo))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,wo(this._delegate,new _o))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return void 0===e&&(e=null),Jr("startAt","key",t,!0),new ho(e,t)}(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("startAfter","key",t,!0),new fo(e,t)}(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endAt","key",t,!0),new co(e,t)}(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("endBefore","key",t,!0),new lo(e,t)}(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,wo(this._delegate,function(e,t){return Jr("equalTo","key",t,!0),new bo(e,t)}(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new jo(this.database,new Ki(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),jo=function(e){function t(t,n){var r=e.call(this,t,new Vi(n._repo,n._path,new Ct,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Xi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=$i(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(ti("setWithPriority",e._path),Yr("setWithPriority",t,e._path,!1),$r("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return _i(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=function(e){return ti("remove",e._path),Qi(e,null)}(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Ao(this._delegate,e,{applyLocally:n}).then((function(e){return new Oo(e.committed,new Do(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=(0,o.getModularInstance)(e),ti("setPriority",e._path),$r("setPriority",t,!1);var n=new o.Deferred;return _i(e._repo,Te(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=function(e,t){e=(0,o.getModularInstance)(e),ti("push",e._path),Yr("push",t,e._path,!0);var n,r=di(e._repo),i=vt(r),a=Xi(e,i),s=Xi(e,i);return n=null!=t?Qi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ti("Reference.onDisconnect",this._delegate._path),new Ro(new qi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lo),Mo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Co(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof jo){var t=Yi(this._delegate,e.toString());return new jo(this,t)}t=Gi(this._delegate,e);return new jo(this,t)},e.prototype.refFromURL=function(e){(0,o.validateArgCount)("database.refFromURL",1,1,arguments.length);var t=Yi(this._delegate,e);return new jo(this,t)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),e=this._delegate,(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),void Ii(e._repo);var e},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),xo(this._delegate)},e.ServerValue={TIMESTAMP:No,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Fo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new qt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);L(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Mo(Eo(t,l,void 0,n,u),t),namespace:a}}}),Uo=Me;Me.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Me.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var qo=le,Vo=$,zo=Object.freeze({__proto__:null,DataConnection:Uo,RealTimeConnection:qo,hijackHash:function(e){var t=Me.prototype.put;return Me.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Me.prototype.put=t}},ConnectionTarget:Vo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){To=e}(e)}}),Bo=Mo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Mo(Eo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:jo,Query:Lo,Database:Mo,DataSnapshot:Do,enableLogging:w,INTERNAL:Fo,ServerValue:Bo,TEST_ACCESS:zo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.8"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},971:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return A},FirebaseError:function(){return P},MAX_VALUE_MILLIS:function(){return se},RANDOM_FACTOR:function(){return ue},Sha1:function(){return G},areCookiesEnabled:function(){return x},assert:function(){return o},assertionError:function(){return a},async:function(){return Q},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return ce},contains:function(){return q},createMockUserToken:function(){return p},createSubscribe:function(){return Y},decode:function(){return L},deepCopy:function(){return h},deepExtend:function(){return f},errorPrefix:function(){return Z},extractQuerystring:function(){return H},getGlobal:function(){return N},getModularInstance:function(){return he},getUA:function(){return g},isAdmin:function(){return U},isBrowser:function(){return y},isBrowserExtension:function(){return _},isElectron:function(){return w},isEmpty:function(){return z},isIE:function(){return S},isIndexedDBAvailable:function(){return k},isMobileCordova:function(){return m},isNode:function(){return v},isNodeSdk:function(){return T},isReactNative:function(){return b},isSafari:function(){return E},isUWP:function(){return I},isValidFormat:function(){return F},isValidTimestamp:function(){return j},issuedAtTime:function(){return M},jsonEval:function(){return O},map:function(){return B},ordinal:function(){return le},querystring:function(){return W},querystringDecode:function(){return K},safeGet:function(){return V},stringLength:function(){return ie},stringToByteArray:function(){return re},stringify:function(){return D},validateArgCount:function(){return J},validateCallback:function(){return te},validateContextObject:function(){return ne},validateIndexedDBOpenable:function(){return C},validateNamespace:function(){return ee}});var r=n(203),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return g().indexOf("Electron/")>=0}function S(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function E(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function x(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),A=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new P(i,s,r)},e}();var R=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=O(l(o[0])||""),n=O(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},j=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},M=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},F=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function K(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function H(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var G=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Y(e,t){var n=new X(e,t);return n.subscribe.bind(n)}var X=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Q(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function $(){}var J=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Z(e,t){return e+" failed: "+t+" argument "}function ee(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(Z(e,"namespace")+"must be a valid firebase namespace.")}function te(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Z(e,t)+"must be a valid function.")}function ne(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Z(e,t)+"must be a valid context object.")}var re=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ie=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},oe=1e3,ae=2,se=144e5,ue=.5;function ce(e,t,n){void 0===t&&(t=oe),void 0===n&&(n=ae);var r=t*Math.pow(n,e),i=Math.round(ue*r*(Math.random()-.5)*2);return Math.min(se,r+i)}function le(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);var t=e%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function he(e){return e&&e._delegate?e._delegate:e}},610:function(e,t,n){"use strict";n.r(t),n.d(t,{createBrowserHistory:function(){return T},createHashHistory:function(){return P},createLocation:function(){return m},createMemoryHistory:function(){return R},createPath:function(){return g},locationsAreEqual:function(){return v},parsePath:function(){return p}});var r=n(462);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(554);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=p(e)).state=t:(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",S="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),_||(0,c.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,p=o.keyLength,v=void 0===p?6:p,T=e.basename?d(l(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=f(o,T)),m(o,r,n)}function k(){return Math.random().toString(36).substr(2,v)}var C=y();function x(e){(0,r.Z)(q,e),q.length=t.length,C.notifyListeners(q.location,q.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(E(e.state))}function P(){R(E(I()))}var A=!1;function R(e){if(A)A=!1,x();else{C.confirmTransitionTo(e,"POP",h,(function(t){t?x({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,j(i))}(e)}))}}var O=E(I()),D=[O.key];function L(e){return T+g(e)}function j(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(w,N),i&&window.addEventListener(S,P)):0===M&&(window.removeEventListener(w,N),i&&window.removeEventListener(S,P))}var U=!1;var q={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",o=m(e,r,k(),q.location);C.confirmTransitionTo(o,i,h,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,x({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=m(e,r,k(),q.location);C.confirmTransitionTo(o,i,h,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=o.key),x({action:i,location:o})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=C.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var E="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(C(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),_||(0,c.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=k[s],p=h.encodePath,v=h.decodePath;function w(){var e=v(x());return u&&(e=f(e,u)),m(e)}var S=y();function I(e){(0,r.Z)(q,e),q.length=t.length,S.notifyListeners(q.location,q.action)}var T=!1,P=null;function A(){var e,t,n=x(),r=p(n);if(n!==r)N(r);else{var i=w(),a=q.location;if(!T&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===g(i))return;P=null,function(e){if(T)T=!1,I();else{var t="POP";S.confirmTransitionTo(e,t,o,(function(n){n?I({action:t,location:e}):function(e){var t=q.location,n=L.lastIndexOf(g(t));-1===n&&(n=0);var r=L.lastIndexOf(g(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,j(i))}(e)}))}}(i)}}var R=x(),O=p(R);R!==O&&N(O);var D=w(),L=[g(D)];function j(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(E,A):0===M&&window.removeEventListener(E,A)}var U=!1;var q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+p(u+g(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,q.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),i=p(u+t);if(x()!==i){P=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(g(q.location)),a=L.slice(0,o+1);a.push(t),L=a,I({action:n,location:r})}else I()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,q.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=g(r),i=p(u+t);x()!==i&&(P=t,N(i));var o=L.indexOf(g(q.location));-1!==o&&(L[o]=t),I({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return q}function A(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function h(e){(0,r.Z)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=A(s,0,o.length-1),p=o.map((function(e){return m(e,void 0,"string"===typeof e?f():e.key||f())})),v=g;function _(e){var t=A(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=m(e,t,f(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,f(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,h({action:r,location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),g=u(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{c(t,v,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case E:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,Te=null;function Ee(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function ke(e){Ie?Te?Te.push(e):Te=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Te;if(Te=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return xe(e,t,n)}finally{Pe=!1,(null!==Ie||null!==Te)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ue=null,qe={onError:function(e){je=!0,Me=e}};function Ve(e,t,n,r,i,o,a,s,u){je=!1,Me=null,Le.apply(qe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,It,Tt,Et,kt=!1,Ct=[],xt=null,Nt=null,Pt=null,At=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function qt(){kt=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Vt(xt,e),null!==Nt&&Vt(Nt,e),null!==Pt&&Vt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Bt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=_t,o=Bt.transition;Bt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Bt.transition=o}}function Ht(e,t,n,r){var i=_t,o=Bt.transition;Bt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Bt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=jt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=jt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,jt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,jt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&Wr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=M({},cn,{view:0,detail:0}),fn=on(hn),dn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),gn=on(M({},dn,{dataTransfer:0})),mn=on(M({},hn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function En(){return Tn}var kn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(kn),xn=on(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(An),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Yn(e){Fr(e,0)}function Xn(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Tr={};function Er(e){if(Ir[e])return Ir[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Ir[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Er("animationend"),Cr=Er("animationiteration"),xr=Er("animationstart"),Nr=Er("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),je){if(!je)throw Error(o(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||qr(t,!1,e),qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,qr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case kr:case Cr:case xr:u=vn;break;case Nr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Re(p,f))&&l.push(Kr(p,g,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,g=l),h=g,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Yr(a,s,u,l,!1),null!==c&&null!==h&&Yr(a,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Wn(s))if($n)m=ar;else{m=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?qn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Hr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:v}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Re(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Si=[],Ii=-1;function Ti(e){return{current:e}}function Ei(e){0>Ii||(e.current=Si[Ii],Si[Ii]=null,Ii--)}function ki(e,t){Ii++,Si[Ii]=e.current,e.current=t}var Ci={},xi=Ti(Ci),Ni=Ti(!1),Pi=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));ki(xi,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(xi),ki(xi,e)):Ei(Ni),ki(Ni,n)}var Fi=null,Ui=!1,qi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!qi&&null!==Fi){qi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{_t=t,qi=!1}}return null}var Bi=[],Wi=0,Ki=null,Hi=0,Gi=[],Yi=0,Xi=null,Qi=1,$i="";function Ji(e,t){Bi[Wi++]=Hi,Bi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Xi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=Bi[--Wi],Bi[Wi]=null,Hi=Bi[--Wi],Bi[Wi]=null;for(;e===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ti(null),_o=null,bo=null,wo=null;function So(){wo=bo=_o=null}function Io(e){var t=yo.current;Ei(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Mo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),jo(t,e,r))}};function Bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Ri(t)?Pi:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=qo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Ri(t)?Pi:xi.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===qo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Xo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=jc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function g(i,o,s,u){for(var c=null,l=null,h=o,g=o=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=a(v,o,g),null===l?c=v:l.sibling=v,l=v,h=m}if(g===s.length)return n(i,h),io&&Ji(i,g),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===l?c=h:l.sibling=h,l=h);return io&&Ji(i,g),c}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=a(m,o,g),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=d(i,g,y.value,c);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,m),null===h?l=_:h.sibling=_,h=_,g=v}if(y.done)return n(i,g),io&&Ji(i,m),l;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return io&&Ji(i,m),l}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===I){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Xo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===I?((o=jc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Lc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(L(a))return m(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Qo(!0),Jo=Qo(!1),Zo={},ea=Ti(Zo),ta=Ti(Zo),na=Ti(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),ki(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ua=Ti(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,_a=!1,ba=0,wa=0;function Sa(){throw Error(o(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,va=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(_a)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function Ca(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function xa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ga.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=ga,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Wa(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Ma(e)}function La(e,t,n){return n((function(){ja(t)&&Ma(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ma(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qa(){return Ca().memoizedState}function Va(e,t,n,r){var i=ka();ga.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ga.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Ba(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return za(2048,8,e,t)}function Ka(e,t){return za(4,2,e,t)}function Ha(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function Xa(){}function Qa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Mu|=n,e.baseState=!0),t)}function Za(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){_a=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ko,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Fa,useDebugValue:Xa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Pu.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Qa,useContext:ko,useEffect:Wa,useImperativeHandle:Ya,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:$a,useReducer:Na,useRef:qa,useState:function(){return Na(xa)},useDebugValue:Xa,useDeferredValue:function(e){return Ja(Ca(),ma.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Ca().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},cs={readContext:ko,useCallback:Qa,useContext:ko,useEffect:Wa,useImperativeHandle:Ya,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:$a,useReducer:Pa,useRef:qa,useState:function(){return Pa(xa)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ca();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Pa(xa)[0],Ca().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Hu=r),fs(0,t)},n}function gs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Ta(e,t,n,r,o,i),n=Ea(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Is(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Du,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Ri(n)?Pi:xi.current;return o=Ai(t,o),Eo(t,i),n=Ta(e,t,n,r,o,i),r=Ea(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(Ri(n)){var o=!0;ji(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ko(c):c=Ai(t,c=Ri(n)?Pi:xi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ko(t,a,r,c),Ao=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Ao?("function"===typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=Ao||Bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Ai(t,u=Ri(n)?Pi:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Ko(t,a,r,u),Ao=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Ao?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(c=Ao||Bo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ks(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function As(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ls,js={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=js,e):Us(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,qs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=jc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=js,a);if(0===(1&t.mode))return qs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,qs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return mc(),qs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dc(r,s):(s=jc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qs(e,t,n,r){return null!==r&&go(r),$o(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ei(Ni),Ei(xi),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Os(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&_(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return Io(t.type._context),Gs(t),null;case 19:if(Ei(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Bu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Ni),Ei(xi),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return Io(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(a,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),_e(u,s);var l=_e(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):_(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=$e())),4&r&&gu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||h,mu(t,e),$s=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){Su(f);continue}}null!==p?(p.return=d,Zs=p):Su(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&gu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Qs;var c=$s;if(Qs=a,($s=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Iu(i):null!==u?(u.return=a,Zs=u):Iu(i);for(;null!==o;)Zs=o,bu(o,t,n),o=o.sibling;Zs=i,Qs=s,$s=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ou(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Iu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Tu,Eu=Math.ceil,ku=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,xu=b.ReactCurrentBatchConfig,Nu=0,Pu=null,Au=null,Ru=0,Ou=0,Du=Ti(0),Lu=0,ju=null,Mu=0,Fu=0,Uu=0,qu=null,Vu=null,zu=0,Bu=1/0,Wu=null,Ku=!1,Hu=null,Gu=null,Yu=!1,Xu=null,Qu=0,$u=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?$e():-1!==Zu?Zu:Zu=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==mo.transition?(0===ec&&(ec=gt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<$u)throw $u=0,Ju=null,Error(o(185));vt(e,n,r),0!==(2&Nu)&&e===Pu||(e===Pu&&(0===(2&Nu)&&(Fu|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=$e()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Pu?Ru:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Nu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(o(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ft(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nu;Nu|=2;var a=gc();for(Pu===e&&Ru===t||(Wu=null,Bu=$e()+500,dc(e,t));;)try{_c();break}catch(u){pc(e,u)}So(),ku.current=a,Nu=i,null!==Au?t=0:(Pu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=ju,dc(e,0),uc(e,r),ic(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=ju,dc(e,0),uc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Vu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vu,Wu),t);break}Sc(e,Vu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vu,Wu),r);break}Sc(e,Vu,Wu);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=qu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(o(327));Ic();var t=ft(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=ju,dc(e,0),uc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vu,Wu),ic(e,$e()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=$e()+500,Ui&&zi())}}function hc(e){null!==Xu&&0===Xu.tag&&0===(6&Nu)&&Ic();var t=Nu;Nu|=1;var n=xu.transition,r=_t;try{if(xu.transition=null,_t=1,e)return e()}finally{_t=r,xu.transition=n,0===(6&(Nu=t))&&zi()}}function fc(){Ou=Du.current,Ei(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Ei(Ni),Ei(xi),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:Io(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pu=e,Au=e=Dc(e.current,null),Ru=Ou=t,Lu=0,ju=null,Uu=Fu=Mu=0,Vu=qu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Au;try{if(So(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,_a=!1,ba=0,Cu.current=null,null===n||null===n.return){Lu=1,ju=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,u,0,t),go(ls(c,u));break e}}a=c=ls(c,u),4!==Lu&&(Lu=2),null===qu?qu=[a]:qu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Mo(a,gs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function gc(){var e=ku.current;return ku.current=as,null===e?as:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Pu,Ru)}function vc(e,t){var n=Nu;Nu|=2;var r=gc();for(Pu===e&&Ru===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Nu=n,ku.current=r,null!==Au)throw Error(o(261));return Pu=null,Ru=0,Lu}function yc(){for(;null!==Au;)bc(Au)}function _c(){for(;null!==Au&&!Xe();)bc(Au)}function bc(e){var t=Tu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Cu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Ou)))return void(Au=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function Sc(e,t,n){var r=_t,i=xu.transition;try{xu.transition=null,_t=1,function(e,t,n,r){do{Ic()}while(null!==Xu);if(0!==(6&Nu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pu&&(Au=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Pc(tt,(function(){return Ic(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xu.transition,xu.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Cu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=nu,nu=!1}(e,n),vu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Qe(),Nu=u,_t=s,xu.transition=a}else e.current=n;if(Yu&&(Yu=!1,Xu=e,Qu=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Hu,Hu=null,e;0!==(1&Qu)&&0!==e.tag&&Ic(),a=e.pendingLanes,0!==(1&a)?e===Ju?$u++:($u=0,Ju=e):$u=0,zi()}(e,t,n,r)}finally{xu.transition=i,_t=r}return null}function Ic(){if(null!==Xu){var e=bt(Qu),t=xu.transition,n=_t;try{if(xu.transition=null,_t=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Qu=0,0!==(6&Nu))throw Error(o(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,a)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(au(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var _=e.current;for(Zs=_;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=_;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(S){Ec(u,u.return,S)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Nu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{_t=n,xu.transition=t}}return!1}function Tc(e,t,n){e=Lo(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Lo(t,e=gs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>$e()-zu?dc(e,0):Uu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return jc(n.children,i,a,t);case T:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=a,e;case P:return(e=Rc(19,n,t,i)).elementType=P,e.lanes=a,e;case O:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case C:s=9;break e;case x:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new qc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=zc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rc(e,i,a,o),jo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(ki(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ai(t,xi.current);Eo(t,n),i=Ta(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===A)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Is(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=ko(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Is(e,t,r,i=vo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,Eo(t,n),Wo(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(a)}Qc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Qc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nu)&&(Bu=$e()+500,zi()))}break;case 13:hc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Tt=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[_i,bi,wi,ke,Ce,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},542:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n(931),o=r(n(791)),a=n(610);n(7),n(501);var s=r(n(90));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createBrowserHistory(t.props),t}return c(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=a.createHashHistory(t.props),t}return c(t,e),t.prototype.render=function(){return o.createElement(i.Router,{history:this.history,children:this.props.children})},t}(o.Component),d=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?a.createLocation(e,null,null,t):e},g=function(e){return e},m=o.forwardRef;void 0===m&&(m=g);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=l(e,["innerRef","navigate","onClick"]),s=a.target,c=u({},a,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return c.ref=g!==m&&t||n,o.createElement("a",c)})),y=m((function(e,t){var n=e.component,r=void 0===n?v:n,a=e.replace,c=e.to,h=e.innerRef,f=l(e,["component","replace","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||s(!1);var n=e.history,i=p(d(c,e.location),e.location),l=i?n.createHref(i):"",v=u({},f,{href:l,navigate:function(){var t=d(c,e.location);(a?n.replace:n.push)(t)}});return g!==m?v.ref=t||h:v.innerRef=h,o.createElement(r,v)}))})),_=function(e){return e},b=o.forwardRef;void 0===b&&(b=_);var w=b((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,c=void 0===a?"active":a,h=e.activeStyle,f=e.className,g=e.exact,m=e.isActive,v=e.location,w=e.sensitive,S=e.strict,I=e.style,T=e.to,E=e.innerRef,k=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(i.__RouterContext.Consumer,null,(function(e){e||s(!1);var n=v||e.location,a=p(d(T,n),n),l=a.pathname,C=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=C?i.matchPath(n.pathname,{path:C,exact:g,sensitive:w,strict:S}):null,N=!!(m?m(x,n):x),P=N?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(f,c):f,A=N?u({},I,{},h):I,R=u({"aria-current":N&&r||null,className:P,style:A,to:a},k);return _!==b?R.ref=t||E:R.innerRef=E,o.createElement(y,R)}))}));Object.defineProperty(t,"k6",{enumerable:!0,get:function(){return i.useHistory}}),Object.defineProperty(t,"TH",{enumerable:!0,get:function(){return i.useLocation}}),t.VK=h,t.rU=y},931:function(e,t,n){"use strict";n.r(t),n.d(t,{MemoryRouter:function(){return T},Prompt:function(){return k},Redirect:function(){return A},Route:function(){return j},Router:function(){return I},StaticRouter:function(){return z},Switch:function(){return B},__HistoryContext:function(){return b},__RouterContext:function(){return S},generatePath:function(){return P},matchPath:function(){return L},useHistory:function(){return H},useLocation:function(){return G},useParams:function(){return Y},useRouteMatch:function(){return X},withRouter:function(){return W}});var r=n(721),i=n(791),o=n(610),a=n(7),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var l=i.createContext||function(e,t){var n,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,r.Z)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);l.childContextTypes=((n={})[a]=s().object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.Z)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return h.contextTypes=((o={})[a]=s().object,o),{Provider:l,Consumer:h}},h=l,f=n(554),d=n(462),p=n(239),g=n.n(p),m=(n(228),n(366)),v=n(110),y=n.n(v),_=function(e){var t=h();return t.displayName=e,t},b=_("Router-History"),w=function(e){var t=h();return t.displayName=e,t},S=w("Router"),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,r.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.createElement(S.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);var T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,o.createMemoryHistory)(t.props),t}return(0,r.Z)(t,e),t.prototype.render=function(){return i.createElement(I,{history:this.history,children:this.props.children})},t}(i.Component);var E=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);function k(e){var t=e.message,n=e.when,r=void 0===n||n;return i.createElement(S.Consumer,null,(function(e){if(e||(0,f.Z)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.createElement(E,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var C={},x=1e4,N=0;function P(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(C[e])return C[e];var t=g().compile(e);return N<x&&(C[e]=t,N++),t}(e)(t,{pretty:!0})}function A(e){var t=e.computedMatch,n=e.to,r=e.push,a=void 0!==r&&r;return i.createElement(S.Consumer,null,(function(e){e||(0,f.Z)(!1);var r=e.history,s=e.staticContext,u=a?r.push:r.replace,c=(0,o.createLocation)(t?"string"===typeof n?P(n,t.params):(0,d.Z)({},n,{pathname:P(n.pathname,t.params)}):n);return s?(u(c),null):i.createElement(E,{onMount:function(){u(c)},onUpdate:function(e,t){var n=(0,o.createLocation)(t.to);(0,o.locationsAreEqual)(n,(0,d.Z)({},c,{key:n.key}))||u(c)},to:n})}))}var R={},O=1e4,D=0;function L(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=R[n]||(R[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return D<O&&(r[e]=o,D++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var j=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(S.Consumer,null,(function(t){t||(0,f.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?L(n.pathname,e.props):t.match,o=(0,d.Z)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),i.createElement(S.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:u?i.createElement(u,o):c?c(o):null:"function"===typeof s?s(o):null)}))},t}(i.Component);function M(e){return"/"===e.charAt(0)?e:"/"+e}function F(e,t){if(!e)return t;var n=M(e);return 0!==t.pathname.indexOf(n)?t:(0,d.Z)({},t,{pathname:t.pathname.substr(n.length)})}function U(e){return"string"===typeof e?e:(0,o.createPath)(e)}function q(e){return function(){(0,f.Z)(!1)}}function V(){}var z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return V},t.handleBlock=function(){return V},t}(0,r.Z)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,a=n.context,s=void 0===a?{}:a;s.action=t,s.location=function(e,t){return e?(0,d.Z)({},t,{pathname:M(e)+t.pathname}):t}(i,(0,o.createLocation)(e)),s.url=U(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,a=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,c=(0,m.Z)(e,["basename","context","location"]),l={createHref:function(e){return M(n+U(e))},action:"POP",location:F(n,(0,o.createLocation)(u)),push:this.handlePush,replace:this.handleReplace,go:q(),goBack:q(),goForward:q(),listen:this.handleListen,block:this.handleBlock};return i.createElement(I,(0,d.Z)({},c,{history:l,staticContext:a}))},t}(i.Component);var B=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(S.Consumer,null,(function(t){t||(0,f.Z)(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?L(o.pathname,(0,d.Z)({},e.props,{path:a})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);function W(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,m.Z)(t,["wrappedComponentRef"]);return i.createElement(S.Consumer,null,(function(t){return t||(0,f.Z)(!1),i.createElement(e,(0,d.Z)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,y()(n,e)}var K=i.useContext;function H(){return K(b)}function G(){return K(S).location}function Y(){var e=K(S).match;return e?e.params:{}}function X(e){var t=G(),n=K(S).match;return e?L(t.pathname,e):n}},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],g=n[2],m=n[3],v=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,S="+"===_||"*"===_,I="?"===_||"*"===_,T=n[2]||l,E=v||y;r.push({name:m||o++,prefix:g||"",delimiter:T,optional:I,repeat:S,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function S(e){return w(e)===h}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,O(S);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var o=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,T=!1,E=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function P(){if(null!==E){var e=t.unstable_now();x=e;var n=!0;try{n=E(!0,e)}finally{n?I():(T=!1,E=null)}}else T=!1}if("function"===typeof _)I=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,I=function(){R.postMessage(null)}}else I=function(){v(P,0)};function O(e){E=e,T||(T=!0,I())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(k),k=-1):m=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,O(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},90:function(e){"use strict";var t="Invariant failed";e.exports=function(e,n){if(!e)throw new Error(t)}},501:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},721:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:function(){return i}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},554:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t,o=n?"".concat(i,": ").concat(n):i;throw new Error(o)}}},203:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return D},__assign:function(){return o},__asyncDelegator:function(){return E},__asyncGenerator:function(){return T},__asyncValues:function(){return k},__await:function(){return I},__awaiter:function(){return p},__classPrivateFieldGet:function(){return A},__classPrivateFieldIn:function(){return O},__classPrivateFieldSet:function(){return R},__createBinding:function(){return m},__decorate:function(){return s},__disposeResources:function(){return j},__esDecorate:function(){return c},__exportStar:function(){return v},__extends:function(){return i},__generator:function(){return g},__importDefault:function(){return P},__importStar:function(){return N},__makeTemplateObject:function(){return C},__metadata:function(){return d},__param:function(){return u},__propKey:function(){return h},__read:function(){return _},__rest:function(){return a},__runInitializers:function(){return l},__setFunctionName:function(){return f},__spread:function(){return b},__spreadArray:function(){return S},__spreadArrays:function(){return w},__values:function(){return y}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var m=(0,n[d])("accessor"===u?{get:h.get,set:h.set}:h[c],p);if("accessor"===u){if(void 0===m)continue;if(null===m||"object"!==typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(h.get=s),(s=a(m.set))&&(h.set=s),(s=a(m.init))&&i.unshift(s)}else(s=a(m))&&("field"===u?i.unshift(s):h[c]=s)}l&&Object.defineProperty(l,r.name,h),f=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"===typeof e?e:"".concat(e)}function f(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function d(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof I?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:I(e[r](t)),done:!1}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return x(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function R(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function D(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var L="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(o){t(o)}}if(e.hasError)throw e.error}()}t.default={__extends:i,__assign:o,__rest:a,__decorate:s,__param:u,__metadata:d,__awaiter:p,__generator:g,__createBinding:m,__exportStar:v,__values:y,__read:_,__spread:b,__spreadArrays:w,__spreadArray:S,__await:I,__asyncGenerator:T,__asyncDelegator:E,__asyncValues:k,__makeTemplateObject:C,__importStar:N,__importDefault:P,__classPrivateFieldGet:A,__classPrivateFieldSet:R,__classPrivateFieldIn:O,__addDisposableResource:D,__disposeResources:j}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9062d232.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="apneck:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/e-com/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkapneck=self.webpackChunkapneck||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(250);n.p;var r,i=n(931);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=[{id:0,image:"https://images.meesho.com/images/products/268290534/aqnp3_512.webp",brand:"addidas",title:"Fancy Stylish Regular Comfortable Imported Georgette black Dress",price:"300",prevPrice:"$500,00",newPrice:"300",company:"Nike",color:"pink",category:"middy",url1:"https://images.meesho.com/images/products/257914128/cv4tz_512.webp",url2:"https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcRYm6FKPf8buu40h8LbRCeIGf7DadinTm4SwtYTdTT2ue6F4tKS9CxNoJCPr8l6o-3HbHK8FZfC8nmDW56r-AvKl1_kVRIH63HefKpLOrqcTbsUDfpEJ9bh",url3:"https://images.meesho.com/images/products/268290533/3lkym_512.webp",details1:"Name : HOT SELLING BEAUTIFUL SHORT GEORGETTE DRESSES WITH DOORI (BELT)\n\n        Fabric : Georgette\n        \n        Sleeve Length : Three-Quarter Sleeves\n        \n        Pattern : Solid\n        \n        Sizes : \n        \n        S (Bust Size : 34 in)\n        \n        M (Bust Size : 36 in)\n        \n        HOT SELLING BEAUTIFUL SHORT GEORGETTE DRESSES WITH DOORI (BELT). BEST FOR CASUAL WEAR, BIRTHDAY, PARTY WEAR . YOU CAN WEAR IT WITH JEANS OR WEAR IT ALONE. SHORT GEORGETTE DRESSES SUITABLE FOR SUMMERS.\n        \n        Country of Origin : India",details2:""},{id:1,image:"https://images.meesho.com/images/products/144335285/0dwfi_512.webp",brand:"addida",title:"Vipri Womens Tops",price:"1000",company:"Vans",prevPrice:"$1000",newPrice:"1000",color:"black",category:"top",url1:"https://images.meesho.com/images/products/144335286/awkuc_512.webp",url2:"https://images.meesho.com/images/products/144335284/yzjrv_512.webp",url3:"https://images.meesho.com/images/products/144335282/3zk67_512.webp",details1:"Name : Vipri Women's Tops \n        \n        \n\n        Fabric : Georgette\n        \n        Sleeve Length : Three-Quarter Sleeves\n        \n        Pattern : Embroidered\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        XS, S, M, L, XL, XXL\n        \n        MARUTI ENTERPRISE PRESENT A NEW TOP'S fabric is fox georgette .this fabric feeling is soft and lower part of top is transparent\n        \n        Country of Origin : India",details2:""},{id:2,image:"https://images.meesho.com/images/products/263909494/mm1qa_512.webp",brand:"addida",title:"NOBEY Women's Solid Crepe Round Neck Fit And Flare Maxi Dress",price:"200",company:"Vans",prevPrice:"$140,00",newPrice:"200",color:"black",category:"tshirt",url1:"https://images.meesho.com/images/products/263909495/6h2gy_512.webp",url2:"https://images.meesho.com/images/products/263909496/m2mjh_512.webp",url3:"https://images.meesho.com/images/products/263909497/tfw2f_512.webp",details1:"",details2:""},{id:3,image:"https://rukminim2.flixcart.com/image/832/832/xif0q/shirt/5/4/k/l-234-j-turritopsis-original-imagnfwnxzckdueh.jpeg?q=70",brand:"addida",title:"Women Boxy, Regular Fit Printed Lapel Collar Casual Shirt",price:"400",prevPrice:"$600,00",newPrice:"400",company:"Nike",color:"black",category:"shirt",url1:"https://rukminim2.flixcart.com/image/832/832/xif0q/shirt/m/3/d/m-234-j-turritopsis-original-imagnfwnhyjnvs6f.jpeg?q=70",url2:"https://rukminim2.flixcart.com/image/832/832/xif0q/shirt/6/y/h/xxl-234-j-turritopsis-original-imagnfwnkckhcwvm.jpeg?q=70",url3:"https://rukminim2.flixcart.com/image/832/832/xif0q/shirt/h/b/e/l-234-j-turritopsis-original-imagnfwngghbymbf.jpeg?q=70",details1:"",details2:""},{id:4,image:"https://images.meesho.com/images/products/325951761/ivrly_512.webp",brand:"addida",title:"J Turritopsis Women's Cotton Casual Shirt",price:"400",prevPrice:"$700,00",newPrice:"400",company:"Nike",color:"black",category:"shirt",url1:"https://images.meesho.com/images/products/325951764/dbnnt_512.webp",url2:"https://images.meesho.com/images/products/325951765/ztzka_512.webp",url3:"https://images.meesho.com/images/products/325951763/cc9lg_512.webp",details1:"Name : J Turritopsis Women's Cotton Casual Shirt,\n\n        Fabric : Cotton,\n        \n        Sleeve Length : Short Sleeves,\n        \n        Pattern : Woven Design,\n        \n        Net Quantity (N) : 1,\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 25 in, Waist Size: 30 in, Hip Size: 36 in, Shoulder Size: 26 in)\n        \n        M (Bust Size : 36 in, Length Size: 25 in, Waist Size: 32 in, Hip Size: 38 in, Shoulder Size: 26 in)\n        \n        L (Bust Size : 38 in, Length Size: 25 in, Waist Size: 34 in, Hip Size: 40 in, Shoulder Size: 27 in)\n        \n        XL (Bust Size : 40 in, Length Size: 25 in, Waist Size: 36 in, Hip Size: 42 in, Shoulder Size: 27 in)\n        \n        XXL (Bust Size : 42 in, Length Size: 25 in, Waist Size: 38 in, Hip Size: 44 in, Shoulder Size: 28 in)\n        \n        J Turritopsis Presented Trendy Fashionable Oversize Shirts For Girls/Women.These cool, elegant, and stylish shirts are made of comfortable cotton. Extremely useful for daily usage like small gatherings, and certain selections could be used for party wear as well. The clothe is easily washable, long lasting, and light weight, so it makes it easy to maintain, put on and off your body. Goes great with either jeans or any other casual or formal trousers. Available in multi-colors to choose from.\n        \n        Country of Origin : India",details2:""},{id:5,image:"https://m.media-amazon.com/images/I/91jQzsvErIL._UY741_.jpg",brand:"addida",title:"DHRUVI TRENDZ Women Top",price:"600",company:"Vans",prevPrice:"$700,00",newPrice:"600",color:"blue",category:"top",url1:"https://m.media-amazon.com/images/I/91vVJCrlZsL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/91LlJJODAoL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/91dS7Gy10CL._SY550._SX._UX._SY._UY_.jpg",details1:"Name : J Turritopsis Women's Cotton Casual Shirt\n\n        Fabric : Cotton\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Woven Design\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 25 in, Waist Size: 30 in, Hip Size: 36 in, Shoulder Size: 26 in)\n        \n        M (Bust Size : 36 in, Length Size: 25 in, Waist Size: 32 in, Hip Size: 38 in, Shoulder Size: 26 in)\n        \n        L (Bust Size : 38 in, Length Size: 25 in, Waist Size: 34 in, Hip Size: 40 in, Shoulder Size: 27 in)\n        \n        XL (Bust Size : 40 in, Length Size: 25 in, Waist Size: 36 in, Hip Size: 42 in, Shoulder Size: 27 in)\n        \n        XXL (Bust Size : 42 in, Length Size: 25 in, Waist Size: 38 in, Hip Size: 44 in, Shoulder Size: 28 in)\n        \n        J Turritopsis Presented Trendy Fashionable Oversize Shirts For Girls/Women.These cool, elegant, and stylish shirts are made of comfortable cotton. Extremely useful for daily usage like small gatherings, and certain selections could be used for party wear as well. The clothe is easily washable, long lasting, and light weight, so it makes it easy to maintain, put on and off your body. Goes great with either jeans or any other casual or formal trousers. Available in multi-colors to choose from.\n        \n        Country of Origin : India",details2:'Care Instructions: Machine Wash ,\n        Fit Type: Regular Fit,\n        Occasion: Casual, Party, Beach, Formal\n        Fabric: Rayon || pattern: Printed || sleeves: half sleeve || style: Casual top,\n        Team it with a pair of jeggings, jeans, shorts and flats to step out in style,\n        This trendy top is designed for comfort and style\n        Please check size chart for the garments ,measurements and order a garment size that is at least 1" greater than your body measurement for the ease of putting on and taking off the garment.'},{id:6,image:"https://m.media-amazon.com/images/I/714Z-cLRXtL._UY741_.jpg",brand:"addidas",title:"KBZ Women's Rayon Floral Print Regular Wear Top",price:"400",prevPrice:"$600,00",newPrice:"400",company:"Nike",color:"red",category:"top",url1:"https://m.media-amazon.com/images/I/91B1lk+BPuL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/71oIwUD4bNL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/71uUREiNdcL._SY550._SX._UX._SY._UY_.jpg",details1:'Care Instructions: Hand Wash Only\n        Fit Type: Regular Fit\n        Fabric: Rayon || Product Length : TOP 28 Inches|| In Box : 1 TOP; Style Pattern: Printed and Flared || Neckline : Mandarin Collar || Sleeves: 3/4 Sleeves.<br>\n        Occasion : casual festive, wear || Highlight: Fabric Stitched button attached on neck line with loops on sleeves, pompom lace attached on bottom along.<br>\n        Please check KBZ designer size chart for the garments measurements and order a garment size that is at least 1" greater than your body measurement for the ease of putting on and taking off the garment. Size chart is given in the last of the images, first check and then Order Now.<br>\n        Disclaimer : Product Colour May Slightly Vary Due to Photographic Lighting Sources, Photo Editing or Your Monitor Settings.<br>\n        Material Composition: 100% Rayon; Fit Type: Regular Fit',details2:""},(r={id:7,image:"https://m.media-amazon.com/images/I/61jgcVhsKTL._UX679_.jpg",brand:"addida",title:"ERT Women's Solid Casual Embroidered Tops & Tunics",price:"300",company:"Vans",prevPrice:"$400,00",newPrice:"300"},s(r,"company","Nike"),s(r,"color","water"),s(r,"category","top"),s(r,"url1","https://m.media-amazon.com/images/I/61RnNKdxLlL._SY550._SX._UX._SY._UY_.jpg"),s(r,"url2","https://m.media-amazon.com/images/I/61wEKyVOUlL._SY550._SX._UX._SY._UY_.jpg"),s(r,"url3","https://m.media-amazon.com/images/I/61ATztQ9b4L._SY550._SX._UX._SY._UY_.jpg"),s(r,"details1","Care Instructions: Hand Wash Only,\n        Fit Type: Regular,\n        An Appliqu\xe9 is a de,vice applied to another surface. The technique is very common in some kinds of textiles, but may be applied to many materials. In the context of ceramics, for example, an appliqu\xe9 is a separate piece of clay added to the primary work, generally for the purpose of decoration.,\n        Size : S (36), M (38), L (40), XL (42), XXL (44), 3XL (46); Type : Regular Top,\n        Fabric : Rayon; Print : Printed; Color : Black, Green, Maroon, Peach, Saffron, Teal & Yellow,\n        Work Type : Embroidery; Wear : Casual, Party & Summer Wear,\n        Length : Regular; Sleeves : 3/4th Sleeves; Neck : Round,\n        In Package Conatin : 1 Top; Tags : Items Without Tags"),s(r,"details2",""),r),{id:8,image:"https://m.media-amazon.com/images/I/71X+G0feCEL._UX679_.jpg",brand:"addida",title:"Clear View Fashion Regular Tops for Women",price:"400",prevPrice:"$740,00",newPrice:"400",company:"Nike",color:"red",category:"tshirt",url1:"https://m.media-amazon.com/images/I/61PAeDfstcL._SX679._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/71GiYlNnT9S._SX679._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/71fu7vTNSQL._SX679._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Hand Wash Only\n        Fit, Type: Regular Fit,\n\n        ",details2:"An Appliqu\xe9 is a de,vice applied to another surface. The technique is very common in some kinds of textiles, but may be applied to many materials. In the context of ceramics, for example, an appliqu\xe9 is a separate piece of clay added to the primary work, generally for the purpose of decoration."},{id:9,image:"https://m.media-amazon.com/images/I/81pOec9jbOL._UY741_.jpg",brand:"addida",title:"Majestic Garments Cotton Embroidery Tunic Top for Women's",price:"200",prevPrice:"$400,00",newPrice:"200",company:"Nike",color:"pink",category:"top",url1:"https://m.media-amazon.com/images/I/81WqtrELGSL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/718ZI6DebDL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/712lZN7etaL._SY550._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Hand Wash Only,\n        Fit Type: Regular,\n        Style: Tunic, Neck Style: Round Neck,\n        Pattern: Embroidery Work Cotton,\n        Sleeve Type: 3/4 Sleeve; Fit Type: Regular Fit\n        Long in Height To pair with Jeans, Pants, Leggings, Shorty, etc.,\n        Lightweight, stretchy and comfortable Cotton Rib fabric, are super soft , stretchable and cozy feeling. Comfortable to wear all day long.",details2:""},{id:10,image:"https://m.media-amazon.com/images/I/31iBkPF554L.._SX._UX._SY._UY_.jpg",brand:"addida",title:"FNOCKS Women's Full Sleeve",price:"200",prevPrice:"$340,00",newPrice:"200",company:"Nike",color:"red",category:"shirt",url1:"https://m.media-amazon.com/images/I/51ZESyFmSgL._SX425._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/51ZESyFmSgL._SX425._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/41rIKhm-S1L._SX466._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Machine Wash,\n        Fit Type: Classic Fit,\n        Solid Shirts are made Cotton Lycra has ability to repel moisture, all centered around to give you well-draping, perfect fitting of your outfit.\n        Cotton shirts Soft and light on your skin, it also breathes very well.\n        Machine wash cold with short gentle cycle. Tumble dry low and do not bleach. Warm iron these easy-to-wear wrinkle free wardrobe staples, if needed.\n        Women Cotton Shirts Suitable for : Party, Formal, Casual and Business Work.",details2:""},{id:11,image:"https://m.media-amazon.com/images/I/61FVOeEOziL._UX679_.jpg",brand:"addidas",title:"High Star Oversized Solid Cotton Casual Shirt",price:"599",prevPrice:"$799,00",newPrice:"599",company:"Nike",color:"blue",category:"shirt",url1:"https://m.media-amazon.com/images/I/61lHczvibuL._SX522._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/61+FLhSrPBL._SX522._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/61QdJte9ZFL._SX522._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Machine Wash,\n        Fit Type: Oversized Fit,\n        The women's solid opaque oversized casual shirt is a comfortable and stylish piece of clothing suitable for various occasions.\n        It features a spread collar and long regular sleeves, giving it a classic and versatile look that can be dressed up or down.\n        Larger Then Usual Size, You can Buy One Size Smaller, The oversized fit adds a modern and trendy touch, providing ample room for movement and ensuring maximum comfort.\n        This Oversized Shirt Made from quality, opaque fabric, the shirt is both durable and breathable, making it a suitable choice for all-day wear.\n        This shirt is a versatile and fashionable addition to any wardrobe, providing comfort and style for different occasions.",details2:""},{id:12,image:"https://m.media-amazon.com/images/I/51WUNJfXhZL._UX679_.jpg",brand:"addida",title:"Women Boxy Fit Solid Casual Shirt",price:"999",prevPrice:"$1199,00",newPrice:"999",company:"Nike",color:"white",category:"shirt",url1:"https://m.media-amazon.com/images/I/61TGGsTtM+L._UY550_.jpg",url2:"https://m.media-amazon.com/images/I/51yL-b+pK+L._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/819Vo2VR9DL._SY550._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Machine Wash\n        Fit Type: Oversized Fit\n        Fit Type: Regular Fit\n        Size Details : S - 34 Chest/32 Waist , M - 36 Chest/34 Waist, L - 38 Chest/36 Waist , XL - 40 Chest/38 Waist\n        Product Length varies from 24.5 to 26.5 inches based on size available from S to XL\n        Sleeve: Full Sleeves\n        Occasion : Business, Party wear- Best suited with official attire.",details2:""},{id:13,image:"https://m.media-amazon.com/images/I/51919afKvvL._UX679_.jpg",brand:"addida",title:"Wedani Women's Casual Puff Sleeves Round Collor Solid Top",price:"250",prevPrice:"$450,00",newPrice:"250",company:"Nike",color:"black",category:"top",url1:"https://m.media-amazon.com/images/I/51AUD3T-qQL._SX569._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/51n81QIf75L._SX569._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/51bx+XBVYKL._SX522._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Dry Clean Only\n        Fit Type: Regular Fit\n        Fit Type: Regular\n        Fabric : Polyester\n        Sleeve Type : puff Sleeve\n        Neck : High-Neck\n        Style name: Western",details2:""},{id:14,image:"https://m.media-amazon.com/images/I/51nuBzIhr-L._UY550_.jpg",brand:"addida",title:"Women's Casual Office Wear",price:"500",prevPrice:"$600,00",newPrice:"500",company:"Nike",color:"white",category:"shirt",url1:"https://m.media-amazon.com/images/I/51YA7UFEGyL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/51-mLppsFDL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/5105mMW+pmL._SY550._SX._UX._SY._UY_.jpg",details1:'Care Instructions: Machine Wash\n        Fit Type: Regular Fit\n        Brand Name - ALL WAYS YOU || Item Type - ALL WAYS YOU Women\'s Blue Casual Office Wear Solid Full Cuff Sleeve Poly Crepe Formal Shirt for Women\n        Color - Blue || Size - X-Small || Sleeve Type - Full Cuff Sleeve || Neck Style - Collar\n        Pattern - Solid || Shirt Style - Formal || Fabric - Poly Crepe || Style - Western || Occasion - Casual Office Wear\n        The most recent formal shirt from "All Ways You" comes in a range of colours and is Solid and perfect for formal and casual wear. Both girls and women may wear the shirt for work or a casual hangout because it is made with well chosen colour combinations.\n        Easy to Maintain - Machine Wash or Hand Wash || Wash in Cold Water || Tumble Dry || Dry away from direct sunlight.',details2:""},{id:15,image:"https://images.meesho.com/images/products/42085383/jocfg_512.webp",brand:"addida",title:"Stylus Women Dresses",price:"299",prevPrice:"$499,00",newPrice:"299",company:"Nike",color:"black",category:"middy",url1:"https://images.meesho.com/images/products/42085384/ab16g_512.webp",url2:"https://images.meesho.com/images/products/42085387/cafbf_512.webp",url3:"https://images.meesho.com/images/products/42085389/bnw4o_512.webp",details1:"Name : Stylus Women Dresses,\n\n        Fabric : Crepe,\n        \n        Sleeve Length : Sleeveless,\n        \n        Pattern : Printed,\n        \n        Net Quantity (N) : 1,\n        \n        Sizes : \n        \n        S (Bust Size : 36 in, Length Size: 39 in)\n        \n        M (Bust Size : 38 in, Length Size: 39 in)\n        \n        L (Bust Size : 40 in, Length Size: 39 in)\n        \n        XL (Bust Size : 42 in, Length Size: 39 in)\n        \n        XXL (Bust Size : 44 in, Length Size: 39 in),\n        \n        Country of Origin : India",details2:""},{id:16,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:17,image:"https://m.media-amazon.com/images/I/91Ym3vMuIWL._UY879_.jpg",brand:"addida",title:"KETCH Women Shirt",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"blue",category:"top",url1:"https://m.media-amazon.com/images/I/91JyLa6NTGL._UY741_.jpg",url2:"https://m.media-amazon.com/images/I/91hLjBGYHhL._UY550_.jpg",url3:"https://m.media-amazon.com/images/I/913ji44KgTL._UY550_.jpg",details1:"Care Instructions: Machine Wash\nFit Type: Regular Fit\nKetch Womens Ethnic Printed Tops",details2:""},{id:18,image:"https://m.media-amazon.com/images/I/91c0pdWCUQL._SY550._SX._UX._SY._UY_.jpg",brand:"addida",title:"Women Striped Top with Full Sleeves",price:"500",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"blue",category:"top",url1:"https://m.media-amazon.com/images/I/91CyBl7kVNL._UY550_.jpg",url2:"https://m.media-amazon.com/images/I/91sMD7OzObL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/91Z9mNZBhPL._SY550._SX._UX._SY._UY_.jpg",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:19,image:"https://m.media-amazon.com/images/I/61EamK5nCAL._UY741_.jpg",brand:"addidas",title:"Lymio Women Top",price:"200",prevPrice:"$400,00",newPrice:"200",company:"Nike",color:"blue",category:"top",url1:"https://m.media-amazon.com/images/I/61bWjc5N27L._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/61RyCbaMh1L._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/61HrmuAz0xL._SY550._SX._UX._SY._UY_.jpg",details1:"Care Instructions: Dry Clean Only,\n        Fit Type: Regular Fit,\n        To choose the right size- please refer Reguler Fit Tops/Shirt size chart and how to measure image'',\n        Fabric : Chiffon,\n        Sleeve Type : 3/4th Sleeve,\n        Occasion: Casual wear, Daily wear, Party wear, Evening wear,\n        Women Top.Stylish Top",details2:""}],c=[{id:20,image:"https://m.media-amazon.com/images/I/51XeD6LnxhL.jpg",brand:"addidas",title:"Dream Beauty Fashion Women's Bishop Puff Sleeves ",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"tshirt",url1:"https://m.media-amazon.com/images/I/513NZVvDFHL._UY500_.jpg",url2:"https://m.media-amazon.com/images/I/51kmbdwOXfL._UY500_.jpg",url3:"https://m.media-amazon.com/images/I/41tNb7EuzgL._UY500_.jpg",details1:"Care Instructions: Machine Wash,\n        Fit Type: Regular Fit,\n        Care Instructions: Machine Wash,\n        Material: 100% Premium Cotton. Exceptional Quality.\n        Style: These t-shirts are designed to give you more room, adds to your personal space. They are comfortable, breathable and looks super cool.",details2:""},{id:21,image:"https://m.media-amazon.com/images/I/51koWuqWlPL._SY500._SX._UX._SY._UY_.jpg",brand:"addida",title:"Dream Beauty Fashion Women's Bishop Puff Sleeves",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://m.media-amazon.com/images/I/41uJsnPh27L._SY500._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/41CxywOyyML._UY500_.jpg",url3:"https://m.media-amazon.com/images/I/41bm4pyxbAL._SY500._SX._UX._SY._UY_.jpg",details1:'Care Instructions: Hand Wash Only\n        Fit Type: Slim Fit\n        Material : Polyester Blend\n        Neck : Square\n        Sleeves : Bishop\n        Length : 23"Inches (Approx) Regular Top Length\n        Fit Type: Slim Fit / Perfect for lounge, outdoor, street, work, going out and dailywear',details2:""},{id:22,image:"https://m.media-amazon.com/images/I/71sH9tjJNTL._UY741_.jpg",brand:"vans",title:"The Souled Store Women Feelin' Groovy Multicolored Printed.",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"pink",category:"tshirt",url1:"https://m.media-amazon.com/images/I/819BKA7pmAL._UY550_.jpg",url2:"https://m.media-amazon.com/images/I/712fql2PzEL._UY741_.jpg",url3:"https://m.media-amazon.com/images/I/61ueA9eBH1L._UY550_.jpg",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:23,image:"https://m.media-amazon.com/images/I/71ivjRqbCwL._UY741_.jpg",brand:"addida",title:"T-Shirt for Women/Girls",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"black",category:"tshirt",url1:"https://m.media-amazon.com/images/I/71GFZZAkSzL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/71Ae4VwlkJL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/61Fxl73BndL._SY550._SX._UX._SY._UY_.jpg",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:24,image:"https://m.media-amazon.com/images/I/61646NJsV1L._UY741_.jpg",brand:"addida",title:"AMEVI Women's Cotton Casual Oversized T-Shirt",price:"500",prevPrice:"$600,00",newPrice:"500",company:"Nike",color:"white",category:"tshirt",url1:"https://m.media-amazon.com/images/I/61+mrgXkV4L._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/51t9F9SZERL._SX425._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/71URwL95xGL._SY550._SX._UX._SY._UY_.jpg",details1:"Neck and Sleeve: Round necks are synonyms of comfort. The round neck of this t-shirt dress is neither too high, nor too low. It fits perfectly, giving a very chic look. The sleeves are half, which ensures movability of your arm.\n        Pattern: Solid, Lightweight dry fit Fabric. Pushes the Sweat from the Body to the fabric surface keeping you dry during all the temperatures.\n        Comfort: Best Fashionably Comfortable Striped Trendy Premium Branded T Shirts. Occasion: It can be used for various occasions\u2019 daily use , party Wear, Work Wear, Casual wear, Summer, and spring. Special gift for mom, daughter, girlfriends, or wife. It's also perfect for women.\n        Package Contents: Women\u2019s T-shirts | Material: Cotton Neck: Round Sleeve: Half Pattern: Printed Care Instructions: Do Not Bleach. Wash with similar colors. Fit Type: Loose Fit. Colours may slightly vary depending on your screen brightness.",details2:""},{id:25,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"the RodZen Store\n        RodZen Oversized Fit Half Sleeves",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"tshirt",url1:"https://m.media-amazon.com/images/I/713SBUtpnfL._SY550._SX._UX._SY._UY_.jpg",url2:"https://m.media-amazon.com/images/I/619puPstJfL._SY550._SX._UX._SY._UY_.jpg",url3:"https://m.media-amazon.com/images/I/71cWHsqpIGL._SY550._SX._UX._SY._UY_.jpg",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:26,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"700",prevPrice:"$400,00",newPrice:"700",company:"Nike",color:"pink",category:"tshirt",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:27,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:28,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:29,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:30,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""},{id:31,image:"https://images.meesho.com/images/products/237401671/vhz5s_512.webp",brand:"addida",title:"mustard polka dot smoking dress",price:"300",prevPrice:"$400,00",newPrice:"300",company:"Nike",color:"white",category:"middy",url1:"https://images.meesho.com/images/products/237401672/obk4k_512.webp",url2:"https://images.meesho.com/images/products/207977800/uxgrk_512.webp",url3:"https://images.meesho.com/images/products/207977796/shtnn_512.webp",details1:"Name : mustard polka dot smoking dress\n\n        Fabric : Crepe\n        \n        Sleeve Length : Short Sleeves\n        \n        Pattern : Printed\n        \n        Net Quantity (N) : 1\n        \n        Sizes : \n        \n        S (Bust Size : 34 in, Length Size: 42 in)\n        \n        M (Bust Size : 36 in, Length Size: 42 in)\n        \n        L (Bust Size : 38 in, Length Size: 42 in)\n        \n        new polks smoking dress by she look comfartable for girls n womens\n        \n        Country of Origin : India",details2:""}];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=n(184),m=(0,e.createContext)(null),v=function(t){var n=p((0,e.useState)(function(){for(var e=[],t=0;t<u.length+c.length;t++)e[t]=0;return e}()),2),r=n[0],i=n[1],o=p((0,e.useState)(null),2),a=o[0],l=o[1],f={cartItems:r,addToCart:function(e){i((function(t){return h(h({},t),{},s({},e,t[e]+1))}))},removeToCart:function(e){i((function(t){return h(h({},t),{},s({},e,t[e]-1))}))},updateCartItemCount:function(e,t){i((function(n){return h(h({},n),{},s({},t,e))}))},getTotalCartAmount:function(){var e=0,t=function(t){if(r[t]>0){var n=u.find((function(e){return e.id===Number(t)}))||c.find((function(e){return e.id===Number(t)}));e+=r[t]*n.price}};for(var n in r)t(n);return e.toFixed(2)},getTotalCartProducts:function(){var e=0;for(var t in r)r[t]>0&&(e+=r[t]);return e},clearCart:function(){var e={};for(var t in r)e[t]=0;i(e)},resetCart:function(){i([])},viewProductDetails:function(e){l(e)},closeProductDetails:function(){l(null)},selectedProduct:a};return console.log(r),(0,g.jsx)(m.Provider,{value:f,children:t.children})},y=n(721),_=n(610),b=n(462),w=n(366),S=n(554);e.Component;e.Component;var I=function(e,t){return"function"===typeof e?e(t):e},T=function(e,t){return"string"===typeof e?(0,_.createLocation)(e,null,null,t):e},E=function(e){return e},k=e.forwardRef;"undefined"===typeof k&&(k=E);var C=k((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=(0,w.Z)(t,["innerRef","navigate","onClick"]),s=a.target,u=(0,b.Z)({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=E!==k&&n||r,e.createElement("a",u)}));var x=k((function(t,n){var r=t.component,o=void 0===r?C:r,a=t.replace,s=t.to,u=t.innerRef,c=(0,w.Z)(t,["component","replace","to","innerRef"]);return e.createElement(i.__RouterContext.Consumer,null,(function(t){t||(0,S.Z)(!1);var r=t.history,i=T(I(s,t.location),t.location),l=i?r.createHref(i):"",h=(0,b.Z)({},c,{href:l,navigate:function(){var e=I(s,t.location);(a?r.replace:r.push)(e)}});return E!==k?h.ref=n||u:h.innerRef=u,e.createElement(o,h)}))})),N=function(e){return e},P=e.forwardRef;"undefined"===typeof P&&(P=N);P((function(t,n){var r=t["aria-current"],o=void 0===r?"page":r,a=t.activeClassName,s=void 0===a?"active":a,u=t.activeStyle,c=t.className,l=t.exact,h=t.isActive,f=t.location,d=t.sensitive,p=t.strict,g=t.style,m=t.to,v=t.innerRef,y=(0,w.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(i.__RouterContext.Consumer,null,(function(t){t||(0,S.Z)(!1);var r=f||t.location,a=T(I(m,r),r),_=a.pathname,w=_&&_.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=w?(0,i.matchPath)(r.pathname,{path:w,exact:l,sensitive:d,strict:p}):null,k=!!(h?h(E,r):E),C=k?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,s):c,A=k?(0,b.Z)({},g,{},u):g,R=(0,b.Z)({"aria-current":k&&o||null,className:C,style:A,to:a},y);return N!==P?R.ref=n||v:R.innerRef=v,e.createElement(x,R)}))}));var A=function(t){console.log(t.addToFav);var n=t.data,r=n.id,i=n.image,o=n.price,a=n.brand,s=n.title,u=(n.url1,n.url2,(0,e.useContext)(m)),c=u.addToCart,l=u.viewProductDetails,h=u.cartItems[r];return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"pro",children:[(0,g.jsx)("img",{src:i,id:"product1",className:"img",alt:""}),(0,g.jsxs)("div",{className:"des",children:[(0,g.jsx)("span",{children:a}),(0,g.jsx)("h5",{className:"sTitle",children:s}),(0,g.jsxs)("div",{className:"star",children:[(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"})]}),(0,g.jsxs)("h4",{className:"sPrice",children:["$",o]})]})," ",(0,g.jsx)(x,{to:"/details",children:(0,g.jsx)("span",{id:"p-detail",onClick:function(){return l(r)},children:"view details"})}),(0,g.jsx)("span",{id:"cart",onClick:function(){return c(r)},children:(0,g.jsxs)("i",{className:"fa-solid fa-cart-shopping add-cart",children:["\xa0",h>0&&"".concat(h)]})}),(0,g.jsx)("span",{id:"heart",onClick:function(){t.addToFav(t.data)},children:(0,g.jsx)("i",{class:"fa-solid fa-heart"})})]},r)})};var R=function(){return(0,g.jsx)("div",{className:"pro-container",id:"newArrival",children:u.slice(0,8).map((function(e,t){return(0,g.jsx)(A,{data:e},t)}))})};var O=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{id:"feature",className:"section-p1",children:[(0,g.jsxs)("div",{className:"f1-box",children:[(0,g.jsx)("img",{width:"150px",style:{borderRadius:"50%"},src:"https://img.freepik.com/free-vector/way-concept-illustration_114360-1191.jpg?w=996&t=st=1693905064~exp=1693905664~hmac=c3b3f4374512ded066e58374efd5aa00dcb3d9d926782d115eaf9e626209a23d",alt:""}),(0,g.jsx)("h3",{children:"Free shipping"})]}),(0,g.jsxs)("div",{className:"f1-box",children:[(0,g.jsx)("img",{width:"100px",src:"https://img.freepik.com/free-vector/e-wallet-concept-illustration_114360-7561.jpg?w=740&t=st=1693904978~exp=1693905578~hmac=48001905d41083a74a7b1e43a410c0ec53edb5695145d9cd3a4934fa05a09fa1",style:{borderRadius:"50%"},alt:""}),(0,g.jsx)("h3",{children:"Online order"})]}),(0,g.jsxs)("div",{className:"f1-box",children:[(0,g.jsx)("img",{width:"110px",height:"100px",style:{borderRadius:"50%"},src:"https://img.freepik.com/free-vector/piggy-bank-concept-illustration_114360-5512.jpg?w=740&t=st=1693905027~exp=1693905627~hmac=60931a7aa61e0e0eaf914d58213557be18ee5094c8dcd85101a0c97111556e32",alt:""}),(0,g.jsx)("h3",{children:"Save Money"})]}),(0,g.jsxs)("div",{className:"f1-box",children:[(0,g.jsx)("img",{width:"110px",height:"100px",style:{borderRadius:"50%"},src:"https://inai.io/hubfs/IMG_1705%20%281%29.png",alt:""}),(0,g.jsx)("h3",{children:"Happy seil"})]}),(0,g.jsxs)("div",{className:"f1-box",children:[(0,g.jsx)("img",{width:"100px",style:{borderRadius:"50%"},src:"https://toppng.com/uploads/preview/24-7-support-logo-hd-11549754552i53v0pfeav.png",alt:""}),(0,g.jsx)("h3",{children:"F24/7 Support"})]})]})})};var D=function(t){var n=t.data,r=n.id,i=n.image,o=n.price,a=n.brand,s=n.title,u=(n.url1,n.url2,(0,e.useContext)(m)),c=u.addToCart,l=u.viewProductDetails,h=u.cartItems[r];return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"pro",children:[(0,g.jsx)("img",{src:i,id:"product1",className:"img",alt:""}),(0,g.jsxs)("div",{className:"des",children:[(0,g.jsx)("span",{children:a}),(0,g.jsx)("h5",{className:"sTitle",children:s}),(0,g.jsxs)("div",{className:"star",children:[(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"})]}),(0,g.jsxs)("h4",{className:"sPrice",children:["$",o]})]})," ",(0,g.jsx)(x,{to:"/details",children:(0,g.jsx)("span",{id:"p-detail",onClick:function(){return l(r)},children:"view details"})}),(0,g.jsx)("span",{id:"cart",onClick:function(){return c(r)},children:(0,g.jsxs)("i",{className:"fa-solid fa-cart-shopping add-cart",children:["\xa0",h>0&&"".concat(h)]})}),(0,g.jsx)("span",{id:"heart",onClick:function(){t.addToFav(t.data)},children:(0,g.jsx)("i",{class:"fa-solid fa-heart"})})]},r)})};var L=function(e){return e.addToFav,(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"pro-container",id:"newArrival",children:u.slice(8,16).map((function(e,t){return(0,g.jsx)(A,{data:e},t)}))})})};var j=function(e){return e.addToFav,(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"hero",children:[(0,g.jsx)("h4",{children:"Trade-in-offer"}),(0,g.jsx)("h2",{children:"Super Value Deals"}),(0,g.jsx)("h1",{children:"On all products"}),(0,g.jsx)("p",{children:"Save more with coupons & up to 70% off "}),(0,g.jsx)("button",{children:"Shop Now"})]}),(0,g.jsx)(O,{}),(0,g.jsxs)("section",{id:"product",className:"section-p1",children:[(0,g.jsx)("h2",{children:"Featurd Product"}),(0,g.jsx)("p",{children:"Summer Collection New Modern Design"}),(0,g.jsx)(R,{})]}),(0,g.jsxs)("section",{id:"banner",className:"section-m1",children:[(0,g.jsx)("h4",{children:"Repair Services"}),(0,g.jsxs)("h2",{children:["UP to",(0,g.jsx)("span",{children:"70% off"}),"- All t-shirt & Accessories"]}),(0,g.jsx)("button",{children:"Explore more"})]}),(0,g.jsxs)("section",{id:"product",className:"section-p1",children:[(0,g.jsx)("h2",{children:"New Arrivals"}),(0,g.jsx)("p",{children:"Summer Collection New Modern Design"}),(0,g.jsx)(L,{})]}),(0,g.jsxs)("section",{id:"sm-banner",className:"section-p1",children:[(0,g.jsxs)("div",{className:"banner-box",children:[(0,g.jsx)("h4",{children:"Crazy Deals"}),(0,g.jsx)("h2",{children:"Buy 1 get 1"}),(0,g.jsx)("span",{children:"The best classic dress is on sale at coras"}),(0,g.jsx)("button",{children:"Learn more"})]}),(0,g.jsxs)("div",{className:"banner-box bb-2",children:[(0,g.jsx)("h4",{children:"Spring/Summer"}),(0,g.jsx)("h2",{children:"Upcoming season"}),(0,g.jsx)("span",{children:"The best classic dress is on sale at coras"}),(0,g.jsx)("button",{children:"Collection"})]})]}),(0,g.jsxs)("section",{id:"banner3",children:[(0,g.jsxs)("div",{className:"banner-box b3-1",children:[(0,g.jsx)("h2",{children:"Seasonal sale"}),(0,g.jsx)("h3",{children:"Wedding Collection :2023"})]}),(0,g.jsxs)("div",{className:"banner-box b3-2",children:[(0,g.jsx)("h2",{children:"Seasonal sale"}),(0,g.jsx)("h3",{children:"Winter Collection -50% OFF"})]}),(0,g.jsxs)("div",{className:"banner-box b3-3",children:[(0,g.jsx)("h2",{children:"Seasonal sale"}),(0,g.jsx)("h3",{children:"Summer Collection -50% OFF"})]})]})]})};function M(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e){var t=e.addToFav;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"pro-container",children:[].concat(M(u),M(c)).map((function(e,n){return(0,g.jsx)(D,{data:e,addToFav:t},n)}))})})};var U=function(e){var t=e.addToFav;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"page-header",children:[(0,g.jsx)("h2",{children:"#StayHome"}),(0,g.jsx)("p",{children:"Save more with coupons & up to 70% off "})]}),(0,g.jsx)("section",{id:"product",className:"section-p1",children:(0,g.jsx)(F,{addToFav:t})})]})},q=n(542);var V=function(){var t=(0,q.TH)(),n=p((0,e.useState)({}),2),r=n[0],i=n[1],o=(0,e.useContext)(m),a=o.getTotalCartProducts,s=(o.cartItems,a());return(0,e.useEffect)((function(){window.scroll(0,0)}),[t]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{id:"header",children:[(0,g.jsx)("a",{href:"#",children:(0,g.jsx)("img",{width:"100px",src:"https://www.gartner.com/pi/vendorimages/cora-systems_project-portfolio-management-worldwide_1627042717398.png",className:"logo",alt:""})}),(0,g.jsx)("div",{children:(0,g.jsxs)("ul",{id:"navbar",style:r,children:[(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"/",className:"/"==t.pathname?"active":"",children:"Home"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"shop",className:"/shop"==t.pathname?"active":"",children:"Shop"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"blog",className:"/blog"==t.pathname?"active":"",children:"blog"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"/about",className:"/about"==t.pathname?"active":"",children:"about"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"filter",className:"/filter"==t.pathname?"active":"",children:"Filter"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"contact",className:"/contact"==t.pathname?"active":"",children:"contact"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"wishlist",className:"/wishlist"==t.pathname?"active":"",children:"WhisList"})}),(0,g.jsx)("li",{children:(0,g.jsx)(x,{to:"login",className:"/login"==t.pathname?"active":"",children:(0,g.jsx)("i",{className:"fa-solid fa-user"})})}),(0,g.jsx)("li",{children:(0,g.jsxs)(x,{to:"cart",className:"/cart"==t.pathname?"active":"",children:[(0,g.jsx)("i",{id:"lg-bag",className:"fa-solid fa-cart-shopping"}),s>0&&(0,g.jsx)("span",{style:{fontSize:"20px"},children:s})]})}),(0,g.jsx)("i",{className:"fas fa-times",id:"close",onClick:function(){return console.log("close"),void i({right:"-100%",transition:"0.8s"})}})]})}),(0,g.jsxs)("div",{id:"mobil",children:[(0,g.jsx)(x,{to:"cart",children:(0,g.jsx)("i",{className:"fa-solid fa-cart-shopping ",id:"bg",children:s>0&&(0,g.jsx)("span",{style:{fontSize:"20px"},children:s})})}),(0,g.jsx)("i",{id:"bar",onClick:function(){return console.log("kjd"),void i({right:0,transition:"0.5s"})},className:"fas fa-outdent"})]})]})})};var z=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"page-header",class:"blog-header",children:[(0,g.jsx)("h2",{children:"#Read more"}),(0,g.jsx)("p",{children:"Save more with coupons & up to 70% off "})]}),(0,g.jsxs)("section",{id:"blog",children:[(0,g.jsxs)("div",{class:"blog-box",children:[(0,g.jsx)("div",{class:"blog-img",children:(0,g.jsx)("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",width:"300px",alt:""})}),(0,g.jsxs)("div",{class:"blog-detaile",children:[(0,g.jsx)("h4",{children:"The Cotton-jersey Zip-Up Hoddie"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam, excepturi iste iusto eveniet culpa officia officiis corporis dicta? Eius ipsa asperiores eveniet facilis voluptates sequi fugiat, suscipit voluptate! Iusto atque maiores ut incidunt officia?"}),(0,g.jsx)("a",{href:"",children:"Continue Reading"})]}),(0,g.jsx)("h1",{children:"13/01"})]}),(0,g.jsxs)("div",{class:"blog-box",children:[(0,g.jsx)("div",{class:"blog-img",children:(0,g.jsx)("img",{src:"https://plus.unsplash.com/premium_photo-1661764072587-0050cc57ac17?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",width:"300px",alt:""})}),(0,g.jsxs)("div",{class:"blog-detaile",children:[(0,g.jsx)("h4",{children:"How to Style a quiff"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam, excepturi iste iusto eveniet culpa officia officiis corporis dicta? Eius ipsa asperiores eveniet facilis voluptates sequi fugiat, suscipit voluptate! Iusto atque maiores ut incidunt officia?"}),(0,g.jsx)("a",{href:"",children:"Continue Reading"})]}),(0,g.jsx)("h1",{children:"13/01"})]}),(0,g.jsxs)("div",{class:"blog-box",children:[(0,g.jsx)("div",{class:"blog-img",children:(0,g.jsx)("img",{src:"https://images.unsplash.com/photo-1562280963-8a5475740a10?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80",width:"300px",alt:""})}),(0,g.jsxs)("div",{class:"blog-detaile",children:[(0,g.jsx)("h4",{children:"Must have skater Girl item"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam, excepturi iste iusto eveniet culpa officia officiis corporis dicta? Eius ipsa asperiores eveniet facilis voluptates sequi fugiat, suscipit voluptate! Iusto atque maiores ut incidunt officia?"}),(0,g.jsx)("a",{href:"",children:"Continue Reading"})]}),(0,g.jsx)("h1",{children:"13/01"})]}),(0,g.jsxs)("div",{class:"blog-box",children:[(0,g.jsx)("div",{class:"blog-img",children:(0,g.jsx)("img",{src:"https://images.unsplash.com/photo-1591085686350-798c0f9faa7f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1931&q=80",width:"300px",alt:""})}),(0,g.jsxs)("div",{class:"blog-detaile",children:[(0,g.jsx)("h4",{children:"Runway-inspired Trends"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam, excepturi iste iusto eveniet culpa officia officiis corporis dicta? Eius ipsa asperiores eveniet facilis voluptates sequi fugiat, suscipit voluptate! Iusto atque maiores ut incidunt officia?"}),(0,g.jsx)("a",{href:"",children:"Continue Reading"})]}),(0,g.jsx)("h1",{children:"13/01"})]}),(0,g.jsxs)("div",{class:"blog-box",children:[(0,g.jsx)("div",{class:"blog-img",children:(0,g.jsx)("img",{src:"https://images.unsplash.com/photo-1555529669-83329d5fac8e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=441&q=80",width:"300px",alt:""})}),(0,g.jsxs)("div",{class:"blog-detaile",children:[(0,g.jsx)("h4",{children:"AW20 Menswear Trends"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam, excepturi iste iusto eveniet culpa officia officiis corporis dicta? Eius ipsa asperiores eveniet facilis voluptates sequi fugiat, suscipit voluptate! Iusto atque maiores ut incidunt officia?"}),(0,g.jsx)("a",{href:"",children:"Continue Reading"})]}),(0,g.jsx)("h1",{children:"13/01"})]})]})]})};var B=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"page-header",class:"about-header",children:[(0,g.jsx)("h2",{children:"#About Us"}),(0,g.jsx)("p",{children:"Save more with coupons & up to 70% off "})]}),(0,g.jsxs)("section",{id:"about-head",class:"section-p1",children:[(0,g.jsx)("img",{src:"https://as2.ftcdn.net/v2/jpg/06/43/51/87/1000_F_643518724_o6VK26yWgTaLEmxi3MqMLa6pgsu2QKIZ.jpg",alt:""}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{children:"Who we  are ?"}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam ad architecto reiciendis accusamus velit non alias. Vero cumque officia recusandae, incidunt soluta nesciunt fugiat corporis, voluptatem iusto molestiae amet aspernatur animi? Impedit animi ipsum provident, saepe doloremque possimus libero inventore atque eos accusamus nam aspernatur quasi asperiores, dolorem reprehenderit necessitatibus illum fugit architecto. Eligendi eius alias sint rem quas, ex, ipsa incidunt laborum distinctio animi asperiores voluptatem?"}),(0,g.jsx)("abbr",{title:"",children:"Creating stunning images with much or as little control as you like to a choise of basic and creative modes"}),(0,g.jsx)("br",{}),(0,g.jsx)("marquee",{bgcolor:"#ccc",scrollamount:"5",loop:"-1",width:"100%",children:"Creating stunning images with much or as little control as you like to a choise of basic and creative modes"})]})]}),(0,g.jsxs)("section",{id:"about-app",children:[(0,g.jsxs)("h1",{children:["DOWNLOAD OUR ",(0,g.jsx)("a",{href:"",children:"APP"})]}),(0,g.jsx)("div",{class:"video",children:(0,g.jsx)("iframe",{id:"video",src:"https://www.youtube.com/embed/YdHK9JOf_K0",title:"Company Presentation Video Template",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0})})]}),(0,g.jsx)(O,{})]})};var W=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"page-header",class:"blog-header",children:[(0,g.jsx)("h2",{children:"#let's talk"}),(0,g.jsx)("p",{children:"LEAVE A MESSAGE , We love to hear from you"})]}),(0,g.jsxs)("section",{id:"contact-details",class:"section-p1",children:[(0,g.jsxs)("div",{class:"details",children:[(0,g.jsx)("span",{children:"GET IN TOUCH"}),(0,g.jsx)("h2",{children:"Visit one of our agency location or contact us today"}),(0,g.jsx)("h3",{children:"Head office"}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("li",{children:[(0,g.jsx)("i",{class:"fal fa-map"}),(0,g.jsx)("p",{children:"56 Glassford Street Glasgow G1 1UL New York"})]}),(0,g.jsxs)("li",{children:[(0,g.jsx)("i",{class:"far fa-envelope"}),(0,g.jsx)("p",{children:"56 Glassford Street Glasgow G1 1UL New York"})]}),(0,g.jsxs)("li",{children:[(0,g.jsx)("i",{class:"fas fa-phone-alt"}),(0,g.jsx)("p",{children:"56 Glassford Street Glasgow G1 1UL New York"})]}),(0,g.jsxs)("li",{children:[(0,g.jsx)("i",{class:"far fa-clock"}),(0,g.jsx)("p",{children:"56 Glassford Street Glasgow G1 1UL New York"})]})]})]}),(0,g.jsx)("div",{class:"map",children:(0,g.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2469.8338612143825!2d-1.2550437!3d51.754361499999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4876c6a9ef8c485b%3A0xd2ff1883a001afed!2sUniversity%20of%20Oxford!5e0!3m2!1sen!2sin!4v1692456838813!5m2!1sen!2sin",width:"600",height:"450",style:{border:0,allowfullscreen:"",loading:"lazy"},referrerpolicy:"no-referrer-when-downgrade"})})]}),(0,g.jsxs)("section",{id:"form-details",class:"section-p1",children:[(0,g.jsxs)("form",{action:"",children:[(0,g.jsx)("span",{children:"Leave a message"}),(0,g.jsx)("h2",{children:"We love to hear from you"}),(0,g.jsx)("input",{type:"text",placeholder:"Your Name"}),(0,g.jsx)("input",{type:"text",placeholder:"E-mail"}),(0,g.jsx)("input",{type:"text",placeholder:"Subject"}),(0,g.jsx)("textarea",{name:"",id:"",cols:"30",rows:"10",placeholder:"Your Message"}),(0,g.jsx)("button",{class:"normal",children:"Submit"})]}),(0,g.jsxs)("div",{class:"people",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{width:"50px",style:{borderRadius:"50%"},src:"https://wallpapers.com/images/high/cute-girl-vector-art-profile-picture-jhbu3wt713zj2bti.webp",alt:""}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"John Doe"})," Senior Marketing Managerbr",(0,g.jsx)("br",{}),"Phone: +9123345678 ",(0,g.jsx)("br",{}),"Email:contact@gmail.com "]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{width:"50px",style:{borderRadius:"50%"},src:"https://wallpapers.com/images/high/cute-girl-vector-art-profile-picture-jhbu3wt713zj2bti.webp",alt:""}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"John Doe"})," Senior Marketing Managerbr",(0,g.jsx)("br",{}),"Phone: +9123345678 ",(0,g.jsx)("br",{}),"Email:contact@gmail.com "]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{width:"50px",style:{borderRadius:"50%"},src:"https://wallpapers.com/images/high/cute-girl-vector-art-profile-picture-jhbu3wt713zj2bti.webp",alt:""}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{children:"John Doe"})," Senior Marketing Managerbr",(0,g.jsx)("br",{}),"Phone: +9123345678 ",(0,g.jsx)("br",{}),"Email:contact@gmail.com "]})]})]})]})]})};var K=function(t){var n=t.data,r=n.id,i=n.image,o=n.price,a=(n.brand,n.title),s=(0,e.useContext)(m),u=s.addToCart,c=(s.viewProductDetails,s.updateCartItemCount),l=s.cartItems,h=s.removeToCart;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("img",{src:i,alt:""})}),(0,g.jsxs)("td",{children:[(0,g.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:a}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Price"}),": ",(0,g.jsx)("span",{style:{fontWeight:"900"},children:o})]})]}),(0,g.jsxs)("td",{children:[(0,g.jsx)("button",{style:{padding:"10px 10px",backgroundColor:"#088178",color:"white",fontSize:"15px"},onClick:function(){h(r)},children:"-"}),(0,g.jsx)("input",{style:{width:"30px",padding:"10px 0",textAlign:"center",fontSize:"15px"},type:"text",value:l[r],onChange:function(e){return c}}),(0,g.jsx)("button",{style:{padding:"10px 10px",backgroundColor:"#088178",color:"white",fontSize:"15px"},onClick:function(){u(r)},children:"+"})]})]})})})};var H=function(){var t=(0,e.useContext)(m),n=(t.addToCart,t.viewProductDetails,t.cartItems),r=t.getTotalCartAmount,i=t.clearCart,o=r();return 0==o?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"500px",display:"flex",width:"95%",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,g.jsx)("div",{style:{fontSize:"30px"},children:"cart is empty"}),(0,g.jsx)("p",{children:(0,g.jsx)(x,{to:"/shop",children:"CLICK HERE TO SHOP"})})]})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("section",{id:"cartt",class:"section-p1",children:(0,g.jsxs)("table",{width:"100%",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"Image"}),(0,g.jsx)("td",{children:"Product"}),(0,g.jsx)("td",{children:"Quantity"})]})}),[].concat(M(u),M(c)).map((function(e){if(0!==n[e.id])return(0,g.jsx)(K,{data:e},e.id)}))]})}),(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",padding:"10px 10px"},children:[(0,g.jsx)("button",{style:{padding:"10px 10px",backgroundColor:"#088178",color:"white",fontSize:"15px"},children:"shop Now"}),(0,g.jsx)("button",{style:{padding:"10px 10px",backgroundColor:"#088178",color:"white",fontSize:"15px",marginLeft:"10px"},onClick:function(){i()},children:"clear"})]}),(0,g.jsxs)("section",{id:"cart-add",class:"section-p1",children:[(0,g.jsxs)("div",{id:"coupon",children:[(0,g.jsx)("h3",{children:"Apply Coupon"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"text",placeholder:"Enter your coupon"}),(0,g.jsx)("button",{class:"normal",children:"Apply"})]})]}),(0,g.jsxs)("div",{id:"subtotal",children:[(0,g.jsx)("h3",{children:"Cart Total"}),(0,g.jsx)("table",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("strong",{children:"Total"})}),(0,g.jsx)("td",{children:(0,g.jsx)("strong",{children:o})})]})}),(0,g.jsx)(x,{to:"login",children:(0,g.jsx)("button",{class:"normal",children:"Proceed to Checkout"})})]})]})]})};var G=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("footer",{className:"section-p1",children:[(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("img",{src:"https://www.gartner.com/pi/vendorimages/cora-systems_project-portfolio-management-worldwide_1627042717398.png",className:"logo",width:"100px",alt:""}),(0,g.jsx)("h4",{children:"Contact"}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Address:"}),"5462 Wellington Bood Street 32 Son Francico"]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Phone:"}),"91-844964776/91-96656567"]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Hours:"}),"10:00 - 19:00 ,Mon- Sat"]}),(0,g.jsxs)("div",{className:"follow",children:[(0,g.jsx)("h4",{children:"Follow us"}),(0,g.jsxs)("div",{className:"icon",children:[(0,g.jsx)("i",{className:"fab fa-facebook-f"}),(0,g.jsx)("i",{className:"fab fa-twitter"}),(0,g.jsx)("i",{className:"fab fa-instagram"}),(0,g.jsx)("i",{className:"fab fa-pinterest-p"}),(0,g.jsx)("i",{className:"fab fa-youtube"})]})]})]}),(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("h4",{children:"About"}),(0,g.jsx)("a",{href:"",children:"About us"}),(0,g.jsx)("a",{href:"",children:"Privacy Policy"}),(0,g.jsx)("a",{href:"",children:"Term & Condition"}),(0,g.jsx)("a",{href:"",children:"Delivery Information"}),(0,g.jsx)("a",{href:"",children:"Contact"})]}),(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("h4",{children:"My Accounts"}),(0,g.jsx)("a",{href:"",children:"Sign In"}),(0,g.jsx)("a",{href:"",children:"View Cart"}),(0,g.jsx)("a",{href:"",children:"My WishList"}),(0,g.jsx)("a",{href:"",children:"Track My Order"}),(0,g.jsx)("a",{href:"",children:"Help"})]}),(0,g.jsxs)("div",{className:"col install",children:[(0,g.jsx)("h4",{children:"Install App "}),(0,g.jsx)("p",{children:"From Aop stores or Google Play"}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("img",{src:"img2/apple.png",width:"150px",alt:""}),(0,g.jsx)("img",{src:"img2/google.png",width:"150px",alt:""})]}),(0,g.jsx)("p",{children:"Secured Payment Gateways"})]})]}),(0,g.jsx)("div",{className:"copyright",children:(0,g.jsx)("p",{children:"2023.tech etc - HTML CSS Ecommerce Template"})})]})};var Y=function(t){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t);var n=p((0,e.useState)([]),2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=JSON.parse(localStorage.getItem("productdetails"));i(e)}),[]),r<=0?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"500px",display:"flex",width:"95%",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,g.jsx)("div",{style:{fontSize:"30px"},children:"Whishlist is empty"}),(0,g.jsx)("p",{children:(0,g.jsx)(q.rU,{to:"/shop",children:"CLICK HERE TO Add to Fav"})})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("section",{id:"product",className:"section-p1",children:(0,g.jsx)("div",{className:"pro-container",id:"newArrival",children:r.map((function(e){return(0,g.jsxs)("div",{className:"pro",children:[(0,g.jsx)("a",{href:"sproduct9.html",children:(0,g.jsx)("img",{src:e.image,className:"img",alt:""})}),(0,g.jsxs)("div",{className:"des",children:[(0,g.jsx)("span",{children:e.brand}),(0,g.jsx)("h5",{className:"sTitle",children:e.title}),(0,g.jsxs)("div",{className:"star",children:[(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"}),(0,g.jsx)("i",{className:"fas fa-star"})]}),(0,g.jsxs)("h4",{className:"sPrice",children:["$",e.price]})]}),(0,g.jsx)("button",{style:{padding:"5px 20px",background:"#088178",color:"white",cursor:"pointer"},onClick:function(){!function(e){console.log(e);var t=JSON.parse(localStorage.getItem("productdetails")).filter((function(t){return t.id!=e}));localStorage.setItem("productdetails",JSON.stringify(t)),i(t)}(e.id)},children:"Remove From Favorite"})]},e.id)}))})})})},X=n(637);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(se){this.f(se)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(se){n.reject(se)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(xr){o(xr)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function k(e,t,n){this.code=N+e,this.message=t||P[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new k(t.substring(N.length),e.message,e.serverResponse):null}T(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var x,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function j(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new M((function(){return new z}),(function(e){e.reset()}));function V(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=B(e,t)}function Q(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function he(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var de=fe.userAgent;if(de){ee=de;break e}}ee=""}function pe(e){return le(ee,e)}function ge(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ee&&t||"",this.b=Te}function Se(e){return e instanceof we&&e.constructor===we&&e.b===Te?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ie,Te={},Ee={};function ke(){if(void 0===Ie){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}Ie=e}else Ie=e}return Ie}function Ce(e,t){this.a=t===Re?e:""}function xe(e){return e instanceof Ce&&e.constructor===Ce?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ne(e,t){var n=Se(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return e=t?t.createScriptURL(e):e,new Ce(e,Re)}(e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?Se(e):encodeURIComponent(String(e))})))}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Re={};function Oe(e,t){this.a=t===qe?e:""}function De(e){return e instanceof Oe&&e.constructor===Oe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Le=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,je=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Oe(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(je);e=t&&Le.test(t[1])?new Oe(e,qe):null}return e}function Ue(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Oe(e,qe))}var qe={},Ve=new Oe("about:invalid#zClosurez",qe);function ze(e,t,n){this.a=n===Be?e:""}ze.prototype.ta=!0,ze.prototype.sa=function(){return this.a.toString()},ze.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function We(e,t,n,r){return e=e instanceof Oe?e:Ue(e),t=t||s,n=n instanceof we?Se(n):n||"",t.open(De(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=h;var Ye,Xe=pe("Opera"),Qe=pe("Trident")||pe("MSIE"),$e=pe("Edge"),Je=$e||Qe,Ze=pe("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),et=le(ee.toLowerCase(),"webkit")&&!pe("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=ee;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Xe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),Qe){var it=tt();if(null!=it&&it>parseFloat(nt)){Ye=String(it);break e}}Ye=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ye)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=he(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==a[2].length,0==s[2].length)||he(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Qe){var ut=tt();ot=ut||(parseInt(Ye,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var lt=!Qe||9<=Number(ct);function ht(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){ge(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:gt.hasOwnProperty(n)?e.setAttribute(gt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var dt,pt,gt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};_e(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}W(a?Z(o):o,r)}}}(i,o,r),o}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function _t(e,t){pt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);pt=function(){e.then(St)}}else pt=function(){var e=St;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!pe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(dt||(dt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),dt(e)):s.setImmediate(e)}}(),bt||(pt(),bt=!0),wt.add(e,t)}var bt=!1,wt=new U;function St(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){yt(t)}F(q,e)}bt=!1}function It(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Mt(n,Et,e)}),(function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Rp){}Mt(n,kt,e)}))}catch(r){Mt(this,kt,r)}}var Tt=0,Et=2,kt=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new M((function(){return new Ct}),(function(e){e.reset()}));function Nt(e,t,n){var r=xt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof It)return e;var t=new It(h);return Mt(t,Et,e),t}function At(e){return new It((function(t,n){n(e)}))}function Rt(e,t,n){Ft(e,t,n,null)||_t(S(t,e))}function Ot(e){return new It((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Rt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Dt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Dt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):qt(n),Vt(n,i,kt,t)))}e.c=null}else Mt(e,kt,t)}function Lt(e,t){e.b||e.a!=Et&&e.a!=kt||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,r){var i=Nt(null,null,null);return i.a=new It((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(se){o(se)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Wt?o(t):e(i)}catch(se){o(se)}}:o})),i.a.c=e,Lt(e,i),i.a}function Mt(e,t,n){e.a==Tt&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=kt||n instanceof Wt||function(e,t){e.g=!0,_t((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof It)return Lt(e,Nt(t||h,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ut(e){e.h||(e.h=!0,_t(e.gc,e))}function qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Vt(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(Rp){Bt.call(null,Rp)}F(xt,t)}function zt(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}It.prototype.then=function(e,t,n){return jt(this,p(e)?e:null,p(t)?t:null,n)},It.prototype.$goog_Thenable=!0,(e=It.prototype).oa=function(e,t){return(e=Nt(e,e,t)).c=!0,Lt(this,e),this},e.o=function(e,t){return jt(this,null,e,t)},e.cancel=function(e){if(this.a==Tt){var t=new Wt(e);_t((function(){Dt(this,t)}),this)}},e.$c=function(e){this.a=Tt,Mt(this,Et,e)},e.ad=function(e){this.a=Tt,Mt(this,kt,e)},e.gc=function(){for(var e;e=qt(this);)Vt(this,e,this.a,this.i);this.h=!1};var Bt=yt;function Wt(e){D.call(this,e)}function Kt(){0!=Ht&&(Gt[m(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Wt,D),Wt.prototype.name="cancel";var Ht=0,Gt={};function Yt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Ht)){var t=m(e);if(0!=Ht&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xt=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(ct),$t=Qe&&!st("9"),Jt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(en,Zt);var tn=Xt({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=In(n),e&&e[nn]?En(e,t,n,g(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=wn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=bn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=In(n),e&&e[nn]?kn(e,t,n,g(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function gn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=In(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function vn(e){return e in hn?hn[e]:hn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=_n(o,r),i=i&&!1!==o)}return i}function _n(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&mn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return _n(e,new en(t,this))}function wn(e){return(e=e[ln])instanceof sn?e:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(e){return p(e)?e:(e[Sn]||(e[Sn]=function(t){return e.handleEvent(t)}),e[Sn])}function Tn(){Kt.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function En(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Nn(e){var t=null;return new It((function(n,r){-1==(t=xn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Pn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(Tn,Kt),Tn.prototype[nn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){gn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;_e(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Rn.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Dn(this.b,e)?this.b[e]:t},e.set=function(e,t){Dn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Mn(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(Ln))?(this.i=!!t,Mn(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),Fn(this,n[4]),this.f=Wn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function Mn(e,t,n){e.c=n?Wn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Qn)),e.b=new Jn(t,e.i))}function qn(e,t,n){e.b.set(t,n)}function Vn(e,t){return e.b.get(t)}function zn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function Bn(e,t,n,r){var i=new jn(null,void 0);return e&&Mn(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Wn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Gn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Xn:Yn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,$n)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Mn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Gn=/[#\/\?@]/g,Yn=/[#\?:]/g,Xn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function er(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Zn(e),t=or(e,t),Dn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function nr(e,t){return Zn(e),t=or(e,t),Dn(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),Z(n)),e.b+=n.length)}function ir(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new Rn(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Jn.prototype).add=function(e,t){Zn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=J(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(lr,(function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t})),'"')}function fr(){var e=Or();return Qe&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=De(Fe(e)||Ve)),t.location.href=n}function gr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<gr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function mr(e){return!!((e=(e||Or()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Pr(Or())==Cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Ue(t),a.href=De(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=We("",r,n,a),e=De(t),a&&(Je&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new ze(e=(r=ke())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof ze&&e.constructor===ze?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=We(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var e=null;return new It((function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw gn(window,"load",e),t}))}function Sr(e){return e=e||Or(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ir(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Tr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Er(){return X.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":X.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function kr(){var e=Er();return"ReactNative"===e||"Node"===e}var Cr="Firefox",Nr="Chrome";function Pr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Cr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Nr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Rr(e,t){t=t||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Pr(i=Or()):"Worker"===r&&(r=Pr(i=Or())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Or(){return s.navigator&&s.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Lr(){try{var e=s.localStorage,t=Br();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!s.indexedDB}catch(n){return Tr()&&!!s.indexedDB}return!1}function jr(){return(Mr()||"chrome-extension:"===Fr()||Sr())&&!kr()&&Lr()&&!Tr()}function Mr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return s.location&&s.location.protocol||null}function Ur(e){return!mr(e=e||Or())&&Pr(e)!=Cr}function qr(e){return"undefined"===typeof e?null:ar(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zr(e){if(null!==e)return JSON.parse(e)}function Br(e){return e||Math.floor(1e9*Math.random()).toString()}function Wr(e){return"Safari"!=Pr(e=e||Or())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Or(),t=Er(),this.b=mr(e)||"ReactNative"===t}function Gr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Yr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Xr(){return!(!Dr("fireauth.oauthhelper",s)&&!Dr("fireauth.iframe",s))}Hr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Mr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,$r={};function Jr(e){$r[e]||($r[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Zr.abcd}catch(pa){Qr=!1}function ei(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function hi(e){var t={},n=e[gi],r=e[vi],i=e[yi];if(e=oi(e[mi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==fi&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[bi]=n||null,t[Si]=n||null,t[_i]=r):(t[bi]=r||null,t[Si]=r||null,t[_i]=n||null),t[wi]=e||null,ei(this,Ti,i),ei(this,Ii,ri(t))}T(li,ii),li.prototype.w=function(){var e=li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var fi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",gi="email",mi="mfaInfo",vi="newEmail",yi="requestType",_i="email",bi="fromEmail",wi="multiFactorInfo",Si="previousEmail",Ii="data",Ti="operation";function Ei(e){var t=Vn(e=zn(e),ki)||null,n=Vn(e,Ci)||null,r=Vn(e,Pi)||null;if(r=r&&Ri[r]||null,!t||!n||!r)throw new k("argument-error",ki+", "+Ci+"and "+Pi+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:Vn(e,xi)||null,languageCode:Vn(e,Ni)||null,tenantId:Vn(e,Ai)||null})}var ki="apiKey",Ci="oobCode",xi="continueUrl",Ni="languageCode",Pi="mode",Ai="tenantId",Ri={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Oi(e){try{return new Ei(e)}catch(t){return null}}function Di(e){var t=e[Ui];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Li];if(n&&"object"===typeof n){t=n[zi];var r=n[qi];if(n=n[Vi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",qi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[Bi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Bi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Mi])&&"boolean"!==typeof t)throw new k("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[ji])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",ji+" property must be a non empty string when specified.");this.i=e||null}var Li="android",ji="dynamicLinkDomain",Mi="handleCodeInApp",Fi="iOS",Ui="url",qi="installApp",Vi="minimumVersion",zi="packageName",Bi="bundleId";function Wi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Hi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Gi(e){var t=Xi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Yi(e){try{return new Gi(e)}catch(t){return null}}function Xi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Hi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(se){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var Qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Ji={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$i},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$i},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$i},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Qi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zi(e){for(var t in Ji)if(Ji[t].fa==e)return Ji[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Yi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function io(e){ro.call(this,e),ei(this,"profile",ri((e=zr(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function co(e){var t=zn(e),n=Vn(t,"link"),r=Vn(zn(n),"link");return t=Vn(t,"deep_link_id"),Vn(zn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:fo}T(io,ro),T(oo,io),T(ao,io),T(so,io),T(uo,io);var ho="enroll",fo="signin";function po(){}function go(e,t){return e.then((function(e){if(e[is]){var n=Yi(e[is]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new k("user-mismatch"):e}))}function mo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function vo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(t){}return null}function _o(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function bo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new _o(e.providerId,t,e.signInMethod)}catch(n){}}return null}function So(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Zi(e)||{}).Ja||null,this.pb=null}function Io(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,e,[])}function To(e){So.call(this,e,$i),this.a=[]}function Eo(){To.call(this,"facebook.com")}function ko(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function Co(){To.call(this,"github.com")}function xo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Co).credential({accessToken:t})}function No(){To.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new No).credential({idToken:n,accessToken:t})}function Ao(){So.call(this,"twitter.com",Qi)}function Ro(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",n,"twitter.com")}function Oo(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(e){return e&&e.email&&e.password?new Oo(e.email,e.password,e.signInMethod):null}function Lo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function jo(e,t){if(!(t=Mo(t)))throw new k("argument-error","Invalid email link!");return new Oo(e,t.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function Mo(e){return(e=Oi(e=co(e)))&&e.operation===di?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function qo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vo(e){try{this.a=e||X.default.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Fo({fb:e,eb:t})}function Bo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return ko(n);case"github.com":return xo(n);case"twitter.com":return Ro(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new _o(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new To(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Wo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Ho(e){return(e=e||{}).type?new Ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Go(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},lo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},mo.prototype.ka=function(e){return ks(e,vo(this))},mo.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Cs(e,n)},mo.prototype.c=function(e,t){return go(xs(e,vo(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},_o.prototype.ka=function(e){return ks(e,bo(this))},_o.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,Cs(e,n)},_o.prototype.c=function(e,t){return go(xs(e,bo(this)),t)},_o.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},So.prototype.Ka=function(e){return this.Jb=ve(e),this},T(Io,So),T(To,So),To.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},To.prototype.Rb=function(){return Z(this.a)},To.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,n,this.providerId)},T(Eo,To),ei(Eo,"PROVIDER_ID","facebook.com"),ei(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Co,To),ei(Co,"PROVIDER_ID","github.com"),ei(Co,"GITHUB_SIGN_IN_METHOD","github.com"),T(No,To),ei(No,"PROVIDER_ID","google.com"),ei(No,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Ao,So),ei(Ao,"PROVIDER_ID","twitter.com"),ei(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,js,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Oo.prototype.b=function(e,t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Qs,{idToken:t,email:this.a,password:this.f})},Oo.prototype.c=function(e,t){return go(this.ka(e),t)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Lo,{PROVIDER_ID:"password"}),ti(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(qo(this))},Fo.prototype.b=function(e,t){var n=qo(this);return n.idToken=t,cu(e,au,n)},Fo.prototype.c=function(e,t){var n=qo(this);return n.operation="REAUTH",go(e=cu(e,su,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.gb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=g(e)?e.session:null,a=g(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return cu(e,Js,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==fo?o.Ha().then((function(t){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Ys,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ti(Vo,{PROVIDER_ID:"phone"}),ti(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Yo,Xo=null;function Qo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function $o(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&ei(this,"email",e.Kb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.$b&&ei(this,"tenantId",e.$b)}function Jo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Bo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new $o(t,n,e.message)}return null}function Zo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Rp){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Qo,k),T($o,k),$o.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&_e(e,t),e},$o.prototype.toJSON=function(){return this.w()},Zo.prototype.c=null,T(ta,Zo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Yo=new ta,T(ra,Zo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||I(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),ha=new ua("CONFIG",700),fa=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(j("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(p(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,ga={},ma=null;function va(e){var t;if(ma||(ma=new sa(""),ga[""]=ma,ma.c=ha),!(t=ga[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ga[e]=t}return t}function ya(e,t){e&&e.log(fa,t,void 0)}function _a(e){this.f=e}function ba(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(_a,Zo),_a.prototype.a=function(){return new ba(this.f)},_a.prototype.b=(pa={},function(){return pa}),T(ba,Tn);var wa=0;function Sa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ia(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ea(e){Tn.call(this),this.headers=new Rn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ka,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ia(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Sa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ia(this):Ta(this),3==this.readyState&&Sa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ia(this))},e.sc=function(e){this.a&&(this.response=e,Ia(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ia(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(Ea,Tn);var ka="";Ea.prototype.b=va("goog.net.XhrIo");var Ca=/^https?$/i,xa=["POST","PUT"];function Na(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Yo.a(),e.C=e.D?ea(e.D):ea(Yo),e.a.onreadystatechange=w(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Aa(e,a)}t=r||"";var o=new Rn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)W(e,t,void 0);else for(var n=An(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Pa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Y(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return Qe&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Fa(e,"Send error: "+a.message)),Aa(e,a)}}function Pa(e){return"content-type"==e.toLowerCase()}function Aa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ra(e),Da(e)}function Ra(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Oa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==ja(e)&&2==Ma(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==ja(e))xn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==ja(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=Ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Ln)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ja(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ma(e)+"]",Ra(e)}}finally{Da(e)}}}function Da(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Rp){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Rp.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function ja(e){return e.a?e.a.readyState:0}function Ma(e){try{return 2<ja(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+Ma(e)+"]"}function Ua(e){var t=Qa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function qa(e,t,n){e.a=!0,e.c=n,e.f=!t,Wa(e)}function Va(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function za(e,t,n,r){e.g.push([t,n,r]),e.a&&Wa(e)}function Ba(e){return G(e.g,(function(e){return p(e[1])}))}function Wa(e){if(e.h&&e.a&&Ba(e)){var t=e.h,n=Ya[t];n&&(s.clearTimeout(n.a),delete Ya[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ba(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ua?(za(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ga(t),Ya[t.a]=t,e.h=t.a)}function Ka(){D.call(this)}function Ha(){D.call(this)}function Ga(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Ea.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),Ea.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Oa(this):this.Jc())},e.Jc=function(){Oa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ka:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ha(this),Va(this),qa(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,qa(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new It((function(e,t){r=e,i=t}));return za(this,r,(function(e){e instanceof Ha?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,T(Ka,D),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",T(Ha,D),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete Ya[this.a],this.b};var Ya={};function Xa(e){var t={},n=t.document||document,r=xe(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){$a(i,!0);var e=new es(Za,"Timeout reached for loading script "+r);Va(a),qa(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,t.xd||!1,u),Va(a),qa(a,!0,null))},i.onerror=function(){$a(i,!0,u);var e=new es(Ja,"Error while loading script "+r);Va(a),qa(a,!1,e)},_e(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Qa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ja=0,Za=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=ve(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=ve(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=s.XMLHttpRequest||n&&X.default.INTERNAL.node&&X.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new _a(self):kr()?this.f=new ts(n):this.f=new ra,this.b=null}T(es,D),T(ts,Zo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Hr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Hr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Mn(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Or();return!((e=Pr(e)!=Nr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!ct||9<ct)})()||Tr()?e=w(e.u,e):(rs||(rs=new It((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[gs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){za(e,null,t,void 0)}(Xa(Ne(ps,{onload:gs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(se){e=null}t&&t(e)})),kn(a,"ready",(function(){u&&clearTimeout(u),Yt(this)})),kn(a,"timeout",(function(){u&&clearTimeout(u),Yt(this),t&&t(null)})),Na(a,e,n,r,i)};var ps=new we(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),gs="__fcb"+Math.floor(1e6*Math.random()).toString();function ms(e,t,n,r,i,o,a){var s=zn(t+n);qn(s,"key",e.c),a&&qn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&qn(s,c,i[c]);return new It((function(t,n){ds(e,s.toString(),(function(e){e?e.error?n(hu(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:ar(Vr(i)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new k("invalid-email")}function ys(e){"email"in e&&vs(e)}function _s(e){if(!e[is]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ve(e));throw new k("internal-error")}}function bs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.Ab=function(){return cu(this,$s,{})},ns.prototype.Cb=function(e,t){return cu(this,Xs,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,Qs,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function Is(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function Ts(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Es(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Jo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Jo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Jo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;_s(e)}function ks(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function xs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function Ns(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ge(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Xs,n)},e.wb=function(e,t){return _e(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Ws,e)},e.xb=function(e,t){return _e(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Vs,e)},e.vb=function(e,t){return _e(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,zs,e)},e.Fb=function(e,t,n){return _e(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,Bs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Gs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,As,{oobCode:e})},e.kb=function(e){return cu(this,Ps,{oobCode:e})};var Ps={endpoint:"setAccountInfo",A:Ns,Z:"email",B:!0},As={endpoint:"resetPassword",A:Ns,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Rs={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new k("weak-password")},G:_s,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",O:["idToken"]},Ls={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},js={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:_s,V:!0,B:!0},Ms={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:_s,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ss,G:_s,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:_s,B:!0,Na:!0},qs={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");vs(e)},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");vs(e)},Z:"email",B:!0},Ks={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Gs={endpoint:"resetPassword",A:Ns,Z:"email",B:!0},Ys={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},Qs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new k("weak-password")},G:_s,V:!0},$s={endpoint:"signupNewUser",G:_s,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Is,Za:Ts,G:Es,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Is,Za:Ts,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);_s(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Is(e),!e.idToken)throw new k("internal-error")},Za:Ts,G:Es,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:_s,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new k("wrong-password")},G:_s,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:bs,G:_s,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");bs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Jo(e);_s(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:bs,G:_s,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return At(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ms(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function lu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",_e(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=qr(e)),new k("internal-error",t)}function fu(e){this.b=e,this.a=null,this.sb=function(e){return(mu||(mu=new It((function(e,t){function n(){Kr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Kr(),t(Error("Network Error"))},timeout:pu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Pt(Xa(r=Ne(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new It((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),gu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new we(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Hr(3e4,6e4),gu=new Hr(5e3,15e3),mu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,qn(this.a,"apiKey",this.h),qn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function _u(e){try{return X.default.app(e).auth().Ga()}catch(t){return[]}}function bu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=dr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_r.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Qo(dr())}))}function Su(e){return e.m||(e.m=wr().then((function(){if(!e.u){var t=e.c,n=e.i,r=_u(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new fu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ho(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function Iu(e){return e.l||(e.C=e.c?Rr(e.c,_u(e.b)):null,e.l=new ns(e.g,R(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Tu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new yu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Eu(e){if(this.a=e||X.default.INTERNAL.reactNative&&X.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ku(e){this.b=e,this.a={},this.f=w(this.c,this)}vu.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?qn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(qn(e,"apiKey",this.s),qn(e,"appName",this.c),qn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=X.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,qn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),me(t)||qn(e,"customParameters",qr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&qn(e,"scopes",n.join(","))),this.l?qn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?qn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?qn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(e,a)&&qn(e,a,this.b[a]);return this.h?qn(e,"tid",this.h):tr(e.b,"tid"),this.f?qn(e,"eid",this.f):tr(e.b,"eid"),(a=_u(this.c)).length&&qn(e,"fw",a.join(",")),e.toString()},(e=bu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Su(e).then((function(){return function(e,t){return e.sb.then((function(){return new It((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new It((function(t){return function n(){Nn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Nn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Or();return!Ur(e)&&!Wr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new k("popup-blocked"));if(a&&!Ur())return this.ma().o((function(t){vr(e),i(t)})),r(),Pt();this.a||(this.a=wu(Iu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(Wo(n),a)||pr(Tu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=wu(Iu(this)));var i=this;return this.a.then((function(){Wo(t),pr(Tu(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Su(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){$(this.h,(function(t){return t==e}))},(e=Eu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&zr(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,qr(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,xu=[];function Nu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Pu(e){this.a=e}function Au(e){this.c=e,this.b=!1,this.a=[]}function Ru(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new It((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ou(e,c),t})).o((function(t){throw Ou(e,c),t}))}function Ou(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function Du(){if(!Fu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(W(xu,(function(n){n.b==e&&(t=n)})),!t){var t=new ku(e);xu.push(t)}return t}(),Nu(this.v,"keyChanged",(function(t,n){return Bu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Nu(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Au(new Pu(t)),Ru(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Lu(e){return new It((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new It((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Lu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function ju(e){return e.i||(e.i=Lu(e)),e.i}function Mu(e,t){var n=0;return new It((function r(i,o){ju(e).then(t).then(i).o((function(t){if(!(3<++n))return ju(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Fu(){try{return!!s.indexedDB}catch(pa){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function qu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new It((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function zu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ru(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function Bu(e){return ju(e).then((function(e){var t=Uu(qu(e,!1));return t.getAll?Vu(t.getAll()):new It((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=gr(e.c,n),e.c=n}return r}))}function Wu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Fu()){var e=Br(),r="__sak"+e;return Cu||(Cu=new Du),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var e="Node"==Er();if(e=Yu()||e&&X.default.INTERNAL.node&&X.default.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Yu()||X.default.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var e=s.localStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){this.type="nullStorage"}function Qu(){if(!function(){var e="Node"==Er();if(e=$u()||e&&X.default.INTERNAL.node&&X.default.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=$u()||X.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=s.sessionStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ju(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Er()]}ku.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Pu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Au.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(e=Du.prototype).set=function(e,t){var n=this,r=!1;return Mu(this,(function(t){return Vu((t=Uu(qu(t,!0))).get(e))})).then((function(i){return Mu(n,(function(o){if(o=Uu(qu(o,!0)),i)return i.value=t,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Vu(o.add(a))}))})).then((function(){return n.c[e]=t,zu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Mu(this,(function(t){return Vu(Uu(qu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Mu(this,(function(r){return n=!0,t.b++,Vu(Uu(qu(r,!0)).delete(e))})).then((function(){return delete t.c[e],zu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Bu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Wu(e),t()}(this),this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&Wu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e}))},(e=Hu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return Pt().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&fn(s.window,"storage",e)},e.ia=function(e){s.window&&gn(s.window,"storage",e)},(e=Xu.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=Qu.prototype).get=function(e){var t=this;return Pt().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Gu,cb:Qu},nc={F:Gu,cb:Qu},rc={F:Eu,cb:Xu},ic={F:Gu,cb:Xu},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Wr(Or())||!Ir()),t=Ur(),n=Lr();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Ju),e=Zu;try{this.g=!fr()&&Xr()||!s.indexedDB?new e.a.F:new Ku(Tr()?new Hu:new e.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Hu}this.v=new Hu,this.f=w(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function fc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),me(this.a)&&(uc(this,"local").ca(this.f),this.h||(fr()||!Xr())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(uc(this,"local").ia(this.f),hc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&ct&&10==ct&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function gc(){this.a=sc()}function mc(e,t){this.b=vc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(Tc):Tc),this.reset()}T(mc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,_c=[],bc=0;bc<yc;bc++)_c[bc]=0;var wc=J(128,_c);function Sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|dc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ic(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Sc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Sc(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){mc.call(this,8,kc)}T(Ec,mc);var kc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new gc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(e){return new k("invalid-cordova-configuration",e)}function Nc(e){var t=new Ec;Ic(t,e),e=[];var n=8*t.g;56>t.c?Ic(t,wc,56-t.c):Ic(t,wc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Pc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ac(e){return e.f||(e.f=e.ma().then((function(){return new It((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Rc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=zr(Vn(o=zn(i),"firebaseError")||null))?C(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Pc(e,i)}))}var n=new Ko("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Nn(500).then((function(){return Rc(e).then((function(){r||Pc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Xo||(Xo=new Go),function(e){var t=Xo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Rc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Ho(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Oc(e){this.a=e,this.b=sc()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?wr().then((function(){return new It((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",s))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",s))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",s))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",s))throw xc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Pt()},e.Nb=function(){return At(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Pt().then((function(){return Wo(t),Ac(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ko(t,r,null,o,new k("no-auth-event"),null,i),u=Dr("BuildInfo.packageName",s);if("string"!==typeof u)throw new k("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",s),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Or().toLowerCase().match(/android/))return At(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Nc(o),l.sessionId=o;var h=Tu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=Or(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new It((function(e,t){u=function(){var t=Dr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Nn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Rc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Ac(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ko("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Ta=function(e){$(this.b,(function(t){return t==e}))};var Dc={name:"pendingRedirect",F:"session"};function Lc(e){return lc(e.b,Dc,e.a)}function jc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new $c,this.C=new nl,this.g=new Oc(Xc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mc(this.D,this.v,this.m,x,this.J)}function Mc(e,t,n,r,i){var o=X.default.SDK_VERSION||null;return Sr()?new Cc(e,t,n,o,r,i):new bu(e,t,n,o,r,i)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Yb()&&Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Ub()||Jc(e.b)}function qc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Lc(e.g).then((function(){Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function Vc(e,t){$(e.h,(function(e){return e==t}))}jc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mc(this.D,this.v,this.m,null,this.J),this.i={}},jc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Jc(this.b),t};var zc=new Hr(2e3,1e4),Bc=new Hr(3e4,6e4);function Wc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hc(e,t,n,r,i){var o;return function(e){return e.b.set(Dc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Kc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Lc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new It((function(){})):Lc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Gc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),zc.get())}jc.prototype.ra=function(){return this.b.ra()};var Yc={};function Xc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Qc(e,t,n,r){var i=Xc(t,n,r);return Yc[i]||(Yc[i]=new jc(e,t,n,r)),Yc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,ei(this,"verificationId",e)}function ol(e,t,n,r){return new Vo(e).gb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Xi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Yr(1e3*t.exp),authTime:Yr(1e3*t.auth_time),issuedAtTime:Yr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;W(t[ul]||[],(function(e){(e=oi(e))&&i.b.push(e)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):At(new k("invalid-auth-event")):(tl(this,!1,null,null),Pt())}else At(new k("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new It((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=Nn(Bc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new k("invalid-auth-event"))}else At(new k("invalid-auth-event"))},il.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ei(this,"resolver",this.b)}function hl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function fl(){}function dl(e){ei(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function gl(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vl(this,n)}function vl(e,t){e.b=t,ei(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _l(e,t){e.stop(),e.b=Nn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Gr()||!e?Pt():new It((function(n){t=function(){Gr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){_l(e,!0)})).o((function(t){e.i(t)&&_l(e,!1)}))}function bl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Sl(e,t){e.b=Yi(t[is]||""),e.a=t.refreshToken,wl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Il(e,t){return function(e,t){return new It((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",er(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Yi(t.access_token),e.a=t.refresh_token,wl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Tl(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Yr(t||null),creationTime:Yr(e||null)})}function El(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function kl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=X.default.SDK_VERSION?Rr(X.default.SDK_VERSION):null;this.a=new ns(this.l,R(x),r),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new bl(this.a),Ll(this,t[is]),Sl(this.h,t),ei(this,"refreshToken",this.h.a),Fl(this,n||{}),Tn.call(this),this.P=!1,this.s&&jr()&&(this.b=Qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Cl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Pl(i,e.f)},this.ja=null,this.S=new ml(this,n),ei(this,"multiFactor",this.S)}function Cl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=Qc(e.s,e.l,e.m,e.u),e.P&&(Vc(t,e),qc(e.b,e)))}function xl(e,t){e.qa&&gn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Nl(e,t){e.$&&gn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Pl(e,t){e.aa=t,fs(e.a,X.default.SDK_VERSION?Rr(X.default.SDK_VERSION,e.aa):null)}function Al(e,t){e.ja&&gn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Rl(e){try{return X.default.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ol(e){e.J||e.D.b||(e.D.start(),gn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Dl(e){gn(e,"tokenChanged",e.ba),e.D.stop()}function Ll(e,t){e.Aa=t,ei(e,"_lat",t)}function jl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Ot(t).then((function(){return e}))}function Ml(e){e.b&&!e.P&&(e.P=!0,qc(e.b,e))}function Fl(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Tl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function ql(e){return Pt().then((function(){if(e.J)throw new k("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function zl(e,t){t&&(Bl(e,t.providerId),e.providerData.push(t))}function Bl(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function Wl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Kl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new Tl(e.a,e.b)}(t.metadata)):ei(e,"metadata",new Tl),W(t.providerData,(function(t){zl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ei(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function Hl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,qs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Wl(e,"isAnonymous",!1),t}))}))}function Gl(e,t){t[is]&&e.Aa!=t[is]&&(Sl(e.h,t),e.dispatchEvent(new gl("tokenChanged")),Ll(e,t[is]),Wl(e,"refreshToken",e.h.a))}function Yl(e,t){return Hl(e).then((function(){if(Y(Vl(e),t))return jl(e).then((function(){throw new k("provider-already-linked")}))}))}function Xl(e,t,n){return ni({user:e,credential:Bo(t),additionalUserInfo:t=eo(t),operationType:n})}function Ql(e,t){return Gl(e,t),e.reload().then((function(){return e}))}function $l(e,t,n,r,i){if(!jr())return At(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=Zi(n.providerId),a=Br(e.uid+":::"),s=null;(!Ur()||Ir())&&e.s&&n.isOAuthProvider&&(s=Tu(e.s,e.l,e.m,t,n,null,a,X.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return Wc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new It((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Gc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ni(e):null})).o((function(e){throw u&&vr(u),e})),eh(e,r,i)}function Jl(e,t,n,r,i){if(!jr())return At(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Br(e.uid+":::");return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,jl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rh,e.w(),t.a)),t})).then((function(){return Hc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return ih(e.ha);throw o})).then((function(){if(o)throw o})),eh(e,r,i)}function Zl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function eh(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new gl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Q(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),Rl(e),w(e.jc,e))),n||t}))}function th(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new kl(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&zl(i,ni(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nh(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[ul],delete n[cl],_e(n,e),t.g(n)}))},T(ll,k),fl.prototype.tb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_e(n,{phoneVerificationInfo:qo(e.a)}),cu(t,Fs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return _e(n={mfaPendingCredential:n},{phoneVerificationInfo:qo(e.a)}),cu(t,Us,n)}))}(this,e,t)},T(dl,fl),T(pl,dl),T(gl,Zt),(e=ml.prototype).yc=function(e){vl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=oi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Gl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return vl(t,r),Gl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,_l(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Il(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(kl,Tn),kl.prototype.xa=function(e){this.za=e,cs(this.a,e)},kl.prototype.la=function(){return this.za},kl.prototype.Ga=function(){return Z(this.aa)},kl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ei(kl.prototype,"providerId","firebase"),(e=kl.prototype).reload=function(){var e=this;return eh(this,ql(this).then((function(){return Hl(e).then((function(){return jl(e)})).then(Ul)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return eh(this,ql(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Ll(t,e.accessToken),t.dispatchEvent(new gl("tokenChanged"))),Wl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Fl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new El(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)zl(this,t[n]);Wl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new gl("userReloaded",{hd:e}))},e.Lc=function(e){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return eh(this,e.c(this.a,this.uid).then((function(e){return Gl(t,e),n=Xl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return eh(this,Yl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Xl(t,e,"link"),Ql(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return eh(this,Yl(this,"phone").then((function(){return ol(Rl(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return eh(this,Pt().then((function(){return ol(Rl(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return eh(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.ed=function(e){var t=this;return eh(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Gl(t,e),t.reload()})))},e.Db=function(e){var t=this;return eh(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ql(this);var t=this;return eh(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Gl(t,e),Wl(t,"displayName",e.displayName||null),Wl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))})),jl(t)})).then(Ul))},e.cd=function(e){var t=this;return eh(this,Hl(this).then((function(n){return Y(Vl(t),e)?function(e,t,n){return cu(e,Ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Vl(t),(function(e){n[e]||Bl(t,e)})),n[Vo.PROVIDER_ID]||ei(t,"phoneNumber",null),jl(t)})):jl(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return eh(this,this.I().then((function(t){return cu(e.a,Ds,{idToken:t})})).then((function(){e.dispatchEvent(new gl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");xl(e,null),Nl(e,null),Al(e,null),e.N=[],e.J=!0,Dl(e),ei(e,"refreshToken",null),e.b&&Vc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Yl(t,e.providerId).then((function(){return jl(t)}))}),!1)},e.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,(function(){return Yl(t,e.providerId)}),!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,this.I().then((function(n){return Cs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Xl(i,e,"link"),Ql(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,Pt().then((function(){return go(xs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Xl(i,e,"reauthenticate"),Gl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return eh(this,this.I().then((function(t){return n=t,"undefined"===typeof e||me(e)?{}:Wi(new Di(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return eh(this,this.I().then((function(e){return r=e,"undefined"===typeof t||me(t)?{}:Wi(new Di(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return eh(this,e=go(Pt(e),n.uid).then((function(e){return t=Xl(n,e,"reauthenticate"),Gl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&_e(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),_e(e,this.S.w()),e};var rh={name:"redirectUser",F:"session"};function ih(e){return lc(e.b,rh,e.a)}function oh(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=uh("local"),n=uh("session"),r=uh("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=zr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(sh,e.a).then((function(e){return e?uh(e):t}))}))}))})).then((function(t){return e.c=t,ah(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(uh("local"),this.a,w(this.g,this))}function ah(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,uh(oc[n]),e.a));return r.push(lc(e.b,sh,e.a)),function(e){return new It((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],S(o,s),a);else t(i)}))}(r)}oh.prototype.g=function(){var e=this,t=uh("local");fh(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return ah(e,"local").then((function(){e.c=t}))}))}))};var sh={name:"persistence",F:"session"};function uh(e){return{name:"authUser",F:e}}function ch(e,t){return fh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function lh(e){return fh(e,(function(){return lc(e.b,e.c,e.a)}))}function hh(e,t,n){return fh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),th(e||{})}))}))}function fh(e,t){return e.f=e.f.then(t,t),e.f}function dh(e){if(this.l=!1,ei(this,"settings",new rl),ei(this,"app",e),!Sh(this).options||!Sh(this).options.apiKey)throw new k("invalid-api-key");e=X.default.SDK_VERSION?Rr(X.default.SDK_VERSION):null,this.a=new ns(Sh(this).options&&Sh(this).options.apiKey,R(x),e),this.P=[],this.s=[],this.N=[],this.Pa=X.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=X.default.INTERNAL.createSubscribe(w(this.Ac,this)),bh(this,null),this.i=new oh(Sh(this).options.apiKey+":"+Sh(this).name),this.D=new nh(Sh(this).options.apiKey+":"+Sh(this).name),this.$=kh(this,function(e){var t=Sh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rh,e.a).then((function(e){return e&&t&&(e.authDomain=t),th(e||{})}))}(e.D,Sh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),ih(e.D)}));return kh(e,t)}(e).then((function(){return hh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return ch(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:lh(e.i)}))):null})).then((function(t){bh(e,t||null)}));return kh(e,n)}(this)),this.h=kh(this,function(e){return e.$.then((function(){return yh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(uh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=Sh(e).options.authDomain,n=Sh(e).options.apiKey;t&&jr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Qc(t,n,Sh(e).name,e.R),qc(e.b,e),Ih(e)&&Ml(Ih(e)),e.m){Ml(e.m);var r=e.m;r.xa(e.la()),xl(r,e),Pl(r=e.m,e.J),Al(r,e),Cl(r=e.m,e.R),Nl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=zn(this.R.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function ph(e){Zt.call(this,"languageCodeChanged"),this.h=e}function gh(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function mh(e){Zt.call(this,"frameworkChanged"),this.f=e}function vh(e){return e.Oa||At(new k("auth-domain-config-required"))}function yh(e){if(!jr())return At(new k("operation-not-supported-in-this-environment"));var t=vh(e).then((function(){return e.b.ra()})).then((function(e){return e?ni(e):null}));return kh(e,t)}function _h(e,t){var n={};return n.apiKey=Sh(e).options.apiKey,n.authDomain=Sh(e).options.authDomain,n.appName=Sh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new kl(e,t);return n&&(i.ha=n),r&&Pl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Ih(e)&&t.uid==Ih(e).uid?(Kl(Ih(e),t),e.da(t)):(bh(e,t),Ml(t),e.da(t))})).then((function(){Eh(e)}))}function bh(e,t){Ih(e)&&(function(e,t){$(e.W,(function(e){return e==t}))}(Ih(e),e.Ba),gn(Ih(e),"tokenChanged",e.qa),gn(Ih(e),"userDeleted",e.za),gn(Ih(e),"userInvalidated",e.Aa),Dl(Ih(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Ol(t)),ei(e,"currentUser",t),t&&(t.xa(e.la()),xl(t,e),Pl(t,e.J),Al(t,e),Cl(t,e.R),Nl(t,e))}function wh(e,t){var n=null,r=null;return kh(e,t.then((function(t){return n=Bo(t),r=eo(t),_h(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ni({user:Ih(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Sh(e){return e.app}function Ih(e){return e.currentUser}function Th(e){return Ih(e)&&Ih(e)._lat||null}function Eh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Th(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Th(e))}}function kh(e,t){return e.P.push(t),t.oa((function(){Q(e.P,t)})),t}function Ch(){}function xh(){this.a={},this.b=1e12}oh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!Lr()&&"none"!==e)throw n}}(e),fh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,ah(n,e)})).then((function(){if(n.c=uh(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},T(dh,Tn),T(ph,Zt),T(gh,Zt),T(mh,Zt),(e=dh.prototype).yb=function(e){return kh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new ph(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&wr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new gh(this.R))}},e.Gc=function(e){this.J.push(e),fs(this.a,X.default.SDK_VERSION?Rr(X.default.SDK_VERSION,this.J):null),this.dispatchEvent(new mh(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Sh(this).options.apiKey,authDomain:Sh(this).options.authDomain,appName:Sh(this).name,currentUser:Ih(this)&&Ih(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return wh(i,ks(i.a,o))}))},e.Xc=function(e){if(!jr())return At(new k("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),r=Br(),i=null;(!Ur()||Ir())&&Sh(this).options.authDomain&&e.isOAuthProvider&&(i=Tu(Sh(this).options.authDomain,Sh(this).options.apiKey,Sh(this).name,"signInViaPopup",e,null,r,X.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return kh(this,n=vh(this).then((function(n){return Wc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new It((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Gc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ni(e):null})).o((function(e){throw o&&vr(o),e})))},e.Yc=function(e){if(!jr())return At(new k("operation-not-supported-in-this-environment"));var t=this,n=vh(this).then((function(){return function(e){return fh(e,(function(){return e.b.set(sh,e.c.F,e.a)}))}(t.i)})).then((function(){return Hc(t.b,"signInViaRedirect",e,void 0,t.T())}));return kh(this,n)},e.ra=function(){var e=this;return yh(this).then((function(t){return e.b&&Zc(e.b.b),t})).o((function(t){throw e.b&&Zc(e.b.b),t}))},e.dd=function(e){if(!e)return At(new k("null-user"));if(this.S!=e.tenantId)return At(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=Sh(this).options.apiKey,n.authDomain=Sh(this).options.authDomain,n.appName=Sh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new kl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Pl(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return kh(this,this.h.then((function(){if(Sh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Ih(t)&&e.uid==Ih(t).uid?(Kl(Ih(t),e),t.da(e)):(bh(t,r),Ml(r),t.da(r))})).then((function(){Eh(t)})))},e.Bb=function(){var e=this;return kh(this,this.h.then((function(){return e.b&&Zc(e.b.b),Ih(e)?(bh(e,null),lh(e.i).then((function(){Eh(e)}))):Pt()})))},e.Zc=function(){var e=this;return hh(this.i,Sh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Ih(e)&&t){n=Ih(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(Ih(e),t),Ih(e).I();(Ih(e)||t)&&(bh(e,t),t&&(Ml(t),t.ha=e.D),e.b&&qc(e.b,e),Eh(e))}}))},e.da=function(e){return ch(this.i,e)},e.mc=function(){Eh(this),this.da(Ih(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return wh(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Ih(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),kh(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Th(e)))})))}(this,(function(){e.next(Ih(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Ih(r)):"function"===typeof e.next&&e.next(Ih(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Ih(r)):"function"===typeof e.next&&e.next(Ih(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return kh(this,this.h.then((function(){return Ih(t)?Ih(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return wh(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return Wl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return wh(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return wh(n,cu(n.a,Rs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return wh(t,e.ka(t.a))}))},e.Sc=function(e){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Ih(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wh(e,e.a.Ab()).then((function(t){var n=t.user;return Wl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Ih(this)&&Ih(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Ih(this)&&Ol(Ih(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Ih(this)&&Dl(Ih(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),kh(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Th(t))})))},e.removeAuthTokenListener=function(e){$(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(uh("local"),e.a,this.ja),this.b&&(Vc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return kh(this,function(e,t){return cu(e,Os,{identifier:t,continueUri:Mr()?dr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Mo(e)},e.xb=function(e,t){var n=this;return kh(this,Pt().then((function(){var e=new Di(t);if(!e.c)throw new k("argument-error",Mi+" must be true when sending sign in link to email");return Wi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return kh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return kh(this,this.a.Sa(e).then((function(e){return new hi(e)})))},e.kb=function(e){return kh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return kh(this,Pt().then((function(){return"undefined"===typeof t||me(t)?{}:Wi(new Di(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return kh(this,ol(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return kh(this,Pt().then((function(){var r=t||dr(),i=jo(e,r);if(!(r=Mo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},Ch.prototype.render=function(){},Ch.prototype.reset=function(){},Ch.prototype.getResponse=function(){},Ch.prototype.execute=function(){};var Nh=null;function Ph(e,t){return(t=Ah(t))&&e.a[t]||null}function Ah(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ht(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Oh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Dh(){}function Lh(){}xh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rh(e,t),this.b++},xh.prototype.reset=function(e){var t=Ph(this,e);e=Ah(e),t&&e&&(t.delete(),delete this.a[e])},xh.prototype.getResponse=function(e){return(e=Ph(this,e))?e.getResponse():null},xh.prototype.execute=function(e){(e=Ph(this,e))&&e.execute()},Rh.prototype.getResponse=function(){return Oh(this),this.b},Rh.prototype.execute=function(){Oh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rh.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,gn(this.f,"click",this.i)},ei(Dh,"FACTOR_ID","phone"),Lh.prototype.g=function(){return Nh||(Nh=new xh),Pt(Nh)},Lh.prototype.c=function(){};var jh=null;function Mh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Fh=new we(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Uh=new Hr(3e4,6e4);Mh.prototype.g=function(e){var t=this;return new It((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Uh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},Pt(Xa(Ne(Fh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Mh.prototype.c=function(){this.b--};var qh=null;function Vh(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(jh||(jh=new Lh),a=jh):(qh||(qh=new Mh),a=qh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Wh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Kh],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ht(t)||!this.i&&ht(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[zh];this.a[zh]=function(e){if(Hh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Dr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Bh];this.a[Bh]=function(){if(Hh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Dr(l,s);"function"===typeof e&&e()}}}var zh="callback",Bh="expired-callback",Wh="sitekey",Kh="size";function Hh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Gh(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Yh(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Xh(e,t,n){var r=!1;try{this.b=n||X.default.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=X.default.SDK_VERSION?Rr(X.default.SDK_VERSION,o):null,Vh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,R(x),r)}function Qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=$h.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=$h[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Vh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gh(this,Pt().then((function(){if(Mr()&&!Tr())return wr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Hs,{})})).then((function(t){e.a[Wh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Yh(this);var e=this;return Gh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ht(t);t=mt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Yh(this);var e=this;return Gh(this,this.render().then((function(t){return new It((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Yh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Yh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ht(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Xh,Vh);var $h="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function ef(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function tf(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function nf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function rf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function of(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function af(e){return g(e)&&"string"===typeof e.uid}function sf(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uf(e,t){for(var n in t){var r=t[n].name;e[r]=hf(r,e[n],t[n].j)}}function cf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Qh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function lf(e,t,n,r){e[t]=hf(t,n,r)}function hf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uf(dh.prototype,{kb:{name:"applyActionCode",j:[Jh("code")]},Sa:{name:"checkActionCode",j:[Jh("code")]},ob:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jh("email"),ef("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[rf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof kl)}},nf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),ef("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),cf(dh.prototype,{lc:{name:"languageCode",lb:sf(Jh(),nf(),"languageCode")},ti:{name:"tenantId",lb:sf(Jh(),nf(),"tenantId")}}),dh.Persistence=oc,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(kl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},rb:{name:"linkWithCredential",j:[rf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},ub:{name:"reauthenticateWithCredential",j:[rf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Cb:{name:"updateEmail",j:[Jh("email")]},Db:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[rf("phone")]},Eb:{name:"updateProfile",j:[ef("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(xh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(It.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),cf(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zh("appVerificationDisabledForTesting")}}),uf(il.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),lf(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Do,Uo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sf(Jh(),ef(),"json")]),lf(Lo,"credential",(function(e,t){return new Oo(e,t)}),[Jh("email"),Jh("password")]),uf(Oo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Eo.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Eo,"credential",ko,[sf(Jh(),ef(),"token")]),lf(Lo,"credentialWithLink",jo,[Jh("email"),Jh("emailLink")]),uf(Co.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Co,"credential",xo,[sf(Jh(),ef(),"token")]),uf(No.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(No,"credential",Po,[sf(Jh(),sf(ef(),nf()),"idToken"),sf(Jh(),nf(),"accessToken",!0)]),uf(Ao.prototype,{Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Ao,"credential",Ro,[sf(Jh(),ef(),"token"),Jh("secret",!0)]),uf(To.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[sf(Jh(),sf(ef(),nf()),"optionsOrIdToken"),sf(Jh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),uf(_o.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(mo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),lf(Vo,"credential",zo,[Jh("verificationId"),Jh("verificationCode")]),uf(Vo.prototype,{gb:{name:"verifyPhoneNumber",j:[sf(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?of(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?of(e.session,fo)&&af(e.multiFactorHint):e.session&&e.multiFactorUid?of(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uf(Fo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),uf(k.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf($o.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(Qo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(ll.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),uf(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uf(ml.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[sf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:af},Jh(),"multiFactorInfoIdentifier")]}}),uf(Xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lf(Ei,"parseLink",Oi,[Jh("link")]),lf(Dh,"assertion",(function(e){return new pl(e)}),[rf("phone")]),function(){if("undefined"===typeof X.default||!X.default.INTERNAL||!X.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:po,Error:k};lf(e,"EmailAuthProvider",Lo,[]),lf(e,"FacebookAuthProvider",Eo,[]),lf(e,"GithubAuthProvider",Co,[]),lf(e,"GoogleAuthProvider",No,[]),lf(e,"TwitterAuthProvider",Ao,[]),lf(e,"OAuthProvider",To,[Jh("providerId")]),lf(e,"SAMLAuthProvider",Io,[Jh("providerId")]),lf(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof dh)}}]),lf(e,"RecaptchaVerifier",Xh,[sf(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ef("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof X.default.app.App)}}]),lf(e,"ActionCodeURL",Ei,[]),lf(e,"PhoneMultiFactorGenerator",Dh,[]),X.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new dh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),X.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),X.default.registerVersion("@firebase/auth","0.16.8"),X.default.INTERNAL.extendNamespace({User:kl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(895);var Q=n(203),$=n(971),J=n(386),Z=function(e,t){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Z(e,t)};function ee(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var te,ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},re=re||{},ie=ne||self;function oe(){}function ae(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function se(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ue="closure_uid_"+(1e9*Math.random()>>>0),ce=0;function le(e,t,n){return e.call.apply(e.bind,arguments)}function he(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fe(e,t,n){return(fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:he).apply(null,arguments)}function de(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function pe(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ge(){this.s=this.s,this.o=this.o}var me={};ge.prototype.s=!1,ge.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ue)&&e[ue]||(e[ue]=++ce)}(this);delete me[e]}},ge.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ve=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ye=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function _e(e){return Array.prototype.concat.apply([],arguments)}function be(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function we(e){return/^[\s\xa0]*$/.test(e)}var Se,Ie=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Te(e,t){return-1!=e.indexOf(t)}function Ee(e,t){return e<t?-1:e>t?1:0}e:{var ke=ie.navigator;if(ke){var Ce=ke.userAgent;if(Ce){Se=Ce;break e}}Se=""}function xe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ne(e){var t={};for(var n in e)t[n]=e[n];return t}var Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Pe.length;o++)n=Pe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Re(e){return Re[" "](e),e}Re[" "]=oe;var Oe,De=Te(Se,"Opera"),Le=Te(Se,"Trident")||Te(Se,"MSIE"),je=Te(Se,"Edge"),Me=je||Le,Fe=Te(Se,"Gecko")&&!(Te(Se.toLowerCase(),"webkit")&&!Te(Se,"Edge"))&&!(Te(Se,"Trident")||Te(Se,"MSIE"))&&!Te(Se,"Edge"),Ue=Te(Se.toLowerCase(),"webkit")&&!Te(Se,"Edge");function qe(){var e=ie.document;return e?e.documentMode:void 0}e:{var Ve="",ze=function(){var e=Se;return Fe?/rv:([^\);]+)(\)|;)/.exec(e):je?/Edge\/([\d\.]+)/.exec(e):Le?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ue?/WebKit\/(\S+)/.exec(e):De?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ze&&(Ve=ze?ze[1]:""),Le){var Be=qe();if(null!=Be&&Be>parseFloat(Ve)){Oe=String(Be);break e}}Oe=Ve}var We,Ke={};function He(){return function(e){var t=Ke;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ie(String(Oe)).split("."),n=Ie("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ee(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ee(0==o[2].length,0==a[2].length)||Ee(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(ie.document&&Le){var Ge=qe();We=Ge||(parseInt(Oe,10)||void 0)}else We=void 0;var Ye=We,Xe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ie.addEventListener("test",oe,t),ie.removeEventListener("test",oe,t)}catch(n){}return e}();function Qe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function $e(e,t){if(Qe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fe){e:{try{Re(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Je[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$e.Z.h.call(this)}}Qe.prototype.h=function(){this.defaultPrevented=!0},pe($e,Qe);var Je={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function tt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++et,this.ca=this.fa=!1}function nt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function rt(e){this.src=e,this.g={},this.h=0}function it(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ve(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(nt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ot(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}rt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ot(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new tt(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var at="closure_lm_"+(1e6*Math.random()|0),st={};function ut(e,t,n,r,i){if(r&&r.once)return lt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ut(e,t[o],n,r,i);return null}return n=vt(n),e&&e[Ze]?e.N(t,n,se(r)?!!r.capture:!!r,i):ct(e,t,n,!1,r,i)}function ct(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=se(i)?!!i.capture:!!i,s=gt(e);if(s||(e[at]=s=new rt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=pt;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xe||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function lt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)lt(e,t[o],n,r,i);return null}return n=vt(n),e&&e[Ze]?e.O(t,n,se(r)?!!r.capture:!!r,i):ct(e,t,n,!0,r,i)}function ht(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ht(e,t[o],n,r,i);else r=se(r)?!!r.capture:!!r,n=vt(n),e&&e[Ze]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ot(o=e.g[t],n,r,i))&&(nt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=gt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ot(t,n,r,i)),(n=-1<e?t[e]:null)&&ft(n))}function ft(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ze])it(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gt(t))?(it(n,e),0==n.h&&(n.src=null,t[at]=null)):nt(e)}}}function dt(e){return e in st?st[e]:st[e]="on"+e}function pt(e,t){if(e.ca)e=!0;else{t=new $e(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ft(e),e=n.call(r,t)}return e}function gt(e){return(e=e[at])instanceof rt?e:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(e){return"function"===typeof e?e:(e[mt]||(e[mt]=function(t){return e.handleEvent(t)}),e[mt])}function yt(){ge.call(this),this.i=new rt(this),this.P=this,this.I=null}function _t(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Qe(t,e);else if(t instanceof Qe)t.target=t.target||e;else{var i=t;Ae(t=new Qe(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=bt(a,r,!0,t)&&i}if(i=bt(a=t.g=e,r,!0,t)&&i,i=bt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=bt(a=t.g=n[o],r,!1,t)&&i}function bt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&it(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}pe(yt,ge),yt.prototype[Ze]=!0,yt.prototype.removeEventListener=function(e,t,n,r){ht(this,e,t,n,r)},yt.prototype.M=function(){if(yt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nt(n[r]);delete t.g[e],t.h--}}this.I=null},yt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var wt=ie.JSON.stringify;function St(){var e=Pt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var It,Tt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Et.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Et=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new kt}),(function(e){return e.reset()})),kt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ct(e){ie.setTimeout((function(){throw e}),0)}function xt(e,t){It||function(){var e=ie.Promise.resolve(void 0);It=function(){e.then(At)}}(),Nt||(It(),Nt=!0),Pt.add(e,t)}var Nt=!1,Pt=new Tt;function At(){for(var e;e=St();){try{e.h.call(e.g)}catch(n){Ct(n)}var t=Et;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nt=!1}function Rt(e,t){yt.call(this),this.h=e||1,this.g=t||ie,this.j=fe(this.kb,this),this.l=Date.now()}function Ot(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Dt(e,t,n){if("function"===typeof e)n&&(e=fe(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fe(e.handleEvent,e)}return 2147483647<Number(t)?-1:ie.setTimeout(e,t||0)}function Lt(e){e.g=Dt((function(){e.g=null,e.i&&(e.i=!1,Lt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}pe(Rt,yt),(te=Rt.prototype).da=!1,te.S=null,te.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_t(this,"tick"),this.da&&(Ot(this),this.start()))}},te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){Rt.Z.M.call(this),Ot(this),delete this.g};var jt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Lt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ge);function Mt(e){ge.call(this),this.h=e,this.g={}}pe(Mt,ge);var Ft=[];function Ut(e,t,n,r){Array.isArray(n)||(n&&(Ft[0]=n.toString()),n=Ft);for(var i=0;i<n.length;i++){var o=ut(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function qt(e){xe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ft(e)}),e),e.g={}}function Vt(){this.g=!0}function zt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return wt(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Mt.prototype.M=function(){Mt.Z.M.call(this),qt(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vt.prototype.Aa=function(){this.g=!1},Vt.prototype.info=function(){};var Bt={},Wt=null;function Kt(){return Wt=Wt||new yt}function Ht(e){Qe.call(this,Bt.Ma,e)}function Gt(e){var t=Kt();_t(t,new Ht(t,e))}function Yt(e,t){Qe.call(this,Bt.STAT_EVENT,e),this.stat=t}function Xt(e){var t=Kt();_t(t,new Yt(t,e))}function Qt(e,t){Qe.call(this,Bt.Na,e),this.size=t}function $t(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ie.setTimeout((function(){e()}),t)}Bt.Ma="serverreachability",pe(Ht,Qe),Bt.STAT_EVENT="statevent",pe(Yt,Qe),Bt.Na="timingevent",pe(Qt,Qe);var Jt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function en(){}function tn(e){return e.h||(e.h=e.i())}function nn(){}en.prototype.h=null;var rn,on={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function an(){Qe.call(this,"d")}function sn(){Qe.call(this,"c")}function un(){}function cn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Mt(this),this.P=hn,e=Me?125:void 0,this.W=new Rt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ln}function ln(){this.i=null,this.g="",this.h=!1}pe(an,Qe),pe(sn,Qe),pe(un,en),un.prototype.g=function(){return new XMLHttpRequest},un.prototype.i=function(){return{}},rn=new un;var hn=45e3,fn={},dn={};function pn(e,t,n){e.K=1,e.v=Mn(An(t)),e.s=n,e.U=!0,gn(e,null)}function gn(e,t){e.F=Date.now(),_n(e),e.A=An(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Qn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ln,e.g=Jr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jt(fe(e.Ia,e,e.g),e.O)),Ut(e.V,e.g,"readystatechange",e.gb),t=e.H?Ne(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Gt(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function mn(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function vn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=yn(e,n))==dn){4==t&&(e.o=4,Xt(14),i=!1),zt(e.j,e.m,null,"[Incomplete Response]");break}if(r==fn){e.o=4,Xt(15),zt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zt(e.j,e.m,r,null),Tn(e,r)}mn(e)&&r!=dn&&r!=fn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wr(t),t.L=!0,Xt(11))):(zt(e.j,e.m,n,"[Invalid Chunked Response]"),In(e),Sn(e))}function yn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dn:(n=Number(t.substring(n,r)),isNaN(n)?fn:(r+=1)+n>t.length?dn:(t=t.substr(r,n),e.C=r+n,t))}function _n(e){e.Y=Date.now()+e.P,bn(e,e.P)}function bn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$t(fe(e.eb,e),t)}function wn(e){e.B&&(ie.clearTimeout(e.B),e.B=null)}function Sn(e){0==e.l.G||e.I||Gr(e.l,e)}function In(e){wn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ot(e.W),qt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ir(n.i,e)))if(n.I=e.N,!e.J&&ir(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Hr(n),Lr(n)}Br(n),Xt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=$t(fe(n.ab,n),6e3));if(1>=rr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Xr(n,11)}else if((e.J||n.g==e)&&Hr(n),!we(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Te(l,"spdy")||Te(l,"quic")||Te(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(or(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,jn(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=$r(r,r.H?r.la:null,r.W),d.J){ar(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(wn(p),_n(p)),r.g=d}else zr(r);0<n.l.length&&Fr(n)}else"stop"!=o[0]&&"close"!=o[0]||Xr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Xr(n,7):Dr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Gt(4)}catch(o){}}function En(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ae(e)||"string"===typeof e)ye(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ae(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ae(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function kn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Cn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];xn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)xn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(te=cn.prototype).setTimeout=function(e){this.P=e},te.gb=function(e){e=e.target;var t=this.L;t&&3==Nr(e)?t.l():this.Ia(e)},te.Ia=function(e){try{if(e==this.g)e:{var t=Nr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Me||this.g&&(this.h.h||this.g.ga()||Pr(this.g)))){this.I||4!=t||7==n||Gt(8==n||0>=r?3:2),wn(this);var i=this.g.ba();this.N=i;t:if(mn(this)){var o=Pr(this.g);e="";var a=o.length,s=4==Nr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){In(this),Sn(this);var u="";break t}this.h.i=new ie.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!we(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Xt(12),In(this),Sn(this);break e}zt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tn(this,i)}this.U?(vn(this,t,u),Me&&this.i&&3==t&&(Ut(this.V,this.W,"tick",this.fb),this.W.start())):(zt(this.j,this.m,u,null),Tn(this,u)),4==t&&In(this),this.i&&!this.I&&(4==t?Gr(this.l,this):(this.i=!1,_n(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),In(this),Sn(this)}}}catch(t){}},te.fb=function(){if(this.g){var e=Nr(this.g),t=this.g.ga();this.C<t.length&&(wn(this),vn(this,e,t),this.i&&4!=e&&_n(this))}},te.cancel=function(){this.I=!0,In(this)},te.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Gt(3),Xt(17)),In(this),this.o=2,Sn(this)):bn(this,this.Y-e)},(te=kn.prototype).R=function(){Cn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},te.T=function(){return Cn(this),this.g.concat()},te.get=function(e,t){return xn(this.h,e)?this.h[e]:t},te.set=function(e,t){xn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},te.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pn){this.g=void 0!==t?t:e.g,Rn(this,e.j),this.s=e.s,On(this,e.i),Dn(this,e.m),this.l=e.l,t=e.h;var n=new Hn;n.i=t.i,t.g&&(n.g=new kn(t.g),n.h=t.h),Ln(this,n),this.o=e.o}else e&&(n=String(e).match(Nn))?(this.g=!!t,Rn(this,n[1]||"",!0),this.s=Fn(n[2]||""),On(this,n[3]||"",!0),Dn(this,n[4]),this.l=Fn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.o=Fn(n[7]||"")):(this.g=!!t,this.h=new Hn(null,this.g))}function An(e){return new Pn(e)}function Rn(e,t,n){e.j=n?Fn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function On(e,t,n){e.i=n?Fn(t,!0):t}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ln(e,t,n){t instanceof Hn?(e.h=t,function(e,t){t&&!e.j&&(Gn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yn(this,t),Qn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Un(t,Wn)),e.h=new Hn(t,e.g))}function jn(e,t,n){e.h.set(t,n)}function Mn(e){return jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Un(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Un(t,Vn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Un(t,Vn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Un(n,"/"==n.charAt(0)?Bn:zn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Un(n,Kn)),e.join("")};var Vn=/[#\/\?@]/g,zn=/[#\?:]/g,Bn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Hn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gn(e){e.g||(e.g=new kn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e,t){Gn(e),t=$n(e,t),xn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,xn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Cn(e)))}function Xn(e,t){return Gn(e),t=$n(e,t),xn(e.g.h,t)}function Qn(e,t,n){Yn(e,t),0<n.length&&(e.i=null,e.g.set($n(e,t),be(n)),e.h+=n.length)}function $n(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(te=Hn.prototype).add=function(e,t){Gn(this),this.i=null,e=$n(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},te.forEach=function(e,t){Gn(this),this.g.forEach((function(n,r){ye(n,(function(n){e.call(t,n,r,this)}),this)}),this)},te.T=function(){Gn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},te.R=function(e){Gn(this);var t=[];if("string"===typeof e)Xn(this,e)&&(t=_e(t,this.g.get($n(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=_e(t,e[n])}return t},te.set=function(e,t){return Gn(this),this.i=null,Xn(this,e=$n(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},te.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Jn=function(e,t){this.h=e,this.g=t};function Zn(e){this.l=e||tr,ie.PerformanceNavigationTiming?e=0<(e=ie.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ie.g&&ie.g.Ea&&ie.g.Ea()&&ie.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var er,tr=10;function nr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rr(e){return e.h?1:e.g?e.g.size:0}function ir(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function or(e,t){e.g?e.g.add(t):e.h=t}function ar(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ee(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return be(e.i)}function ur(){}function cr(){this.g=new ur}function lr(e,t,n){var r=n||"";try{En(e,(function(e,n){var i=e;se(e)&&(i=wt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Rp){throw t.push(r+"type="+encodeURIComponent("_badmap")),Rp}}function hr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function fr(e){this.l=e.$b||null,this.j=e.ib||!1}function dr(e,t){yt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zn.prototype.cancel=function(){var e,t;if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ee(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},ur.prototype.stringify=function(e){return ie.JSON.stringify(e,void 0)},ur.prototype.parse=function(e){return ie.JSON.parse(e,void 0)},pe(fr,en),fr.prototype.g=function(){return new dr(this.l,this.j)},fr.prototype.i=(er={},function(){return er}),pe(dr,yt);var pr=0;function gr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function mr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vr(e)}function vr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(te=dr.prototype).open=function(e,t){if(this.readyState!=pr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vr(this)},te.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ie).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mr(this)),this.readyState=pr},te.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ie.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},te.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mr(this):vr(this),3==this.readyState&&gr(this)}},te.Ua=function(e){this.g&&(this.response=this.responseText=e,mr(this))},te.Ta=function(e){this.g&&(this.response=e,mr(this))},te.ha=function(){this.g&&mr(this)},te.setRequestHeader=function(e,t){this.v.append(e,t)},te.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yr=ie.JSON.parse;function _r(e){yt.call(this),this.headers=new kn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=br,this.K=this.L=!1}pe(_r,yt);var br="",wr=/^https?$/i,Sr=["POST","PUT"];function Ir(e){return"content-type"==e.toLowerCase()}function Tr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Er(e),Cr(e)}function Er(e){e.D||(e.D=!0,_t(e,"complete"),_t(e,"error"))}function kr(e){if(e.h&&"undefined"!=typeof re&&(!e.C[1]||4!=Nr(e)||2!=e.ba()))if(e.v&&4==Nr(e))Dt(e.Fa,0,e);else if(_t(e,"readystatechange"),4==Nr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Nn)[1]||null;if(!o&&ie.self&&ie.self.location){var a=ie.self.location.protocol;o=a.substr(0,a.length-1)}i=!wr.test(o?o.toLowerCase():"")}t=i}if(t)_t(e,"complete"),_t(e,"success");else{e.m=6;try{var s=2<Nr(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Er(e)}}finally{Cr(e)}}}function Cr(e,t){if(e.g){xr(e);var n=e.g,r=e.C[0]?oe:null;e.g=null,e.C=null,t||_t(e,"ready");try{n.onreadystatechange=r}catch(Rp){}}}function xr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ie.clearTimeout(e.A),e.A=null)}function Nr(e){return e.g?e.g.readyState:0}function Pr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case br:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ar(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return xe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jn(e,t,n))}function Rr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Or(e){this.za=0,this.l=[],this.h=new Vt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rr("baseRetryDelayMs",5e3,e),this.$a=Rr("retryDelaySeedMs",1e4,e),this.Ya=Rr("forwardChannelMaxRetries",2,e),this.ra=Rr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Zn(e&&e.concurrentRequestLimit),this.Ca=new cr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Dr(e){if(jr(e),3==e.G){var t=e.V++,n=An(e.F);jn(n,"SID",e.J),jn(n,"RID",t),jn(n,"TYPE","terminate"),qr(e,n),(t=new cn(e,e.h,t,void 0)).K=2,t.v=Mn(An(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(t.v.toString(),"")),!n&&ie.Image&&((new Image).src=t.v,n=!0),n||(t.g=Jr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_n(t)}Qr(e)}function Lr(e){e.g&&(Wr(e),e.g.cancel(),e.g=null)}function jr(e){Lr(e),e.u&&(ie.clearTimeout(e.u),e.u=null),Hr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ie.clearTimeout(e.m),e.m=null)}function Mr(e,t){e.l.push(new Jn(e.Za++,t)),3==e.G&&Fr(e)}function Fr(e){nr(e.i)||e.m||(e.m=!0,xt(e.Ha,e),e.C=0)}function Ur(e,t){var n;n=t?t.m:e.V++;var r=An(e.F);jn(r,"SID",e.J),jn(r,"RID",n),jn(r,"AID",e.U),qr(e,r),e.o&&e.s&&Ar(r,e.o,e.s),n=new cn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Vr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),or(e.i,n),pn(n,r,t)}function qr(e,t){e.j&&En({},(function(e,n){jn(t,n,e)}))}function Vr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?fe(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{lr(l,a,"req"+c+"_")}catch(Di){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function zr(e){e.g||e.u||(e.Y=1,xt(e.Ga,e),e.A=0)}function Br(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=$t(fe(e.Ga,e),Yr(e,e.A)),e.A++,!0)}function Wr(e){null!=e.B&&(ie.clearTimeout(e.B),e.B=null)}function Kr(e){e.g=new cn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=An(e.oa);jn(t,"RID","rpc"),jn(t,"SID",e.J),jn(t,"CI",e.N?"0":"1"),jn(t,"AID",e.U),qr(e,t),jn(t,"TYPE","xmlhttp"),e.o&&e.s&&Ar(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Mn(An(t)),n.s=null,n.U=!0,gn(n,e)}function Hr(e){null!=e.v&&(ie.clearTimeout(e.v),e.v=null)}function Gr(e,t){var n=null;if(e.g==t){Hr(e),Wr(e),e.g=null;var r=2}else{if(!ir(e.i,t))return;n=t.D,ar(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;_t(r=Kt(),new Qt(r,n,t,i)),Fr(e)}else zr(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(rr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=$t(fe(e.Ha,e,t),Yr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Br(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xr(e,5);break;case 4:Xr(e,10);break;case 3:Xr(e,6);break;default:Xr(e,2)}}function Yr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=fe(e.jb,e);n||(n=new Pn("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Rn(n,"https"),Mn(n)),function(e,t){var n=new Vt;if(ie.Image){var r=new Image;r.onload=de(hr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=de(hr,n,r,"TestLoadImage: error",!1,t),r.onabort=de(hr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=de(hr,n,r,"TestLoadImage: timeout",!1,t),ie.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xt(2);e.G=0,e.j&&e.j.va(t),Qr(e),jr(e)}function Qr(e){e.G=0,e.I=-1,e.j&&(0==sr(e.i).length&&0==e.l.length||(e.i.i.length=0,be(e.l),e.l.length=0),e.j.ua())}function $r(e,t,n){var r=function(e){return e instanceof Pn?An(e):new Pn(e,void 0)}(n);if(""!=r.i)t&&On(r,t+"."+r.i),Dn(r,r.m);else{var i=ie.location;r=function(e,t,n,r){var i=new Pn(null,void 0);return e&&Rn(i,e),t&&On(i,t),n&&Dn(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&xe(e.aa,(function(e,t){jn(r,t,e)})),t=e.D,n=e.sa,t&&n&&jn(r,t,n),jn(r,"VER",e.ma),qr(e,r),r}function Jr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _r(new fr({ib:!0})):new _r(e.qa)).L=e.H,t}function Zr(){}function ei(){if(Le&&!(10<=Number(Ye)))throw Error("Environmental error: no available transport.")}function ti(e,t){yt.call(this),this.g=new Or(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!we(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!we(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ii(this)}function ni(e){an.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ri(){sn.call(this),this.status=1}function ii(e){this.g=e}(te=_r.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rn.g(),this.C=this.u?tn(this.u):tn(rn),this.g.onreadystatechange=fe(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Tr(this,o)}e=n||"";var i=new kn(this.headers);r&&En(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ir,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ie.FormData&&e instanceof ie.FormData,!(0<=ve(Sr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xr(this),0<this.B&&((this.K=function(e){return Le&&He()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fe(this.pa,this)):this.A=Dt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Tr(this,o)}},te.pa=function(){"undefined"!=typeof re&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))},te.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_t(this,"complete"),_t(this,"abort"),Cr(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cr(this,!0)),_r.Z.M.call(this)},te.Fa=function(){this.s||(this.F||this.v||this.l?kr(this):this.cb())},te.cb=function(){kr(this)},te.ba=function(){try{return 2<Nr(this)?this.g.status:-1}catch(er){return-1}},te.ga=function(){try{return this.g?this.g.responseText:""}catch(er){return""}},te.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yr(t)}},te.Da=function(){return this.m},te.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(te=Or.prototype).ma=8,te.G=1,te.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},te.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new cn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ae(n=Ne(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vr(this,t,r),jn(i=An(this.F),"RID",e),jn(i,"CVER",22),this.D&&jn(i,"X-HTTP-Session-Id",this.D),qr(this,i),this.o&&n&&Ar(i,this.o,n),or(this.i,t),this.Ra&&jn(i,"TYPE","init"),this.ja?(jn(i,"$req",r),jn(i,"SID","null"),t.$=!0,pn(t,i,null)):pn(t,i,r),this.G=2}}else 3==this.G&&(e?Ur(this,e):0==this.l.length||nr(this.i)||Ur(this))},te.Ga=function(){if(this.u=null,Kr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=$t(fe(this.bb,this),e)}},te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xt(10),Lr(this),Kr(this))},te.ab=function(){null!=this.v&&(this.v=null,Lr(this),Br(this),Xt(19))},te.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xt(2)):(this.h.info("Failed to ping google.com"),Xt(1))},(te=Zr.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Oa=function(){},ei.prototype.g=function(e,t){return new ti(e,t)},pe(ti,yt),ti.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xt(fe(e.hb,e,t))),Xt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$r(e,null,e.W),Fr(e)},ti.prototype.close=function(){Dr(this.g)},ti.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Mr(this.g,t)}else this.v?((t={}).__data__=wt(e),Mr(this.g,t)):Mr(this.g,e)},ti.prototype.M=function(){this.g.j=null,delete this.j,Dr(this.g),delete this.g,ti.Z.M.call(this)},pe(ni,an),pe(ri,sn),pe(ii,Zr),ii.prototype.xa=function(){_t(this.g,"a")},ii.prototype.wa=function(e){_t(this.g,new ni(e))},ii.prototype.va=function(e){_t(this.g,new ri(e))},ii.prototype.ua=function(){_t(this.g,"b")},ei.prototype.createWebChannel=ei.prototype.g,ti.prototype.send=ti.prototype.u,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,Zt.COMPLETE="complete",nn.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",yt.prototype.listen=yt.prototype.N,_r.prototype.listenOnce=_r.prototype.O,_r.prototype.getLastError=_r.prototype.La,_r.prototype.getLastErrorCode=_r.prototype.Da,_r.prototype.getStatus=_r.prototype.ba,_r.prototype.getResponseJson=_r.prototype.Qa,_r.prototype.getResponseText=_r.prototype.ga,_r.prototype.send=_r.prototype.ea;var oi=function(){return new ei},ai=function(){return Kt()},si=Jt,ui=Zt,ci=Bt,li={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hi=fr,fi=nn,di=_r,pi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();pi.o=-1;var gi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Q.__extends)(t,e),t}(Error),vi=new J.Logger("@firebase/firestore");function yi(){return vi.logLevel}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=J.LogLevel.DEBUG){var r=t.map(Si);vi.debug.apply(vi,(0,Q.__spreadArray)(["Firestore (8.8.0): "+e],r))}}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=J.LogLevel.ERROR){var r=t.map(Si);vi.error.apply(vi,(0,Q.__spreadArray)(["Firestore (8.8.0): "+e],r))}}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=J.LogLevel.WARN){var r=t.map(Si);vi.warn.apply(vi,(0,Q.__spreadArray)(["Firestore (8.8.0): "+e],r))}}function Si(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ii(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+e;throw bi(t),new Error(t)}function Ti(e,t){e||Ii()}function Ei(e,t){return e}function ki(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ci=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=ki(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function xi(e,t){return e<t?-1:e>t?1:0}function Ni(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pi(e){return e+"\0"}var Ai=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?xi(this.nanoseconds,e.nanoseconds):xi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ri=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ai(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Oi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Di(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Li(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ji=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ii(),void 0===n?n=e.length-t:n>e.length-t&&Ii(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ji),Fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ui=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Fi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new mi(gi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mi(gi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mi(gi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new mi(gi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ji),qi=function(){function e(e){this.fields=e,e.sort(Ui.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ni(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Vi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return xi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Vi.EMPTY_BYTE_STRING=new Vi("");var zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(Ti(!!e),"string"==typeof e){var t=0,n=zi.exec(e);if(Ti(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wi(e.seconds),nanos:Wi(e.nanos)}}function Wi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ki(e){return"string"==typeof e?Vi.fromBase64String(e):Vi.fromUint8Array(e)}function Hi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gi(e){var t=e.mapValue.fields.__previous_value__;return Hi(t)?Gi(t):t}function Yi(e){var t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}function Xi(e){return null==e}function Qi(e){return 0===e&&1/e==-1/0}function $i(e){return"number"==typeof e&&Number.isInteger(e)&&!Qi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ji=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Mi.fromString(t))},e.fromName=function(t){return new e(Mi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Mi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Mi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Mi(t.slice()))},e}();function Zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hi(e)?4:10:Ii()}function eo(e,t){var n=Zi(e);if(n!==Zi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yi(e).isEqual(Yi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bi(e.timestampValue),r=Bi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ki(e.bytesValue).isEqual(Ki(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wi(e.geoPointValue.latitude)===Wi(t.geoPointValue.latitude)&&Wi(e.geoPointValue.longitude)===Wi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wi(e.integerValue)===Wi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wi(e.doubleValue),r=Wi(t.doubleValue);return n===r?Qi(n)===Qi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ni(e.arrayValue.values||[],t.arrayValue.values||[],eo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oi(n)!==Oi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eo(n[i],r[i])))return!1;return!0}(e,t);default:return Ii()}}function to(e,t){return void 0!==(e.values||[]).find((function(e){return eo(e,t)}))}function no(e,t){var n=Zi(e),r=Zi(t);if(n!==r)return xi(n,r);switch(n){case 0:return 0;case 1:return xi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wi(e.integerValue||e.doubleValue),r=Wi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ro(e.timestampValue,t.timestampValue);case 4:return ro(Yi(e),Yi(t));case 5:return xi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ki(e),r=Ki(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xi(n[i],r[i]);if(0!==o)return o}return xi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xi(Wi(e.latitude),Wi(t.latitude));return 0!==n?n:xi(Wi(e.longitude),Wi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=no(n[i],r[i]);if(o)return o}return xi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xi(r[a],o[a]);if(0!==s)return s;var u=no(n[r[a]],i[o[a]]);if(0!==u)return u}return xi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ii()}}function ro(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xi(e,t);var n=Bi(e),r=Bi(t),i=xi(n.seconds,r.seconds);return 0!==i?i:xi(n.nanos,r.nanos)}function io(e){return oo(e)}function oo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Bi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ki(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ji.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=oo(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+oo(e.fields[o])}return t+"}"}(e.mapValue):Ii();var t,n}function ao(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function so(e){return!!e&&"integerValue"in e}function uo(e){return!!e&&"arrayValue"in e}function co(e){return!!e&&"nullValue"in e}function lo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ho(e){return!!e&&"mapValue"in e}function fo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Di(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var po=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ho(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(t)},e.prototype.setAll=function(e){var t=this,n=Ui.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=fo(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ho(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return eo(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ho(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Di(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(fo(this.value))},e}();function go(e){var t=[];return Di(e.fields,(function(e,n){var r=new Ui([e]);if(ho(n)){var i=go(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new qi(t)}var mo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ri.min(),po.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,po.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,po.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),vo=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function yo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new vo(e,t,n,r,i,o,a)}function _o(e){var t=Ei(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+io(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Xi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ro(t.startAt)),t.endAt&&(n+="|ub:",n+=Ro(t.endAt)),t.h=n}return t.h}function bo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Do(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!eo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jo(e.startAt,t.startAt)&&jo(e.endAt,t.endAt)}function wo(e){return Ji.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var So=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,Q.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Io(e,n,r):"array-contains"===n?new Co(e,r):"in"===n?new xo(e,r):"not-in"===n?new No(e,r):"array-contains-any"===n?new Po(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new To(e,n):new Eo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(no(t,this.value)):null!==t&&Zi(this.value)===Zi(t)&&this.m(no(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ii()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Io=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ji.fromName(r.referenceValue),i}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){var t=Ji.comparator(e.key,this.key);return this.m(t)},t}(So),To=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ko("in",n),r}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(So),Eo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ko("not-in",n),r}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(So);function ko(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ji.fromName(e.referenceValue)}))}var Co=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return uo(t)&&to(t.arrayValue,this.value)},t}(So),xo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&to(this.value.arrayValue,t)},t}(So),No=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!to(this.value.arrayValue,t)},t}(So),Po=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,Q.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!uo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return to(t.value.arrayValue,e)}))},t}(So),Ao=function(e,t){this.position=e,this.before=t};function Ro(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return io(e)})).join(",")}var Oo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Do(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Lo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ji.comparator(Ji.fromName(a.referenceValue),n.key):no(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function jo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!eo(e.position[n],t.position[n]))return!1;return!0}var Mo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Fo(e,t,n,r,i,o,a,s){return new Mo(e,t,n,r,i,o,a,s)}function Uo(e){return new Mo(e)}function qo(e){return!Xi(e.limit)&&"F"===e.limitType}function Vo(e){return!Xi(e.limit)&&"L"===e.limitType}function zo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Wo(e){return null!==e.collectionGroup}function Ko(e){var t=Ei(e);if(null===t.p){t.p=[];var n=Bo(t),r=zo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Oo(n)),t.p.push(new Oo(Ui.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Oo(Ui.keyField(),u))}}}return t.p}function Ho(e){var t=Ei(e);if(!t.T)if("F"===t.limitType)t.T=yo(t.path,t.collectionGroup,Ko(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ko(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Oo(o.field,a))}var s=t.endAt?new Ao(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ao(t.startAt.position,!t.startAt.before):null;t.T=yo(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Go(e,t,n){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yo(e,t){return bo(Ho(e),Ho(t))&&e.limitType===t.limitType}function Xo(e){return _o(Ho(e))+"|lt:"+e.limitType}function Qo(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+io(t.value);var t})).join(", ")+"]"),Xi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ro(e.startAt)),e.endAt&&(t+=", endAt: "+Ro(e.endAt)),"Target("+t+")"}(Ho(e))+"; limitType="+e.limitType+")"}function $o(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ji.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Lo(e.startAt,Ko(e),t))&&(!e.endAt||!Lo(e.endAt,Ko(e),t))}(e,t)}function Jo(e){return function(t,n){for(var r=!1,i=0,o=Ko(e);i<o.length;i++){var a=o[i],s=Zo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Zo(e,t,n){var r=e.field.isKeyField()?Ji.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?no(r,i):Ii()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ii()}}function ea(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qi(t)?"-0":t}}function ta(e){return{integerValue:""+e}}function na(e,t){return $i(t)?ta(t):ea(e,t)}var ra=function(){this._=void 0};function ia(e,t,n){return e instanceof sa?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ua?ca(e,t):e instanceof la?ha(e,t):function(e,t){var n=aa(e,t),r=da(n)+da(e.A);return so(n)&&so(e.A)?ta(r):ea(e.R,r)}(e,t)}function oa(e,t,n){return e instanceof ua?ca(e,t):e instanceof la?ha(e,t):n}function aa(e,t){return e instanceof fa?so(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t}(ra),ua=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Q.__extends)(t,e),t}(ra);function ca(e,t){for(var n=pa(t),r=function(e){n.some((function(t){return eo(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var la=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Q.__extends)(t,e),t}(ra);function ha(e,t){for(var n=pa(t),r=function(e){n=n.filter((function(t){return!eo(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,Q.__extends)(t,e),t}(ra);function da(e){return Wi(e.integerValue||e.doubleValue)}function pa(e){return uo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ga=function(e,t){this.field=e,this.transform=t},ma=function(e,t){this.version=e,this.transformResults=t},va=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ya(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _a=function(){};function ba(e,t,n){e instanceof Ea?function(e,t,n){var r=e.value.clone(),i=xa(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ka?function(e,t,n){if(ya(e.precondition,t)){var r=xa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ca(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wa(e,t,n){e instanceof Ea?function(e,t,n){if(ya(e.precondition,t)){var r=e.value.clone(),i=Na(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ta(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ka?function(e,t,n){if(ya(e.precondition,t)){var r=Na(e.fieldTransforms,n,t),i=t.data;i.setAll(Ca(e)),i.setAll(r),t.convertToFoundDocument(Ta(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ya(e.precondition,t)&&t.convertToNoDocument(Ri.min())}(e,t)}function Sa(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=aa(o.transform,a||null);null!=s&&(null==n&&(n=po.empty()),n.set(o.field,s))}return n||null}function Ia(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ni(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ua&&t instanceof ua||e instanceof la&&t instanceof la?Ni(e.elements,t.elements,eo):e instanceof fa&&t instanceof fa?eo(e.A,t.A):e instanceof sa&&t instanceof sa}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ta(e){return e.isFoundDocument()?e.version:Ri.min()}var Ea=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Q.__extends)(t,e),t}(_a),ka=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Q.__extends)(t,e),t}(_a);function Ca(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xa(e,t,n){var r=new Map;Ti(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,oa(a,s,n[i]))}return r}function Na(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ia(s,u,t))}return r}var Pa,Aa,Ra=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Q.__extends)(t,e),t}(_a),Oa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Q.__extends)(t,e),t}(_a),Da=function(e){this.count=e};function La(e){switch(e){case gi.OK:return Ii();case gi.CANCELLED:case gi.UNKNOWN:case gi.DEADLINE_EXCEEDED:case gi.RESOURCE_EXHAUSTED:case gi.INTERNAL:case gi.UNAVAILABLE:case gi.UNAUTHENTICATED:return!1;case gi.INVALID_ARGUMENT:case gi.NOT_FOUND:case gi.ALREADY_EXISTS:case gi.PERMISSION_DENIED:case gi.FAILED_PRECONDITION:case gi.ABORTED:case gi.OUT_OF_RANGE:case gi.UNIMPLEMENTED:case gi.DATA_LOSS:return!0;default:return Ii()}}function ja(e){if(void 0===e)return bi("GRPC error has no .code"),gi.UNKNOWN;switch(e){case Pa.OK:return gi.OK;case Pa.CANCELLED:return gi.CANCELLED;case Pa.UNKNOWN:return gi.UNKNOWN;case Pa.DEADLINE_EXCEEDED:return gi.DEADLINE_EXCEEDED;case Pa.RESOURCE_EXHAUSTED:return gi.RESOURCE_EXHAUSTED;case Pa.INTERNAL:return gi.INTERNAL;case Pa.UNAVAILABLE:return gi.UNAVAILABLE;case Pa.UNAUTHENTICATED:return gi.UNAUTHENTICATED;case Pa.INVALID_ARGUMENT:return gi.INVALID_ARGUMENT;case Pa.NOT_FOUND:return gi.NOT_FOUND;case Pa.ALREADY_EXISTS:return gi.ALREADY_EXISTS;case Pa.PERMISSION_DENIED:return gi.PERMISSION_DENIED;case Pa.FAILED_PRECONDITION:return gi.FAILED_PRECONDITION;case Pa.ABORTED:return gi.ABORTED;case Pa.OUT_OF_RANGE:return gi.OUT_OF_RANGE;case Pa.UNIMPLEMENTED:return gi.UNIMPLEMENTED;case Pa.DATA_LOSS:return gi.DATA_LOSS;default:return Ii()}}(Aa=Pa||(Pa={}))[Aa.OK=0]="OK",Aa[Aa.CANCELLED=1]="CANCELLED",Aa[Aa.UNKNOWN=2]="UNKNOWN",Aa[Aa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Aa[Aa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Aa[Aa.NOT_FOUND=5]="NOT_FOUND",Aa[Aa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Aa[Aa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Aa[Aa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Aa[Aa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Aa[Aa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Aa[Aa.ABORTED=10]="ABORTED",Aa[Aa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Aa[Aa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Aa[Aa.INTERNAL=13]="INTERNAL",Aa[Aa.UNAVAILABLE=14]="UNAVAILABLE",Aa[Aa.DATA_LOSS=15]="DATA_LOSS";var Ma=function(){function e(e,t){this.comparator=e,this.root=t||Ua.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ua.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ua.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Fa(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Fa(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Fa(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Fa(this.root,e,this.comparator,!0)},e}(),Fa=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ua=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ii();if(this.right.isRed())throw Ii();var e=this.left.check();if(e!==this.right.check())throw Ii();return e+(this.isRed()?0:1)},e}();Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1,Ua.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ua(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var qa=function(){function e(e){this.comparator=e,this.data=new Ma(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Va(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Va(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Va=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),za=new Ma(Ji.comparator);function Ba(){return za}var Wa=new Ma(Ji.comparator);function Ka(){return Wa}var Ha=new Ma(Ji.comparator);function Ga(){return Ha}var Ya=new qa(Ji.comparator);function Xa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ya,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qa=new qa(xi);function $a(){return Qa}var Ja=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Za.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ri.min(),r,$a(),Ba(),Xa())},e}(),Za=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Vi.EMPTY_BYTE_STRING,n,Xa(),Xa(),Xa())},e}(),es=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ts=function(e,t){this.targetId=e,this.V=t},ns=function(e,t,n,r){void 0===n&&(n=Vi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},rs=function(){function e(){this.S=0,this.D=as(),this.C=Vi.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Xa(),t=Xa(),n=Xa();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ii()}})),new Za(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=as()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),is=function(){function e(e){this.W=e,this.G=new Map,this.H=Ba(),this.J=os(),this.Y=new qa(xi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Ii()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(wo(i))if(0===n){var o=new Ji(i.path);this.tt(t,o,mo.newNoDocument(o,Ri.min()))}else Ti(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&wo(o.target)){var a=new Ji(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,mo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Xa();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ja(e,n,this.Y,this.H,r);return this.H=Ba(),this.J=os(),this.Y=new qa(xi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new rs,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new qa(xi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||_i("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new rs),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function os(){return new Ma(Ji.comparator)}function as(){return new Ma(Ji.comparator)}var ss={asc:"ASCENDING",desc:"DESCENDING"},us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cs=function(e,t){this.databaseId=e,this.I=t};function ls(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function hs(e,t){return e.I?t.toBase64():t.toUint8Array()}function fs(e,t){return ls(e,t.toTimestamp())}function ds(e){return Ti(!!e),Ri.fromTimestamp(function(e){var t=Bi(e);return new Ai(t.seconds,t.nanos)}(e))}function ps(e,t){return function(e){return new Mi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gs(e){var t=Mi.fromString(e);return Ti(Us(t)),t}function ms(e,t){return ps(e.databaseId,t.path)}function vs(e,t){var n=gs(t);if(n.get(1)!==e.databaseId.projectId)throw new mi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ji(ws(n))}function ys(e,t){return ps(e.databaseId,t)}function _s(e){var t=gs(e);return 4===t.length?Mi.emptyPath():ws(t)}function bs(e){return new Mi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ws(e){return Ti(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ss(e,t,n){return{name:ms(e,t),fields:n.value.mapValue.fields}}function Is(e,t,n){var r=vs(e,t.name),i=ds(t.updateTime),o=new po({mapValue:{fields:t.fields}}),a=mo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ts(e,t){var n;if(t instanceof Ea)n={update:Ss(e,t.key,t.value)};else if(t instanceof Ra)n={delete:ms(e,t.key)};else if(t instanceof ka)n={update:Ss(e,t.key,t.data),updateMask:Fs(t.fieldMask)};else{if(!(t instanceof Oa))return Ii();n={verify:ms(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof la)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fa)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Ii()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ii()}(e,t.precondition)),n}function Es(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?va.updateTime(ds(e.updateTime)):void 0!==e.exists?va.exists(e.exists):va.none()}(t.currentDocument):va.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ti("REQUEST_TIME"===t.setToServerValue),n=new sa;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ua(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new la(i)}else"increment"in t?n=new fa(e,t.increment):Ii();var o=Ui.fromServerFormat(t.fieldPath);return new ga(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=vs(e,t.update.name),o=new po({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new qi(t.map((function(e){return Ui.fromServerFormat(e)})))}(t.updateMask);return new ka(i,o,a,n,r)}return new Ea(i,o,n,r)}if(t.delete){var s=vs(e,t.delete);return new Ra(s,n)}if(t.verify){var u=vs(e,t.verify);return new Oa(u,n)}return Ii()}function ks(e,t){return{documents:[ys(e,t.path)]}}function Cs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ys(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ys(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(lo(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(co(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lo(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(co(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:Os(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ds(e.field),direction:Rs(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Xi(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ps(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ps(t.endAt)),n}function xs(e){var t=_s(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ti(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ns(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Oo(Ls(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Xi(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=As(n.startAt));var l=null;return n.endAt&&(l=As(n.endAt)),Fo(t,i,s,a,u,"F",c,l)}function Ns(e){return e?void 0!==e.unaryFilter?[Ms(e)]:void 0!==e.fieldFilter?[js(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ns(e)})).reduce((function(e,t){return e.concat(t)})):Ii():[]}function Ps(e){return{before:e.before,values:e.position}}function As(e){var t=!!e.before,n=e.values||[];return new Ao(n,t)}function Rs(e){return ss[e]}function Os(e){return us[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function Ls(e){return Ui.fromServerFormat(e.fieldPath)}function js(e){return So.create(Ls(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ii()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ms(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ls(e.unaryFilter.field);return So.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ls(e.unaryFilter.field);return So.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ls(e.unaryFilter.field);return So.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ls(e.unaryFilter.field);return So.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ii()}}function Fs(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Us(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zs(t)),t=Vs(e.get(n),t);return zs(t)}function Vs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function zs(e){return e+"\x01\x01"}function Bs(e){var t=e.length;if(Ti(t>=2),2===t)return Ti("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Ii(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Ii()}o=a+2}return new Mi(r)}var Ws=function(e,t){this.seconds=e,this.nanoseconds=t},Ks=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ks.store="owner",Ks.key="owner";var Hs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hs.store="mutationQueues",Hs.keyPath="userId";var Gs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gs.store="mutations",Gs.keyPath="batchId",Gs.userMutationsIndex="userMutationsIndex",Gs.userMutationsKeyPath=["userId","batchId"];var Ys=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,qs(t)]},e.key=function(e,t,n){return[e,qs(t),n]},e}();Ys.store="documentMutations",Ys.PLACEHOLDER=new Ys;var Xs=function(e,t){this.path=e,this.readTime=t},Qs=function(e,t){this.path=e,this.version=t},$s=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$s.store="remoteDocuments",$s.readTimeIndex="readTimeIndex",$s.readTimeIndexPath="readTime",$s.collectionReadTimeIndex="collectionReadTimeIndex",$s.collectionReadTimeIndexPath=["parentPath","readTime"];var Js=function(e){this.byteSize=e};Js.store="remoteDocumentGlobal",Js.key="remoteDocumentGlobalKey";var Zs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Zs.store="targets",Zs.keyPath="targetId",Zs.queryTargetsIndexName="queryTargetsIndex",Zs.queryTargetsKeyPath=["canonicalId","targetId"];var eu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};eu.store="targetDocuments",eu.keyPath=["targetId","path"],eu.documentTargetsIndex="documentTargetsIndex",eu.documentTargetsKeyPath=["path","targetId"];var tu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tu.key="targetGlobalKey",tu.store="targetGlobal";var nu=function(e,t){this.collectionId=e,this.parent=t};nu.store="collectionParents",nu.keyPath=["collectionId","parent"];var ru=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ru.store="clientMetadata",ru.keyPath="clientId";var iu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};iu.store="bundles",iu.keyPath="bundleId";var ou=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ou.store="namedQueries",ou.keyPath="name";var au=(0,Q.__spreadArray)((0,Q.__spreadArray)([],(0,Q.__spreadArray)((0,Q.__spreadArray)([],(0,Q.__spreadArray)((0,Q.__spreadArray)([],(0,Q.__spreadArray)((0,Q.__spreadArray)([],[Hs.store,Gs.store,Ys.store,$s.store,Zs.store,Ks.store,tu.store,eu.store]),[ru.store])),[Js.store])),[nu.store])),[iu.store,ou.store]),su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),cu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},lu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),hu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new cu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new pu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=_u(t.target.error);n.ft.reject(new pu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(_i("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new mu(t)},e}(),fu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,$.getUA)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return _i("SimpleDb","Removing database:",e),vu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,$.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/e-com",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(_i("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new mi(gi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new pu(e,n))},i.onupgradeneeded=function(e){_i("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){_i("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,Q.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=hu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),lu.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,_i("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),du=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return vu(this.Pt.delete())},e}(),pu=function(e){function t(t,n){var r=this;return(r=e.call(this,gi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Q.__extends)(t,e),t}(mi);function gu(e){return"IndexedDbTransactionError"===e.name}var mu=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(_i("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_i("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vu(n)},e.prototype.add=function(e){return _i("SimpleDb","ADD",this.store.name,e,e),vu(this.store.add(e))},e.prototype.get=function(e){var t=this;return vu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_i("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return _i("SimpleDb","DELETE",this.store.name,e),vu(this.store.delete(e))},e.prototype.count=function(){return _i("SimpleDb","COUNT",this.store.name),vu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){_i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new lu((function(n,r){t.onerror=function(e){var t=_u(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new lu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new du(i),a=t(i.primaryKey,i.value,o);if(a instanceof lu){var s=a.catch((function(e){return o.done(),lu.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return lu.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function vu(e){return new lu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_u(e.target.error);n(t)}}))}var yu=!1;function _u(e){var t=fu._t((0,$.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yu||(yu=!0,setTimeout((function(){throw r}),0)),r}}return e}var bu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,Q.__extends)(t,e),t}(uu);function wu(e,t){var n=Ei(e);return fu.It(n.Mt,t)}var Su=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ba(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&wa(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&wa(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ri.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xa())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(function(e,t){return Ia(e,t)}))&&Ni(this.baseMutations,e.baseMutations,(function(e,t){return Ia(e,t)}))},e}(),Iu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Ti(t.mutations.length===r.length);for(var i=Ga(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Tu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ri.min()),void 0===o&&(o=Ri.min()),void 0===a&&(a=Vi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Eu=function(e){this.Lt=e};function ku(e,t){if(t.document)return Is(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ji.fromSegments(t.noDocument.path),r=Au(t.noDocument.readTime),i=mo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ji.fromSegments(t.unknownDocument.path);return r=Au(t.unknownDocument.version),mo.newUnknownDocument(o,r)}return Ii()}function Cu(e,t,n){var r=xu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ms(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ls(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new $s(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Pu(t.version);return a=t.hasCommittedMutations,new $s(null,new Xs(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Pu(t.version);return new $s(new Qs(c,l),null,null,!0,r,i)}return Ii()}function xu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nu(e){var t=new Ai(e[0],e[1]);return Ri.fromTimestamp(t)}function Pu(e){var t=e.toTimestamp();return new Ws(t.seconds,t.nanoseconds)}function Au(e){var t=new Ai(e.seconds,e.nanoseconds);return Ri.fromTimestamp(t)}function Ru(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Es(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Es(e.Lt,t)})),s=Ai.fromMillis(t.localWriteTimeMs);return new Su(t.batchId,s,n,a)}function Ou(e){var t,n,r=Au(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Au(e.lastLimboFreeSnapshotVersion):Ri.min();return void 0!==e.query.documents?(Ti(1===(n=e.query).documents.length),t=Ho(Uo(_s(n.documents[0])))):t=function(e){return Ho(xs(e))}(e.query),new Tu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vi.fromBase64String(e.resumeToken))}function Du(e,t){var n,r=Pu(t.snapshotVersion),i=Pu(t.lastLimboFreeSnapshotVersion);n=wo(t.target)?ks(e.Lt,t.target):Cs(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Zs(t.targetId,_o(t.target),r,o,t.sequenceNumber,i,n)}function Lu(e){var t=xs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Go(t,t.limit,"L"):t}var ju=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Mu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Au(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Mu(e).put({bundleId:(n=t).id,createTime:Pu(ds(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Fu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Lu(t.bundledQuery),readTime:Au(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Fu(e).put(function(e){return{name:e.name,readTime:Pu(ds(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Mu(e){return wu(e,iu.store)}function Fu(e){return wu(e,ou.store)}var Uu=function(){function e(){this.Bt=new qu}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),lu.resolve()},e.prototype.getCollectionParents=function(e,t){return lu.resolve(this.Bt.getEntries(t))},e}(),qu=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qa(Mi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new qa(Mi.comparator)).toArray()},e}(),Vu=function(){function e(){this.qt=new qu}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:qs(i)};return zu(e).put(o)}return lu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pi(t),""],!1,!0);return zu(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Bs(o.parent))}return n}))},e}();function zu(e){return wu(e,nu.store)}var Bu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Ku(e,t,n){var r=e.store(Gs.store),i=e.store(Ys.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Ti(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ys.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return lu.waitFor(o).next((function(){return c}))}function Hu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ii();t=e.noDocument}return JSON.stringify(t).length}Wu.DEFAULT_COLLECTION_PERCENTILE=10,Wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wu.DEFAULT=new Wu(41943040,Wu.DEFAULT_COLLECTION_PERCENTILE,Wu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wu.DISABLED=new Wu(-1,0,0);var Gu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Ti(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).$t({index:Gs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Qu(e),a=Xu(e);return a.add({}).next((function(s){Ti("number"==typeof s);for(var u=new Su(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ts(e.Lt,t)})),i=n.mutations.map((function(t){return Ts(e.Lt,t)}));return new Gs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new qa((function(e,t){return xi(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Ys.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,Ys.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),lu.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Xu(e).get(t).next((function(e){return e?(Ti(e.userId===n.userId),Ru(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?lu.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xu(e).$t({index:Gs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ti(t.batchId>=r),o=Ru(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xu(e).$t({index:Gs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).Nt(Gs.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ru(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Ys.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Qu(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Bs(u);if(s===n.userId&&t.path.isEqual(l))return Xu(e).get(c).next((function(e){if(!e)throw Ii();Ti(e.userId===n.userId),o.push(Ru(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qa(xi),i=[];return t.forEach((function(t){var o=Ys.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Qu(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Bs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),lu.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ys.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new qa(xi);return Qu(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Bs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xu(e).get(t).next((function(e){if(null===e)throw Ii();Ti(e.userId===n.userId),r.push(Ru(n.R,e))})))})),lu.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ku(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),lu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return lu.resolve();var r=IDBKeyRange.lowerBound(Ys.prefixForUser(t.userId)),i=[];return Qu(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Bs(e[1]);i.push(o)}else r.done()})).next((function(){Ti(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Yu(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return $u(e).get(this.userId).next((function(e){return e||new Hs(t.userId,-1,"")}))},e}();function Yu(e,t,n){var r=Ys.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Qu(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Xu(e){return wu(e,Gs.store)}function Qu(e){return wu(e,Ys.store)}function $u(e){return wu(e,Hs.store)}var Ju=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Zu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Ju(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ri.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ec(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Ti(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return ec(e).$t((function(a,s){var u=Ou(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return lu.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return ec(e).$t((function(e,n){var r=Ou(n);t(r)}))},e.prototype.Xt=function(e){return tc(e).get(tu.key).next((function(e){return Ti(null!==e),e}))},e.prototype.Zt=function(e,t){return tc(e).put(tu.key,t)},e.prototype.te=function(e,t){return ec(e).put(Du(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=_o(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ec(e).$t({range:r,index:Zs.queryTargetsIndexName},(function(e,n,r){var o=Ou(n);bo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=nc(e);return t.forEach((function(t){var a=qs(t.path);i.push(o.put(new eu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),lu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=nc(e);return lu.forEach(t,(function(t){var o=qs(t.path);return lu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=nc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=nc(e),i=Xa();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Bs(e[1]),o=new Ji(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=qs(t.path),r=IDBKeyRange.bound([n],[Pi(n)],!1,!0),i=0;return nc(e).$t({index:eu.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return ec(e).get(t).next((function(e){return e?Ou(e):null}))},e}();function ec(e){return wu(e,Zs.store)}function tc(e){return wu(e,tu.store)}function nc(e){return wu(e,eu.store)}function rc(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){if(e.code!==gi.FAILED_PRECONDITION||e.message!==su)throw e;return _i("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ic(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=xi(n,i);return 0===a?xi(r,o):a}var oc=function(){function e(e){this.ne=e,this.buffer=new qa(ic),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ic(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ac=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;_i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gu(t=n.sent())?(_i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,rc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),sc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return lu.resolve(pi.o);var r=new oc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_i("LruGarbageCollector","Garbage collection skipped; disabled"),lu.resolve(Bu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),yi()<=J.LogLevel.DEBUG&&_i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),lu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),uc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new sc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return cc(e,n)},e.prototype.removeReference=function(e,t,n){return cc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return cc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return $u(e).Ot((function(r){return Yu(e,r,t).next((function(e){return e&&(n=!0),lu.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),nc(e).delete([0,qs(a.path)])}))}));i.push(u)}})).next((function(){return lu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return cc(e,t)},e.prototype.we=function(e,t){var n,r=nc(e),i=pi.o;return r.$t({index:eu.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==pi.o&&t(new Ji(Bs(n)),i),i=s,n=a):i=pi.o})).next((function(){i!==pi.o&&t(new Ji(Bs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function cc(e,t){return nc(e).put(function(e,t){return new eu(0,qs(e.path),t)}(t,e.currentSequenceNumber))}var lc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Di(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Li(this.inner)},e}(),hc=function(){function e(){this.changes=new lc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ri.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:mo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?lu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),fc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return gc(e).put(mc(t),n)},e.prototype.removeEntry=function(e,t){var n=gc(e),r=mc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return gc(e).get(mc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return gc(e).get(mc(t)).next((function(e){return{document:n.ye(t,e),size:Hu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Ba();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Ba(),i=new Ma(Ji.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Hu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return lu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return gc(e).$t({range:r},(function(e,t,r){for(var a=Ji.fromSegments(e);o&&Ji.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Ba(),o=t.path.length+1,a={};if(n.isEqual(Ri.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=xu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=$s.collectionReadTimeIndex}return gc(e).$t(a,(function(e,n,a){if(e.length===o){var s=ku(r.R,n);t.path.isPrefixOf(s.key.path)?$o(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new dc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return pc(e).get(Js.key).next((function(e){return Ti(!!e),e}))},e.prototype.me=function(e,t){return pc(e).put(Js.key,t)},e.prototype.ye=function(e,t){if(t){var n=ku(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ri.min()))return n}return mo.newInvalidDocument(e)},e}(),dc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new lc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,Q.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new qa((function(e,t){return xi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Cu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Hu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Cu(t.Ie.R,mo.newNoDocument(o,Ri.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),lu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(hc);function pc(e){return wu(e,Js.store)}function gc(e){return wu(e,$s.store)}function mc(e){return e.path.toArray()}var vc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Ti(n<r&&n>=0&&r<=11);var o=new hu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ks.store)}(e),function(e){e.createObjectStore(Hs.store,{keyPath:Hs.keyPath}),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ys.store)}(e),yc(e),function(e){e.createObjectStore($s.store)}(e));var a=lu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(eu.store),e.deleteObjectStore(Zs.store),e.deleteObjectStore(tu.store)}(e),yc(e)),a=a.next((function(){return function(e){var t=e.store(tu.store),n=new tu(0,0,Ri.min().toTimestamp(),0);return t.put(tu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Gs.store).Nt().next((function(n){e.deleteObjectStore(Gs.store),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0});var r=t.store(Gs.store),i=n.map((function(e){return r.put(e)}));return lu.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ru.store,{keyPath:ru.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Js.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore($s.store);t.createIndex($s.readTimeIndex,$s.readTimeIndexPath,{unique:!1}),t.createIndex($s.collectionReadTimeIndex,$s.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(iu.store,{keyPath:iu.keyPath})}(e),function(e){e.createObjectStore(ou.store,{keyPath:ou.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store($s.store).$t((function(e,n){t+=Hu(n)})).next((function(){var n=new Js(t);return e.store(Js.store).put(Js.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Hs.store),r=e.store(Gs.store);return n.Nt().next((function(n){return lu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Gs.userMutationsIndex,i).next((function(r){return lu.forEach(r,(function(r){Ti(r.userId===n.userId);var i=Ru(t.R,r);return Ku(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(eu.store),n=e.store($s.store);return e.store(tu.store).get(tu.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Mi(n),a=function(e){return[0,qs(e)]}(o);r.push(t.get(a).next((function(n){return n?lu.resolve():function(n){return t.put(new eu(0,qs(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return lu.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(nu.store,{keyPath:nu.keyPath});var n=t.store(nu.store),r=new qu,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qs(i)})}};return t.store($s.store).$t({kt:!0},(function(e,t){var n=new Mi(e);return i(n.popLast())})).next((function(){return t.store(Ys.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Bs(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Zs.store);return n.$t((function(e,r){var i=Ou(r),o=Du(t.R,i);return n.put(o)}))},e}();function yc(e){e.createObjectStore(eu.store,{keyPath:eu.keyPath}).createIndex(eu.documentTargetsIndex,eu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zs.store,{keyPath:Zs.keyPath}).createIndex(Zs.queryTargetsIndexName,Zs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tu.store)}var _c="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new mi(gi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uc(this,i),this.Le=n+"main",this.R=new Eu(u),this.Be=new fu(this.Le,11,new vc(this.R)),this.qe=new Zu(this.referenceDelegate,this.R),this.Ut=new Vu,this.Ue=function(e,t){return new fc(e,t)}(this.R,this.Ut),this.Ke=new ju,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mi(gi.FAILED_PRECONDITION,_c);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new pi(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,Q.__awaiter)(t,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,Q.__awaiter)(t,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sc(t).put(new ru(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(gu(t))return _i("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return wc(e).get(Ks.key).next((function(e){return lu.resolve(t.tn(e))}))},e.prototype.en=function(e){return Sc(e).delete(this.clientId)},e.prototype.nn=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wu(e,ru.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return lu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?lu.resolve(!0):wc(e).get(Ks.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new mi(gi.FAILED_PRECONDITION,_c);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_i("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ks.store,ru.store],(function(t){var n=new bu(t,pi.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Gu.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;_i("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,au,(function(o){return i=new bu(o,r.Ne?r.Ne.next():pi.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw bi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new mi(gi.FAILED_PRECONDITION,su);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return wc(e).get(Ks.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mi(gi.FAILED_PRECONDITION,_c)}))},e.prototype.Ze=function(e){var t=new Ks(this.clientId,this.allowTabSynchronization,Date.now());return wc(e).put(Ks.key,t)},e.yt=function(){return fu.yt()},e.prototype.Xe=function(e){var t=this,n=wc(e);return n.get(Ks.key).next((function(e){return t.tn(e)?(_i("IndexedDbPersistence","Releasing primary lease."),n.delete(Ks.key)):lu.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(bi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),(0,$.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return _i("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return bi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function wc(e){return wu(e,Ks.store)}function Sc(e){return wu(e,ru.store)}function Ic(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tc=function(e,t){this.progress=e,this.wn=t},Ec=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Ji.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Wo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Ji(t)).next((function(e){var t=Ka();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Ka();return this.Ut.getCollectionParents(e,i).next((function(a){return lu.forEach(a,(function(a){var s=function(e,t){return new Mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=mo.newInvalidDocument(c),r=r.insert(c,l)),wa(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){$o(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Xa(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ka&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),kc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Xa(),i=Xa(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Cc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ri.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(qo(t)||Vo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(yi()<=J.LogLevel.DEBUG&&_i("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qo(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new qa(Jo(e));return t.forEach((function(t,r){$o(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return yi()<=J.LogLevel.DEBUG&&_i("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ri.min())},e}(),xc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Ma(xi),this.kn=new lc((function(e){return _o(e)}),bo),this.$n=Ri.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ec(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Nc(e,t,n,r){return new xc(e,t,n,r)}function Pc(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return n=Ei(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Ec(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Xa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ac(e,t){var n=Ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=lu.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Ti(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Rc(e){var t=Ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Oc(e,t){var n=Ei(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Ti(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Ba();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Dc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ri.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return lu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Dc(e,t,n,r,i){var o=Xa();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Ba();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ri.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):_i("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Lc(e,t){var n=Ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function jc(e,t){var n=Ei(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,lu.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Tu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Mc(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:r=Ei(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!gu(a=s.sent()))throw a;return _i("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Fc(e,t,n){var r=Ei(e),i=Ri.min(),o=Xa();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ei(e),i=r.kn.get(n);return void 0!==i?lu.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ho(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ri.min(),n?o:Xa())})).next((function(e){return{documents:e,Bn:o}}))}))}function Uc(e,t){var n=Ei(e),r=Ei(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function qc(e){var t=Ei(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ei(e),i=Ba(),o=xu(n),a=gc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:$s.readTimeIndex,range:s},(function(e,t){var n=ku(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Nu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Vc(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){return[2,(t=Ei(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=gc(e),n=Ri.min();return t.$t({index:$s.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Nu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function zc(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,Q.__generator)(this,(function(p){switch(p.label){case 0:for(i=Ei(e),o=Xa(),a=Ba(),s=Ga(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,jc(i,function(e){return Ho(Uo(Mi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Dc(e,f,a,Ri.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Bc(e,t,n){return void 0===n&&(n=Xa()),(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return[4,jc(e,Ho(Lu(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ei(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ds(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Vi.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Wc=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return lu.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:ds(n.createTime)}),lu.resolve()},e.prototype.getNamedQuery=function(e,t){return lu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Lu(e.bundledQuery),readTime:ds(e.readTime)}}(t)),lu.resolve()},e}(),Kc=function(){function e(){this.Wn=new qa(Hc.Gn),this.zn=new qa(Hc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Hc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Hc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Ji(new Mi([])),r=new Hc(n,e),i=new Hc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ji(new Mi([])),n=new Hc(t,e),r=new Hc(t,e+1),i=Xa();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Hc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Hc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ji.comparator(e.key,t.key)||xi(e.ns,t.ns)},e.Hn=function(e,t){return xi(e.ns,t.ns)||Ji.comparator(e.key,t.key)},e}(),Gc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new qa(Hc.Gn)}return e.prototype.checkEmpty=function(e){return lu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Su(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Hc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return lu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return lu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return lu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return lu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return lu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Hc(t,0),i=new Hc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),lu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qa(xi);return t.forEach((function(e){var t=new Hc(e,0),i=new Hc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),lu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ji.isDocumentKey(i)||(i=i.child(""));var o=new Hc(new Ji(i),0),a=new qa(xi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),lu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Ti(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return lu.forEach(t.mutations,(function(i){var o=new Hc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Hc(t,0),r=this.rs.firstAfterOrEqual(n);return lu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,lu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Yc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ma(Ji.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return lu.resolve(n?n.document.clone():mo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Ba();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():mo.newInvalidDocument(e))})),lu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ba(),i=new Ji(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||$o(t,c)&&(r=r.insert(c.key,c.clone()))}return lu.resolve(r)},e.prototype.fs=function(e,t){return lu.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Xc(this)},e.prototype.getSize=function(e){return lu.resolve(this.size)},e}(),Xc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,Q.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),lu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(hc),Qc=function(){function e(e){this.persistence=e,this.ds=new lc((function(e){return _o(e)}),bo),this.lastRemoteSnapshotVersion=Ri.min(),this.highestTargetId=0,this.ws=0,this._s=new Kc,this.targetCount=0,this.ys=Ju.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),lu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return lu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return lu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),lu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),lu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,lu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),lu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,lu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),lu.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return lu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return lu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),lu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),lu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),lu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return lu.resolve(n)},e.prototype.containsKey=function(e,t){return lu.resolve(this._s.containsKey(t))},e}(),$c=function(){function e(e,t){var n=this;this.gs={},this.Ne=new pi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Qc(this),this.Ut=new Uu,this.Ue=function(e,t){return new Yc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Eu(t),this.Ke=new Wc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Gc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;_i("MemoryPersistence","Starting transaction:",e);var i=new Jc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return lu.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Jc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,Q.__extends)(t,e),t}(uu),Zc=function(){function e(e){this.persistence=e,this.As=new Kc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ii()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),lu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),lu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),lu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lu.forEach(this.vs,(function(r){var i=Ji.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return lu.or([function(){return lu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),el=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function tl(e,t){return"firestore_clients_"+e+"_"+t}function nl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function rl(e,t){return"firestore_targets_"+e+"_"+t}el.UNAUTHENTICATED=new el(null),el.GOOGLE_CREDENTIALS=new el("google-credentials-uid"),el.FIRST_PARTY=new el("first-party-uid");var il=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new mi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(bi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ol=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mi(i.error.code,i.error.message)),o?new e(t,i.state,r):(bi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),al=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$a(),a=0;i&&a<r.activeTargetIds.length;++a)i=$i(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(bi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),sl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bi("SharedClientState","Failed to parse online state: "+t),null)},e}(),ul=function(){function e(){this.activeTargetIds=$a()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),cl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ma(xi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=tl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ul),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,Q.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(tl(this.persistenceKey,r)))&&(o=al.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rl(this.persistenceKey,e));if(n){var r=ol.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(rl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return _i("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){_i("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){_i("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,Q.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=pi.o;if(null!=e)try{var n=JSON.parse(e);Ti("number"==typeof n),t=n}catch(e){bi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==pi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new il(this.currentUser,e,t,n),i=nl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=nl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=rl(this.persistenceKey,e),i=new ol(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return al.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return il.Vs(new el(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ol.Vs(r,t)},e.prototype.js=function(e){return sl.Vs(e)},e.prototype.ii=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(_i("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=$a();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ll=function(){function e(){this.li=new ul,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ul,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),hl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),fl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){_i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){_i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),dl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),gl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,Q.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new di;a.listenOnce(ui.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case si.NO_ERROR:var t=a.getResponseJson();_i("Connection","XHR received:",JSON.stringify(t)),i(t);break;case si.TIMEOUT:_i("Connection",'RPC "'+e+'" timed out'),o(new mi(gi.DEADLINE_EXCEEDED,"Request time out"));break;case si.HTTP_ERROR:var n=a.getStatus();if(_i("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gi).indexOf(t)>=0?t:gi.UNKNOWN}(r.status);o(new mi(s,r.message))}else o(new mi(gi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mi(gi.UNAVAILABLE,"Connection failed."));break;default:Ii()}}finally{_i("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=oi(),i=ai(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new hi({})),this.Fi(o.initMessageHeaders,t),(0,$.isMobileCordova)()||(0,$.isReactNative)()||(0,$.isElectron)()||(0,$.isIE)()||(0,$.isUWP)()||(0,$.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");_i("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new pl({Ei:function(e){c?_i("Connection","Not sending because WebChannel is closed:",e):(u||(_i("Connection","Opening WebChannel transport."),s.open(),u=!0),_i("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,fi.EventType.OPEN,(function(){c||_i("Connection","WebChannel transport opened.")})),h(s,fi.EventType.CLOSE,(function(){c||(c=!0,_i("Connection","WebChannel transport closed"),l.Vi())})),h(s,fi.EventType.ERROR,(function(e){c||(c=!0,wi("Connection","WebChannel transport errored:",e),l.Vi(new mi(gi.UNAVAILABLE,"The operation could not be completed")))})),h(s,fi.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ti(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_i("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Pa[e];if(void 0!==t)return ja(t)}(o),u=i.message;void 0===a&&(a=gi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new mi(a,u)),s.close()}else _i("Connection","WebChannel received:",n),l.Si(n)}})),h(i,ci.STAT_EVENT,(function(e){e.stat===li.PROXY?_i("Connection","Detected buffering proxy"):e.stat===li.NOPROXY&&_i("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);_i("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return _i("RestConnection","Received: ",e),e}),(function(t){throw wi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=dl[e];return this.Di+"/v1/"+t+":"+n},e}());function ml(){return"undefined"!=typeof window?window:null}function vl(){return"undefined"!=typeof document?document:null}function yl(e){return new cs(e,!0)}var _l=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&_i("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),bl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _l(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===gi.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===gi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new mi(gi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,Q.__awaiter)(e,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return _i("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(_i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),wl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Q.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ii()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Ti(void 0===t||"string"==typeof t),Vi.fromBase64String(t||"")):(Ti(void 0===t||t instanceof Uint8Array),Vi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?gi.UNKNOWN:ja(e.code);return new mi(t,e.message||"")}(s);n=new ns(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=vs(e,r.document.name),o=ds(r.document.updateTime);var s=new po({mapValue:{fields:r.document.fields}}),u=(a=mo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new es(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=vs(e,r.document),o=r.readTime?ds(r.readTime):Ri.min(),s=mo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new es([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=vs(e,r.document),o=r.removedTargetIds||[],n=new es([],o,i,null);else{if(!("filter"in t))return Ii();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Da(r),o=l.targetId,n=new ts(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ri.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ri.min():t.readTime?ds(t.readTime):Ri.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=bs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=wo(r)?{documents:ks(e,r)}:{query:Cs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hs(e,t.resumeToken):t.snapshotVersion.compareTo(Ri.min())>0&&(n.readTime=ls(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ii()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=bs(this.R),t.removeTarget=e,this.cr(t)},t}(bl),Sl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Q.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Ti(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Ti(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ds(e.updateTime):ds(t);return n.isEqual(Ri.min())&&(n=ds(t)),new ma(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ds(e.commitTime);return this.listener.Tr(n,t)}return Ti(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=bs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ts(t.R,e)}))};this.cr(n)},t}(bl),Il=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Q.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new mi(gi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mi(gi.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mi(gi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Tl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(bi(t),this.Vr=!1):_i("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),El=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,Q.__awaiter)(o,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return Dl(this)?(_i("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return(t=Ei(e)).Or.add(4),[4,Cl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,kl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Tl(n,r)};function kl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:if(!Dl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Cl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function xl(e,t){var n=Ei(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ol(n)?Rl(n):Xl(n).er()&&Pl(n,t))}function Nl(e,t){var n=Ei(e),r=Xl(n);n.$r.delete(t),r.er()&&Al(n,t),0===n.$r.size&&(r.er()?r.ir():Dl(n)&&n.Br.set("Unknown"))}function Pl(e,t){e.qr.U(t.targetId),Xl(e).mr(t)}function Al(e,t){e.qr.U(t),Xl(e).yr(t)}function Rl(e){e.qr=new is({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Xl(e).start(),e.Br.Sr()}function Ol(e){return Dl(e)&&!Xl(e).tr()&&e.$r.size>0}function Dl(e){return 0===Ei(e).Or.size}function Ll(e){e.qr=void 0}function jl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Pl(e,t)})),[2]}))}))}function Ml(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){return Ll(e),Ol(e)?(e.Br.Nr(t),Rl(e)):e.Br.set("Unknown"),[2]}))}))}function Fl(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ns&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_i("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ul(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof es?e.qr.X(t):t instanceof ts?e.qr.rt(t):e.qr.et(t),n.isEqual(Ri.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Rc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Vi.EMPTY_BYTE_STRING,n.snapshotVersion)),Al(e,t);var r=new Tu(n.target,t,1,n.sequenceNumber);Pl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _i("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ul(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ul(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:if(!gu(t))throw t;return e.Or.add(1),[4,Cl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Rc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,Q.__awaiter)(r,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return _i("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,kl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ql(e,t){return t().catch((function(n){return Ul(e,n,t)}))}function Vl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:t=Ei(e),n=Ql(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Dl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Lc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Ql(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Ul(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return zl(t)&&Bl(t),[2]}}))}))}function zl(e){return Dl(e)&&!Ql(e).tr()&&e.kr.length>0}function Bl(e){Ql(e).start()}function Wl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return Ql(e).Ar(),[2]}))}))}function Kl(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Q.__generator)(this,(function(o){for(t=Ql(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Hl(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Iu.from(r,t,n),[4,ql(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Vl(e)];case 2:return o.sent(),[2]}}))}))}function Gl(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t&&Ql(e).pr?[4,function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return La(r=t.code)&&r!==gi.ABORTED?(n=e.kr.shift(),Ql(e).sr(),[4,ql(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Vl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zl(e)&&Bl(e),[2]}}))}))}function Yl(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return n=Ei(e),t?(n.Or.delete(2),[4,kl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Cl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Xl(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ei(e);return r.br(),new wl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:jl.bind(null,e),Ri:Ml.bind(null,e),_r:Fl.bind(null,e)}),e.Mr.push((function(n){return(0,Q.__awaiter)(t,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ol(e)?Rl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ll(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Ql(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Ei(e);return r.br(),new Sl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Wl.bind(null,e),Ri:Gl.bind(null,e),Ir:Kl.bind(null,e),Tr:Hl.bind(null,e)}),e.Mr.push((function(n){return(0,Q.__awaiter)(t,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Vl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(_i("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var $l=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mi(gi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Jl(e,t){if(bi("AsyncQueue",t+": "+e),gu(e))return new mi(gi.UNAVAILABLE,t+": "+e);throw e}var Zl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ji.comparator(t.key,n.key)}:function(e,t){return Ji.comparator(e.key,t.key)},this.keyedMap=Ka(),this.sortedSet=new Ma(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),eh=function(){function e(){this.Qr=new Ma(Ji.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Ii():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),th=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),nh=function(){this.Wr=void 0,this.listeners=[]},rh=function(){this.queries=new lc((function(e){return Xo(e)}),Yo),this.onlineState="Unknown",this.Gr=new Set};function ih(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:if(n=Ei(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new nh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Jl(s,"Initialization of query '"+Qo(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&uh(n),[2]}}))}))}function oh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Q.__generator)(this,(function(s){return n=Ei(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ah(e,t){for(var n=Ei(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&uh(n)}function sh(e,t,n){var r=Ei(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function uh(e){e.Gr.forEach((function(e){e.next()}))}var ch=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),lh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),hh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return vs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Is(this.R,e.document,!1):mo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return ds(e)},e}(),fh=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=dh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new hh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Xa()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return[4,zc(this.localStore,new hh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Bc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tc(Object.assign({},this.progress),e))]}}))}))},e}();function dh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ph=function(e){this.key=e},gh=function(e){this.key=e},mh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Xa(),this.mutatedKeys=Xa(),this.lo=Jo(e),this.fo=new Zl(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new eh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=qo(this.query)&&i.size===this.query.limit?i.last():null,c=Vo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=$o(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),qo(this.query)||Vo(this.query))for(;a.size>this.query.limit;){var l=qo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ii()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new th(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Xa(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new gh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ph(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Xa();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return th.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),vh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},yh=function(e){this.key=e,this.bo=!1},_h=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new lc((function(e){return Xo(e)}),Yo),this.Vo=new Map,this.So=new Set,this.Do=new Ma(Ji.comparator),this.Co=new Map,this.No=new Kc,this.xo={},this.Fo=new Map,this.ko=Ju.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function bh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return n=Xh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,jc(n.localStore,Ho(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,wh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&xl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function wh(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,Q.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Fc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Dh(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Fc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new mh(t,i.Bn),a=o._o(i.documents),s=Za.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Dh(e,n,u.To),c=new vh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Sh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return n=Ei(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Yo(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Nl(n.remoteStore,r.targetId),Rh(n,r.targetId)})).catch(rc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rh(n,r.targetId),[4,Mc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ih(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:r=Qh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ei(e),i=Ai.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Xa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Sa(c,n.get(c.key));null!=l&&a.push(new ka(c.key,l,go(l.value.mapValue),va.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ma(xi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mh(r,i.changes)];case 3:return s.sent(),[4,Vl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Jl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Th(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:n=Ei(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Oc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Ti(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Ti(r.bo):e.removedDocuments.size>0&&(Ti(r.bo),r.bo=!1))})),[4,Mh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,rc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Eh(e,t,n){var r=Ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ei(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&uh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kh(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:return(r=Ei(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ma(Ji.comparator)).insert(o,mo.newNoDocument(o,Ri.min())),s=Xa().add(o),u=new Ja(Ri.min(),new Map,new qa(xi),a,s),[4,Th(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),jh(r),[3,4];case 2:return[4,Mc(r.localStore,t,!1).then((function(){return Rh(r,t,n)})).catch(rc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ch(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:n=Ei(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ac(n.localStore,t)];case 2:return i=o.sent(),Ah(n,r,null),Ph(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xh(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:r=Ei(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Ti(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Ah(r,t,n),Ph(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Mh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:Dl((n=Ei(e)).remoteStore)||_i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Ei(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Jl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ph(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Ah(e,t,n){var r=Ei(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Rh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Oh(e,t)}))}function Oh(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Nl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),jh(e))}function Dh(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ph?(e.No.addReference(o.key,t),Lh(e,o)):o instanceof gh?(_i("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Oh(e,o.key)):Ii()}}function Lh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(_i("SyncEngine","New document in limbo: "+n),e.So.add(r),jh(e))}function jh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ji(Mi.fromString(t)),r=e.ko.next();e.Co.set(r,new yh(n)),e.Do=e.Do.insert(n,r),xl(e.remoteStore,new Tu(Ho(Uo(n.path)),r,2,pi.o))}}function Mh(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return r=Ei(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=kc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,Q.__generator)(this,(function(h){switch(h.label){case 0:n=Ei(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return lu.forEach(t,(function(t){return lu.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return lu.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!gu(r=h.sent()))throw r;return _i("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Fh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return(n=Ei(e)).currentUser.isEqual(t)?[3,3]:(_i("SyncEngine","User change. New user:",t.toKey()),[4,Pc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new mi(gi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Mh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Uh(e,t){var n=Ei(e),r=n.Co.get(t);if(r&&r.bo)return Xa().add(r.key);var i=Xa(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function qh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return[4,Fc((n=Ei(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Dh(n,t.targetId,i.To),i)]}}))}))}function Vh(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){return[2,qc((t=Ei(e)).localStore).then((function(e){return Mh(t,e)}))]}))}))}function zh(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ei(e),r=Ei(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):lu.resolve(null)}))}))}((i=Ei(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ah(i,t,r||null),Ph(i,t),function(e,t){Ei(Ei(e)._n).Gt(t)}(i.localStore,t)):Ii(),a.label=4;case 4:return[4,Mh(i,o)];case 5:return a.sent(),[3,7];case 6:_i("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Bh(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,Q.__generator)(this,(function(l){switch(l.label){case 0:return Xh(n=Ei(e)),Qh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Wh(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Yl(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],xl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Rh(n,t),Mc(n.localStore,t,!0)})),Nl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Wh(n,u)];case 5:return l.sent(),function(e){var t=Ei(e);t.Co.forEach((function(e,n){Nl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ma(Ji.comparator)}(n),n.$o=!1,[4,Yl(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Wh(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g;return(0,Q.__generator)(this,(function(m){switch(m.label){case 0:n=Ei(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,jc(n.localStore,Ho(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,qh(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Uc(n.localStore,s)];case 8:return g=m.sent(),[4,jc(n.localStore,g)];case 9:return u=m.sent(),[4,wh(n,Kh(g),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Kh(e){return Fo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Hh(e){var t=Ei(e);return Ei(Ei(t.localStore).persistence).fn()}function Gh(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return(i=Ei(e)).$o?(_i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qc(i.localStore)];case 3:return o=s.sent(),a=Ja.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Mh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Mc(i.localStore,t,!0)];case 6:return s.sent(),Rh(i,t,r),[3,8];case 7:Ii(),s.label=8;case 8:return[2]}}))}))}function Yh(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,Q.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Xh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(_i("SyncEngine","Adding an already active target "+a),[3,5]):[4,Uc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,jc(r.localStore,s)];case 3:return u=d.sent(),[4,wh(r,Kh(s),u.targetId,!1)];case 4:d.sent(),xl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Mc(r.localStore,e,!1).then((function(){Nl(r.remoteStore,e),Rh(r,e)})).catch(rc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Xh(e){var t=Ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Th.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kh.bind(null,t),t.vo._r=ah.bind(null,t.eventManager),t.vo.Mo=sh.bind(null,t.eventManager),t}function Qh(e){var t=Ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ch.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,t),t}function $h(e,t,n){var r=Ei(e);(function(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Ei(e),r=ds(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(dh(r)),i=new fh(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Mh(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return wi("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Jh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return this.R=yl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Nc(this.persistence,new Cc,e.initialUser,this.R)},e.prototype.qo=function(e){return new $c(Zc.bs,this.R)},e.prototype.Bo=function(e){return new ll},e.prototype.terminate=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Zh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Q.__extends)(t,e),t.prototype.initialize=function(t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Vc(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Qh(this.Qo.syncEngine)];case 4:return n.sent(),[4,Vl(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Nc(this.persistence,new Cc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ac(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Ic(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wu.withCacheSize(this.cacheSizeBytes):Wu.DEFAULT;return new bc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ml(),vl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ll},t}(Jh),ef=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Q.__extends)(t,e),t.prototype.initialize=function(t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof cl?(this.sharedClientState.syncEngine={ui:zh.bind(null,n),ai:Gh.bind(null,n),hi:Yh.bind(null,n),fn:Hh.bind(null,n),ci:Vh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,Q.__awaiter)(r,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return[4,Bh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ml();if(!cl.yt(t))throw new mi(gi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ic(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Zh),tf=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Eh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fh.bind(null,this.syncEngine),[4,Yl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new rh},e.prototype.createDatastore=function(e){var t,n=yl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gl(t));return function(e,t,n){return new Il(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Eh(a.syncEngine,e,0)},o=fl.yt()?new fl:new hl,new El(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new _h(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=Ei(e),_i("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Cl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function nf(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Q.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rf=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),of=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new cu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new lh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),af=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new mi(gi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return n=Ei(e),r=bs(n.R)+"/documents",i={documents:t.map((function(e){return ms(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Ti(!!t.found),t.found.name,t.found.updateTime;var n=vs(e,t.found.name),r=ds(t.found.updateTime),i=new po({mapValue:{fields:t.found.fields}});return mo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ti(!!t.missing),Ti(!!t.readTime);var n=vs(e,t.missing),r=ds(t.readTime);return mo.newNoDocument(n,r)}(e,t):Ii()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Ti(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ra(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Ji.fromPath(n);t.mutations.push(new Oa(r,t.precondition(r)))})),[4,function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return n=Ei(e),r=bs(n.R)+"/documents",i={writes:t.map((function(e){return Ts(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ii();t=Ri.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mi(gi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?va.updateTime(t):va.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ri.min()))throw new mi(gi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return va.updateTime(t)}return va.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),sf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _l(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,Q.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,Q.__generator)(this,(function(r){return e=new af(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Xi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!La(t)}return!1},e}(),uf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=el.UNAUTHENTICATED,this.clientId=Ci.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,Q.__awaiter)(r,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return _i("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new mi(gi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Q.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Jl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function cf(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),_i("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,Q.__awaiter)(i,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Pc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function lf(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,hf(e)];case 1:return n=i.sent(),_i("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return(n=Ei(e)).asyncQueue.verifyOperationInProgress(),_i("RemoteStore","RemoteStore received new credentials"),r=Dl(n),n.Or.add(3),[4,Cl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,kl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function hf(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(_i("FirestoreClient","Using default OfflineComponentProvider"),[4,cf(e,new Jh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ff(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(_i("FirestoreClient","Using default OnlineComponentProvider"),[4,lf(e,new tf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function df(e){return hf(e).then((function(e){return e.persistence}))}function pf(e){return hf(e).then((function(e){return e.localStore}))}function gf(e){return ff(e).then((function(e){return e.remoteStore}))}function mf(e){return ff(e).then((function(e){return e.syncEngine}))}function vf(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,ff(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=bh.bind(null,t.syncEngine),n.onUnlisten=Sh.bind(null,t.syncEngine),n)]}}))}))}function yf(e,t,n){var r=this;void 0===n&&(n={});var i=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rf({next:function(o){t.enqueueAndForget((function(){return oh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new mi(gi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new mi(gi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ch(Uo(n.path),o,{includeMetadataChanges:!0,so:!0});return ih(e,a)},[4,vf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function _f(e,t,n){var r=this;void 0===n&&(n={});var i=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rf({next:function(n){t.enqueueAndForget((function(){return oh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new mi(gi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ch(n,o,{includeMetadataChanges:!0,so:!0});return ih(e,a)},[4,vf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var bf=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},wf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Sf=new Map,If=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Tf=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(el.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Ef=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),kf=function(){function e(e){var t=this;this.currentUser=el.UNAUTHENTICATED,this.oc=new cu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){_i("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(_i("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(_i("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ti("string"==typeof n.accessToken),new If(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ti(null===e||"string"==typeof e),new el(e)},e}(),Cf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=el.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),xf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Cf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(el.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Nf(e,t,n){if(!n)throw new mi(gi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Pf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mi(gi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Af(e,t,n,r){if(!0===t&&!0===r)throw new mi(gi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Rf(e){if(!Ji.isDocumentKey(e))throw new mi(gi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Of(e){if(Ji.isDocumentKey(e))throw new mi(gi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Df(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ii()}function Lf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mi(gi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Df(e);throw new mi(gi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function jf(e,t){if(t<=0)throw new mi(gi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Mf=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mi(gi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mi(gi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Af("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ff=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1,e instanceof wf?(this._databaseId=e,this._credentials=new Tf):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mi(gi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(e.options.projectId)}(e),this._credentials=new kf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new mi(gi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new mi(gi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Tf;switch(e.type){case"gapi":var t=e.client;return Ti(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new xf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mi(gi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Sf.get(this))&&(_i("ComponentProvider","Removing Datastore"),Sf.delete(this),e.terminate()),Promise.resolve();var e},e}(),Uf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),qf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Uo(r))||this)._path=r,i.type="collection",i}return(0,Q.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Uf(this.firestore,null,new Ji(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(qf);function zf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,$.getModularInstance)(e),Nf("collection","path",t),e instanceof Ff)return Of(n=Mi.fromString.apply(Mi,(0,Q.__spreadArray)([t],r))),new Vf(e,null,n);if(!(e instanceof Uf||e instanceof Vf))throw new mi(gi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Of(n=Mi.fromString.apply(Mi,(0,Q.__spreadArray)([e.path],r)).child(Mi.fromString(t))),new Vf(e.firestore,null,n)}function Bf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,$.getModularInstance)(e),1===arguments.length&&(t=Ci.u()),Nf("doc","path",t),e instanceof Ff)return Rf(n=Mi.fromString.apply(Mi,(0,Q.__spreadArray)([t],r))),new Uf(e,null,new Ji(n));if(!(e instanceof Uf||e instanceof Vf))throw new mi(gi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rf(n=e._path.child(Mi.fromString.apply(Mi,(0,Q.__spreadArray)([t],r)))),new Uf(e.firestore,e instanceof Vf?e.converter:null,new Ji(n))}function Wf(e,t){return e=(0,$.getModularInstance)(e),t=(0,$.getModularInstance)(t),(e instanceof Uf||e instanceof Vf)&&(t instanceof Uf||t instanceof Vf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kf(e,t){return e=(0,$.getModularInstance)(e),t=(0,$.getModularInstance)(t),e instanceof qf&&t instanceof qf&&e.firestore===t.firestore&&Yo(e._query,t._query)&&e.converter===t.converter}var Hf=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new _l(this,"async_queue_retry"),this.Ic=function(){var t=vl();t&&_i("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=vl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=vl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new cu;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!gu(e=n.sent()))throw e;return _i("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=$l.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Ii()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Gf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Yf=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new cu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Xf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Hf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,Q.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||$f(this),this._firestoreClient.terminate()},t}(Ff);function Qf(e){return e._firestoreClient||$f(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $f(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new bf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uf(e._credentials,e._queue,r)}function Jf(e,t,n){var r=this,i=new cu;return e.asyncQueue.enqueue((function(){return(0,Q.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cf(e,n)];case 1:return o.sent(),[4,lf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===gi.FAILED_PRECONDITION||e.code===gi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Zf(e){if(e._initialized||e._terminated)throw new mi(gi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ed=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new mi(gi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),td=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Vi.fromBase64String(t))}catch(t){throw new mi(gi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Vi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),nd=function(e){this._methodName=e},rd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new mi(gi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mi(gi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return xi(this._lat,e._lat)||xi(this._long,e._long)},e}(),id=/^__.*__$/,od=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)},e}(),ad=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new ka(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function sd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ii()}}var ud=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return xd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(sd(this.Nc)&&id.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),cd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||yl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new ud({Nc:e,methodName:t,qc:n,path:Ui.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ld(e){var t=e._freezeSettings(),n=yl(e._databaseId);return new cd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Td("Data must be an object, but it was:",a,r);var s,u,c=Sd(r,a);if(o.merge)s=new qi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ed(t,f[h],n);if(!a.contains(d))throw new mi(gi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Nd(l,d)||l.push(d)}s=new qi(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new od(new po(c),s,u)}var fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(nd);function dd(e,t,n){return new ud({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new ga(e.path,new sa)},t.prototype.isEqual=function(e){return e instanceof t},t}(nd),gd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Q.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=dd(this,e,!0),n=this.Kc.map((function(e){return wd(e,t)})),r=new ua(n);return new ga(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nd),md=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Q.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=dd(this,e,!0),n=this.Kc.map((function(e){return wd(e,t)})),r=new la(n);return new ga(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nd),vd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,Q.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new fa(e.R,na(e.R,this.Qc));return new ga(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(nd);function yd(e,t,n,r){var i=e.Uc(1,t,n);Td("Data must be an object, but it was:",i,r);var o=[],a=po.empty();Di(r,(function(e,r){var s=Cd(t,e,n);r=(0,$.getModularInstance)(r);var u=i.Oc(s);if(r instanceof fd)o.push(s);else{var c=wd(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new qi(o);return new ad(a,s,i.fieldTransforms)}function _d(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Ed(t,r,n)],u=[i];if(o.length%2!=0)throw new mi(gi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ed(t,o[c])),u.push(o[c+1]);for(var l=[],h=po.empty(),f=s.length-1;f>=0;--f)if(!Nd(l,s[f])){var d=s[f],p=u[f];p=(0,$.getModularInstance)(p);var g=a.Oc(d);if(p instanceof fd)l.push(d);else{var m=wd(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new qi(l);return new ad(h,v,a.fieldTransforms)}function bd(e,t,n,r){return void 0===r&&(r=!1),wd(n,e.Uc(r?4:3,t))}function wd(e,t){if(Id(e=(0,$.getModularInstance)(e)))return Td("Unsupported field value:",t,e),Sd(e,t);if(e instanceof nd)return function(e,t){if(!sd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=wd(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,$.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return na(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ai.fromDate(e);return{timestampValue:ls(t.R,n)}}if(e instanceof Ai)return n=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ls(t.R,n)};if(e instanceof rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof td)return{bytesValue:hs(t.R,e._byteString)};if(e instanceof Uf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ps(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Df(e))}(e,t)}function Sd(e,t){var n={};return Li(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Di(e,(function(e,r){var i=wd(r,t.Fc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Id(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ai||e instanceof rd||e instanceof td||e instanceof Uf||e instanceof nd)}function Td(e,t,n){if(!Id(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Df(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Ed(e,t,n){if((t=(0,$.getModularInstance)(t))instanceof ed)return t._internalPath;if("string"==typeof t)return Cd(e,t);throw xd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var kd=new RegExp("[~\\*/\\[\\]]");function Cd(e,t,n){if(t.search(kd)>=0)throw xd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ed.bind.apply(ed,(0,Q.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(Rp){throw xd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function xd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new mi(gi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Nd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Pd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Uf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ad(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Rd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Pd);function Rd(e,t){return"string"==typeof t?Cd(e,t):t instanceof ed?t._internalPath:t._delegate._internalPath}var Od=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Dd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,Q.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Pd),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Dd),jd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Od(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ld(n._firestore,n._userDataWriter,r.key,r,new Od(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mi(gi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ld(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ld(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Md(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Md(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ii()}}function Fd(e,t){return e instanceof Dd&&t instanceof Dd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jd&&t instanceof jd&&e._firestore===t._firestore&&Kf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ud(e){if(Vo(e)&&0===e.explicitOrderBy.length)throw new mi(gi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qd=function(){};function Vd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var zd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Q.__extends)(t,e),t.prototype._apply=function(e){var t=ld(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Yd(r,e,h))}s={arrayValue:{values:u}}}else s=Yd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xd(a,o),s=bd(n,"where",a,"in"===o||"not-in"===o);var f=So.create(i,o,s);return function(e,t){if(t.g()){var n=Bo(e);if(null!==n&&!n.isEqual(t.field))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=zo(e);null!==r&&Qd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new mi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new qf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(qd),Bd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,Q.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oo(t,n);return function(e,t){if(null===zo(e)){var n=Bo(e);null!==n&&Qd(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new qf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Mo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(qd),Wd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,Q.__extends)(t,e),t.prototype._apply=function(e){return new qf(e.firestore,e.converter,Go(e._query,this.Hc,this.Jc))},t}(qd),Kd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Q.__extends)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Yc,this.Xc);return new qf(e.firestore,e.converter,function(e,t){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(qd),Hd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Q.__extends)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Yc,this.Xc);return new qf(e.firestore,e.converter,function(e,t){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(qd);function Gd(e,t,n,r){if(n[0]=(0,$.getModularInstance)(n[0]),n[0]instanceof Pd)return function(e,t,n,r,i){if(!r)throw new mi(gi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ko(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ao(t,r.key));else{var c=r.data.field(u.field);if(Hi(c))throw new mi(gi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ao(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ld(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new mi(gi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Wo(e)&&-1!==c.indexOf("/"))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Mi.fromString(c));if(!Ji.isDocumentKey(l))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ji(l);s.push(ao(t,h))}else{var f=bd(n,r,c);s.push(f)}}return new Ao(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Yd(e,t,n){if("string"==typeof(n=(0,$.getModularInstance)(n))){if(""===n)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wo(t)&&-1!==n.indexOf("/"))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Mi.fromString(n));if(!Ji.isDocumentKey(r))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ao(e,new Ji(r))}if(n instanceof Uf)return ao(e,n._key);throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Df(n)+".")}function Xd(e,t){if(!Array.isArray(e)||0===e.length)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qd(e,t,n){if(!n.isEqual(t))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var $d=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ii()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Di(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new rd(Wi(e.latitude),Wi(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Gi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Bi(e);return new Ai(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Mi.fromString(e);Ti(Us(n));var r=new wf(n.get(1),n.get(3)),i=new Ji(n.popFirst(5));return r.isEqual(t)||bi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Jd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Zd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Q.__extends)(t,e),t.prototype.convertBytes=function(e){return new td(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uf(this.firestore,null,t)},t}($d),ep=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ld(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=tp(e,this._firestore),i=Jd(r.converter,t,n),o=hd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,va.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=tp(e,this._firestore);return o="string"==typeof(t=(0,$.getModularInstance)(t))||t instanceof ed?_d(this._dataReader,"WriteBatch.update",a._key,t,n,r):yd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,va.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=tp(e,this._firestore);return this._mutations=this._mutations.concat(new Ra(t._key,va.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new mi(gi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function tp(e,t){if((e=(0,$.getModularInstance)(e)).firestore!==t)throw new mi(gi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var np=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Q.__extends)(t,e),t.prototype.convertBytes=function(e){return new td(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uf(this.firestore,null,t)},t}($d);function rp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Lf(e,Uf);var o=Lf(e.firestore,Xf),a=ld(o);return op(o,[("string"==typeof(t=(0,$.getModularInstance)(t))||t instanceof ed?_d(a,"updateDoc",e._key,t,n,r):yd(a,"updateDoc",e._key,t)).toMutation(e._key,va.exists(!0))])}function ip(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,$.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gf(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gf(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Uf)c=Lf(e.firestore,Xf),l=Uo(e._key.path),u={next:function(t){i[s]&&i[s](ap(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Lf(e,qf);c=Lf(d.firestore,Xf),l=d._query;var p=new np(c);u={next:function(e){i[s]&&i[s](new jd(c,p,d,e))},error:i[s+1],complete:i[s+2]},Ud(e._query)}return function(e,t,n,r){var i=this,o=new rf(r),a=new ch(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=ih,[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=oh,[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Qf(c),l,h,u)}function op(e,t){return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return n=Ih,[4,mf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Qf(e),t)}function ap(e,t,n){var r=n.docs.get(t._key),i=new np(e);return new Dd(e,i,t._key,r,new Od(n.hasPendingWrites,n.fromCache),t.converter)}var sp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,Q.__extends)(t,e),t.prototype.get=function(t){var n=this,r=tp(t,this._firestore),i=new np(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Dd(n._firestore,i,r._key,e._document,new Od(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ld(e)}return e.prototype.get=function(e){var t=this,n=tp(e,this._firestore),r=new Zd(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ii();var i=e[0];if(i.isFoundDocument())return new Pd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Pd(t._firestore,r,n._key,null,n.converter);throw Ii()}))},e.prototype.set=function(e,t,n){var r=tp(e,this._firestore),i=Jd(r.converter,t,n),o=hd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=tp(e,this._firestore);return o="string"==typeof(t=(0,$.getModularInstance)(t))||t instanceof ed?_d(this._dataReader,"Transaction.update",a._key,t,n,r):yd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=tp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function up(){if("undefined"==typeof Uint8Array)throw new mi(gi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cp(){if("undefined"==typeof atob)throw new mi(gi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return cp(),new e(td.fromBase64String(t))},e.fromUint8Array=function(t){return up(),new e(td.fromUint8Array(t))},e.prototype.toBase64=function(){return cp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return up(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),hp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Zf(e=Lf(e,Xf));var n=Qf(e),r=e._freezeSettings(),i=new tf;return Jf(n,i,new Zh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Zf(e=Lf(e,Xf));var t=Qf(e),n=e._freezeSettings(),r=new tf;return Jf(t,r,new ef(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new mi(gi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return fu.yt()?(t=e+"main",[4,fu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ic(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),fp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof wf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Lf(e,Ff))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,$.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new mi(gi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new Ef(new If(o,new el(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,df(e)];case 1:return t=r.sent(),[4,gf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ei(e);return t.Or.delete(0),kl(t)}(n))]}}))}))}))}(Qf(Lf(this._delegate,Xf)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,df(e)];case 1:return t=r.sent(),[4,gf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return(t=Ei(e)).Or.add(0),[4,Cl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Qf(Lf(this._delegate,Xf)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Af("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return t=Nh,[4,mf(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Qf(Lf(this._delegate,Xf)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new rf(t);return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ei(e).Gr.add(t),t.next()},[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ei(e).Gr.delete(t)},[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Qf(e=Lf(e,Xf)),Gf(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new mi(gi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new kp(this,zf(this._delegate,e))}catch(e){throw yp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new vp(this,Bf(this._delegate,e))}catch(e){throw yp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Ip(this,function(e,t){if(e=Lf(e,Ff),Nf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qf(e,null,function(e){return new Mo(Mi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw yp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return ff(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new sf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Qf(e),(function(n){return t(new sp(e,n))}))}(this._delegate,(function(n){return e(new pp(t,n))}))},e.prototype.batch=function(){var e=this;return Qf(this._delegate),new gp(new ep(this._delegate,(function(t){return op(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new mi(gi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new mi(gi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),dp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Q.__extends)(t,e),t.prototype.convertBytes=function(e){return new lp(new td(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vp.eu(t,this.firestore,null)},t}($d);var pp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.prototype.get=function(e){var t=this,n=Cp(e);return this._delegate.get(n).then((function(e){return new wp(t._firestore,new Dd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Cp(e);return n?(Pf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Q.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Cp(e);return this._delegate.delete(t),this},e}(),gp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Cp(e);return n?(Pf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Q.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Cp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),mp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Ld(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new dp(t),n),i.set(n,o)),o},e}();mp.su=new WeakMap;var vp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Uf(n._delegate,r,new Ji(t)))},e.eu=function(t,n,r){return new e(n,new Uf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new kp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new kp(this.firestore,zf(this._delegate,e))}catch(e){throw yp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,$.getModularInstance)(e))instanceof Uf&&Wf(this._delegate,e)},e.prototype.set=function(e,t){t=Pf("DocumentReference.set",t);try{return function(e,t,n){e=Lf(e,Uf);var r=Lf(e.firestore,Xf),i=Jd(e.converter,t,n);return op(r,[hd(ld(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,va.none())])}(this._delegate,e,t)}catch(e){throw yp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rp(this._delegate,e):rp.apply(void 0,(0,Q.__spreadArray)([this._delegate,e,t],n))}catch(e){throw yp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return op(Lf((e=this._delegate).firestore,Xf),[new Ra(e._key,va.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_p(t),i=bp(t,(function(t){return new wp(e.firestore,new Dd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ip(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Lf(e,Uf);var t=Lf(e.firestore,Xf),n=Qf(t),r=new np(t);return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new mi(gi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Jl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Dd(t,r,e._key,n,new Od(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Lf(e,Uf);var t=Lf(e.firestore,Xf);return yf(Qf(t),e._key,{source:"server"}).then((function(n){return ap(t,e,n)}))}(this._delegate):function(e){e=Lf(e,Uf);var t=Lf(e.firestore,Xf);return yf(Qf(t),e._key).then((function(n){return ap(t,e,n)}))}(this._delegate)).then((function(e){return new wp(t.firestore,new Dd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yp(e,t,n){return e.message=e.message.replace(t,n),e}function _p(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Gf(r))return r}return{}}function bp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gf(e[0])?e[0]:Gf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new vp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Fd(this._delegate,e._delegate)},e}(),Sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Q.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(wp),Ip=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Vd(this._delegate,function(e,t,n){var r=t,i=Rd("where",e);return new zd(i,r,n)}(t,n,r)))}catch(t){throw yp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Vd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Rd("orderBy",e);return new Bd(r,n)}(t,n)))}catch(t){throw yp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Vd(this._delegate,function(e){return jf("limit",e),new Wd("limit",e,"F")}(t)))}catch(t){throw yp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Vd(this._delegate,function(e){return jf("limitToLast",e),new Wd("limitToLast",e,"L")}(t)))}catch(t){throw yp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Kd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw yp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Kd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw yp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Hd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw yp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Hd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw yp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Kf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Lf(e,qf);var t=Lf(e.firestore,Xf),n=Qf(t),r=new np(t);return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Fc(e,t,!0)];case 1:return s=u.sent(),r=new mh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Jl(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new jd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Lf(e,qf);var t=Lf(e.firestore,Xf),n=Qf(t),r=new np(t);return _f(n,e._query,{source:"server"}).then((function(n){return new jd(t,r,e,n)}))}(this._delegate):function(e){e=Lf(e,qf);var t=Lf(e.firestore,Xf),n=Qf(t),r=new np(t);return Ud(e._query),_f(n,e._query).then((function(n){return new jd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Ep(t.firestore,new jd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_p(t),i=bp(t,(function(t){return new Ep(e.firestore,new jd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ip(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Tp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ep=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ip(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Sp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Tp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Sp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Fd(this._delegate,e._delegate)},e}(),kp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,Q.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new vp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new vp(this.firestore,void 0===e?Bf(this._delegate):Bf(this._delegate,e))}catch(e){throw yp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Lf(e.firestore,Xf),r=Bf(e),i=Jd(e.converter,t);return op(n,[hd(ld(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,va.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vp(t.firestore,e)}))},t.prototype.isEqual=function(e){return Wf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(mp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Ip);function Cp(e){return Lf(e,Uf)}var xp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ed.bind.apply(ed,(0,Q.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Ui.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,$.getModularInstance)(e))instanceof ed&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Np=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new pd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new fd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new md("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new vd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Pp(e){return function(e,t){var n=Qf(e=Lf(e,Xf)),r=new Yf;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new of(e,t)}(function(e,t){if(e instanceof Uint8Array)return nf(e,t);if(e instanceof ArrayBuffer)return nf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yl(t));e.asyncQueue.enqueueAndForget((function(){return(0,Q.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return t=$h,[4,mf(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Ap(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,Q.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Ei(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Qf(t=Lf(t,Xf)),n).then((function(e){return e?new qf(t,null,e.query):null}))).then((function(e){return e?new Ip(r,e):null}))}var Rp,Op,Dp=n(826),Lp={Firestore:fp,GeoPoint:rd,Timestamp:Ai,Blob:lp,Transaction:pp,WriteBatch:gp,DocumentReference:vp,DocumentSnapshot:wp,Query:Ip,QueryDocumentSnapshot:Sp,QuerySnapshot:Ep,CollectionReference:kp,FieldPath:xp,FieldValue:Np,setLogLevel:function(e){var t;t=e,vi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Dp.Component("firestore",(function(e){return function(e,t){return new fp(e,new Xf(e,t),new hp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Lp)))})(Rp=X.default),Rp.registerVersion("@firebase/firestore","2.3.9"),(Op=fp).prototype.loadBundle=Pp,Op.prototype.namedQuery=Ap;var jp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mp=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,Q.__extends)(t,e),t}(Error);var Fp=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function Up(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var qp=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return Up(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?Up(e,(function(e){return t.decode(e)})):e},e}();var Vp=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new qp,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Fp(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Rp){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,Q.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Mp("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([zp(c,this.postJSON(r,i,o)),l,zp(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Mp("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!jp[s])return new Mp("internal","internal");r=jp[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Rp){}return"ok"===r?null:new Mp(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new Mp("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new Mp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function zp(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Vp};e.INTERNAL.registerComponent(new Dp.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Vp(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(X.default,fetch.bind(self)),X.default.registerVersion("@firebase/functions","0.6.13");var Bp,Wp=n(494),Kp="0.4.30",Hp=1e4,Gp="w:"+Kp,Yp="FIS_v2",Xp="https://firebaseinstallations.googleapis.com/v1",Qp=36e5,$p=((Bp={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Bp["not-registered"]="Firebase Installation is not registered.",Bp["installation-not-found"]="Firebase Installation not found.",Bp["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Bp["app-offline"]="Could not process request. Application offline.",Bp["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Bp),Jp=new $.ErrorFactory("installations","Installations",$p);function Zp(e){return e instanceof $.FirebaseError&&e.code.includes("request-failed")}function eg(e){var t=e.projectId;return Xp+"/projects/"+t+"/installations"}function tg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function ng(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Jp.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function rg(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ig(e,t){var n=t.refreshToken,r=rg(e);return r.append("Authorization",function(e){return Yp+" "+e}(n)),r}function og(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function ag(e,t){var n=t.fid;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return t=eg(e),r=rg(e),i={fid:n,authVersion:Yp,appId:e.appId,sdkVersion:Gp},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,og((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:tg(s.authToken)}];case 3:return[4,ng("Create Installation",a)];case 4:throw u.sent()}}))}))}function sg(e){return new Promise((function(t){setTimeout(t,e)}))}var ug=/^[cdef][\w-]{21}$/,cg="";function lg(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,(0,Q.__spreadArray)([],(0,Q.__read)(n)))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ug.test(t)?t:cg}catch(fd){return cg}}function hg(e){return e.appName+"!"+e.appId}var fg=new Map;function dg(e,t){var n=hg(e);pg(n,t),function(e,t){var n=mg();n&&n.postMessage({key:e,fid:t});vg()}(n,t)}function pg(e,t){var n,r,i=fg.get(e);if(i)try{for(var o=(0,Q.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var gg=null;function mg(){return!gg&&"BroadcastChannel"in self&&((gg=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){pg(e.data.key,e.data.fid)}),gg}function vg(){0===fg.size&&gg&&(gg.close(),gg=null)}var yg,_g="firebase-installations-database",bg=1,wg="firebase-installations-store",Sg=null;function Ig(){return Sg||(Sg=(0,Wp.openDb)(_g,bg,(function(e){if(0===e.oldVersion)e.createObjectStore(wg)}))),Sg}function Tg(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return n=hg(e),[4,Ig()];case 1:return r=s.sent(),i=r.transaction(wg,"readwrite"),[4,(o=i.objectStore(wg)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||dg(e,t.fid),[2,t]}}))}))}function Eg(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return t=hg(e),[4,Ig()];case 1:return n=i.sent(),[4,(r=n.transaction(wg,"readwrite")).objectStore(wg).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function kg(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return n=hg(e),[4,Ig()];case 1:return r=u.sent(),i=r.transaction(wg,"readwrite"),[4,(o=i.objectStore(wg)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||dg(e,s.fid),[2,s]}}))}))}function Cg(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,kg(e,(function(n){var r=function(e){var t=e||{fid:lg(),registrationStatus:0};return Pg(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Jp.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ag(e,t)];case 1:return n=i.sent(),[2,Tg(e,n)];case 2:return Zp(r=i.sent())&&409===r.customData.serverCode?[4,Eg(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Tg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:xg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==cg?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function xg(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return[4,Ng(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,sg(100)];case 3:return o.sent(),[4,Ng(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Cg(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Ng(e){return kg(e,(function(e){if(!e)throw Jp.create("installation-not-found");return Pg(e)}))}function Pg(e){return 1===(t=e).registrationStatus&&t.registrationTime+Hp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Ag(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,Q.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return eg(e)+"/"+n+"/authTokens:generate"}(n,t),i=ig(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Gp}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,og((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,tg(c)];case 3:return[4,ng("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Rg(e,t){return void 0===t&&(t=!1),(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return[4,kg(e.appConfig,(function(r){if(!Dg(r))throw Jp.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Qp}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,Og(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,sg(100)];case 3:return i.sent(),[4,Og(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Rg(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Jp.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,Q.__assign)((0,Q.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Ag(e,t)];case 1:return n=o.sent(),i=(0,Q.__assign)((0,Q.__assign)({},t),{authToken:n}),[4,Tg(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Zp(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Eg(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Q.__assign)((0,Q.__assign)({},t),{authToken:{requestStatus:0}}),[4,Tg(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Og(e){return kg(e,(function(e){if(!Dg(e))throw Jp.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Hp<Date.now()?(0,Q.__assign)((0,Q.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Dg(e){return void 0!==e&&2===e.registrationStatus}function Lg(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,Cg(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function jg(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return eg(e)+"/"+n}(e,t),r=ig(e,t),i={method:"DELETE",headers:r},[4,og((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,ng("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Mg(e,t){var n=e.appConfig;return function(e,t){mg();var n=hg(e),r=fg.get(n);r||(r=new Set,fg.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=hg(e),r=fg.get(n);r&&(r.delete(t),0===r.size&&fg.delete(n),vg())}(n,t)}}function Fg(e){return Jp.create("missing-app-config-values",{valueName:e})}(yg=X.default).INTERNAL.registerComponent(new Dp.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Fg("App Configuration");if(!e.name)throw Fg("App Name");try{for(var r=(0,Q.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Fg(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,Cg(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Rg(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,Lg(e.appConfig)];case 1:return n.sent(),[4,Rg(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,kg(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Jp.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Jp.create("app-offline");case 3:return[4,jg(t,n)];case 4:return r.sent(),[4,Eg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return Mg(r,e)}};return i}),"PUBLIC")),yg.registerVersion("@firebase/installations",Kp);var Ug,qg,Vg=n(365),zg=((Ug={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ug["only-available-in-window"]="This method is available in a Window context.",Ug["only-available-in-sw"]="This method is available in a service worker context.",Ug["permission-default"]="The notification permission was not granted and dismissed instead.",Ug["permission-blocked"]="The notification permission was not granted and blocked instead.",Ug["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Ug["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Ug["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Ug["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Ug["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Ug["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Ug["token-update-no-token"]="FCM returned no token when updating the user to push.",Ug["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Ug["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Ug["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Ug["invalid-vapid-key"]="The public VAPID key must be a string.",Ug["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Ug),Bg=new $.ErrorFactory("messaging","Messaging",zg),Wg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kg="https://fcmregistrations.googleapis.com/v1",Hg="FCM_MSG",Gg="google.c.a.c_id";function Yg(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,Q.__spreadArray)([],(0,Q.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xg(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(qg||(qg={}));var Qg="fcm_token_details_db",$g=5,Jg="fcm_token_object_Store";function Zg(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Qg))return[2,null];o.label=2;case 2:return r=null,[4,(0,Vg.openDb)(Qg,$g,(function(t){return(0,Q.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Jg)?[4,(n=t.transaction.objectStore(Jg)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Yg(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Yg(o.auth),p256dh:Yg(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Yg(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,Vg.deleteDb)(Qg)];case 4:return o.sent(),[4,(0,Vg.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,Vg.deleteDb)("undefined")];case 6:return o.sent(),[2,em(r)?r:null]}}))}))}function em(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var tm="firebase-messaging-database",nm=1,rm="firebase-messaging-store",im=null;function om(){return im||(im=(0,Vg.openDb)(tm,nm,(function(e){if(0===e.oldVersion)e.createObjectStore(rm)}))),im}function am(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return t=cm(e),[4,om()];case 1:return[4,i.sent().transaction(rm).objectStore(rm).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Zg(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,sm(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function sm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return n=cm(e),[4,om()];case 1:return r=o.sent(),[4,(i=r.transaction(rm,"readwrite")).objectStore(rm).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function um(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return t=cm(e),[4,om()];case 1:return n=i.sent(),[4,(r=n.transaction(rm,"readwrite")).objectStore(rm).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function cm(e){return e.appConfig.appId}function lm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return[4,pm(e)];case 1:n=u.sent(),r=gm(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(dm(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Bg.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Bg.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Bg.create("token-subscribe-no-token");return[2,o.token]}}))}))}function hm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return[4,pm(e)];case 1:n=u.sent(),r=gm(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(dm(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Bg.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Bg.create("token-update-failed",{errorInfo:s});if(!o.token)throw Bg.create("token-update-no-token");return[2,o.token]}}))}))}function fm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return[4,pm(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(dm(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Bg.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Bg.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function dm(e){var t=e.projectId;return Kg+"/projects/"+t+"/registrations"}function pm(e){var t=e.appConfig,n=e.installations;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function gm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Wg&&(o.web.applicationPubKey=i),o}function mm(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Bg.create("permission-blocked");return[4,bm(t,n)];case 1:return r=s.sent(),[4,am(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Yg(r.getKey("auth")),p256dh:Yg(r.getKey("p256dh"))},i?[3,3]:[2,_m(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,fm(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,_m(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,ym({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function vm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,am(e)];case 1:return(n=i.sent())?[4,fm(e,n.token)]:[3,4];case 2:return i.sent(),[4,um(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function ym(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,hm(t,e)];case 1:return r=a.sent(),i=(0,Q.__assign)((0,Q.__assign)({},e),{token:r,createTime:Date.now()}),[4,sm(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,vm(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function _m(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,lm(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,sm(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function bm(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xg(t)})]}}))}))}function wm(e){return"object"===typeof e&&!!e&&Gg in e}function Sm(e){return new Promise((function(t){setTimeout(t,e)}))}var Im=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Bg.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,am(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Wg,r.label=2;case 2:return[2,mm(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return vm(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Bg.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Bg.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Bg.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Bg.create("only-available-in-window")},e.prototype.onMessage=function(){throw Bg.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Bg.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Cm()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,km(n,t)]:(r=!1,t.notification?[4,xm(Tm(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Sm(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,vm(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,am(this.firebaseDependencies)];case 3:return r=i.sent(),[4,vm(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,mm(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Wg)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[Hg])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return wm(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Em(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Sm(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=qg.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Tm(e){var t,n=(0,Q.__assign)({},e.notification);return n.data=((t={})[Hg]=e,t),n}function Em(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return[4,Cm()];case 1:t=u.sent();try{for(n=(0,Q.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function km(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=qg.PUSH_RECEIVED;try{for(var i=(0,Q.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Cm(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xm(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Nm=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===qg.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),wm(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Bg.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,mm(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Wg),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Bg.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Bg.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,vm(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Bg.create("permission-blocked"):Bg.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Bg.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Bg.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Bg.create("invalid-sw-registration");if(this.swRegistration)throw Bg.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Bg.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Bg.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case qg.NOTIFICATION_CLICKED:return"notification_open";case qg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[Gg],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Pm(e){return Bg.create("missing-app-config-values",{valueName:e})}var Am={isSupported:Rm};function Rm(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}X.default.INTERNAL.registerComponent(new Dp.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Pm("App Configuration Object");if(!e.name)throw Pm("App Name");var r=e.options;try{for(var i=(0,Q.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Pm(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Rm())throw Bg.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Im(r):new Nm(r)}),"PUBLIC").setServiceProps(Am));var Om="firebasestorage.googleapis.com",Dm="storageBucket",Lm=function(e){function t(n,r){var i=e.call(this,jm(n),"Firebase Storage: "+r+" ("+jm(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,Q.__extends)(t,e),t.prototype._codeEquals=function(e){return jm(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}($.FirebaseError);function jm(e){return"storage/"+e}function Mm(){return new Lm("unknown","An unknown error occurred, please check the error payload for server response.")}function Fm(){return new Lm("canceled","User canceled the upload/download.")}function Um(){return new Lm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qm(e){return new Lm("invalid-argument",e)}function Vm(){return new Lm("app-deleted","The Firebase app was deleted.")}function zm(e){return new Lm("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bm(e,t){return new Lm("invalid-format","String does not match format '"+e+"': "+t)}function Wm(e){throw new Lm("internal-error","Internal error: "+e)}var Km={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Hm=function(e,t){this.data=e,this.contentType=t||null};function Gm(e,t){switch(e){case Km.RAW:return new Hm(Ym(t));case Km.BASE64:case Km.BASE64URL:return new Hm(Xm(e,t));case Km.DATA_URL:return new Hm(function(e){var t=new Qm(e);return t.base64?Xm(Km.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Rp){throw Bm(Km.DATA_URL,"Malformed data URL.")}return Ym(t)}(t.rest)}(t),new Qm(t).contentType)}throw Mm()}function Ym(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Xm(e,t){switch(e){case Km.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Bm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Km.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Bm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Rp){throw Bm(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Qm=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bm(Km.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var $m,Jm={STATE_CHANGED:"state_changed"},Zm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ev(e){switch(e){case"running":case"pausing":case"canceling":return Zm.RUNNING;case"paused":return Zm.PAUSED;case"success":return Zm.SUCCESS;case"canceled":return Zm.CANCELED;default:return Zm.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($m||($m={}));var tv=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$m.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=$m.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=$m.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Wm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Wm("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Wm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Rp){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Wm("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var nv=function(){function e(){}return e.prototype.createConnection=function(){return new tv},e}(),rv=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Rp){return new e(t,"")}if(""===r.path)return r;throw new Lm("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Om?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Lm("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),iv=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ov(e){return"string"===typeof e||e instanceof String}function av(e){return sv()&&e instanceof Blob}function sv(){return"undefined"!==typeof Blob}function uv(e,t,n,r){if(r<t)throw qm("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw qm("Invalid value for '"+e+"'. Expected "+n+" or less.")}function cv(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function lv(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var hv=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Rp){o(Rp)}else null!==a?((r=Mm()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Vm():Fm()):o(r=new Lm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new fv(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,(0,Q.__spreadArray)([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new fv(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===$m.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new fv(a,r))}else{var s=r.getErrorCode()===$m.ABORT;t(!1,new fv(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),fv=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function dv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=dv();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(sv())return new Blob(e);throw new Lm("unsupported-environment","This browser doesn't seem to support creating Blobs")}var gv=function(){function e(e,t){var n=0,r="";av(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(av(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(sv()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(pv.apply(null,r))}var i=t.map((function(e){return ov(e)?Gm(Km.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function mv(e){var t;try{t=JSON.parse(e)}catch(Rp){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function vv(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function yv(e,t){return t}var _v=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||yv},bv=null;function wv(){if(bv)return bv;var e=[];e.push(new _v("bucket")),e.push(new _v("generation")),e.push(new _v("metageneration")),e.push(new _v("name","fullPath",!0));var t=new _v("name");t.xform=function(e,t){return function(e){return!ov(e)||e.length<2?e:vv(e)}(t)},e.push(t);var n=new _v("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new _v("timeCreated")),e.push(new _v("updated")),e.push(new _v("md5Hash",null,!0)),e.push(new _v("cacheControl",null,!0)),e.push(new _v("contentDisposition",null,!0)),e.push(new _v("contentEncoding",null,!0)),e.push(new _v("contentLanguage",null,!0)),e.push(new _v("contentType",null,!0)),e.push(new _v("metadata","customMetadata",!0)),bv=e}function Sv(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new rv(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Iv(e,t,n){var r=mv(t);return null===r?null:Sv(e,r,n)}function Tv(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Ev="prefixes",kv="items";function Cv(e,t,n){var r=mv(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Ev])for(var i=0,o=n[Ev];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new rv(t,a));r.prefixes.push(s)}if(n[kv])for(var u=0,c=n[kv];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new rv(t,l.name)),r.items.push(s)}return r}(e,t,r)}var xv=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Nv(e){if(!e)throw Mm()}function Pv(e,t){return function(n,r){var i=Iv(e,r,t);return Nv(null!==i),i}}function Av(e,t){return function(n,r){var i=Iv(e,r,t);return Nv(null!==i),function(e,t,n){var r=mv(t);if(null===r)return null;if(!ov(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return cv("/b/"+o(r)+"/o/"+o(i),n)+lv({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Rv(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Lm("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Lm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Lm("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Lm("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ov(e){var t=Rv(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Lm("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Dv(e,t,n){var r=cv(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new xv(r,"GET",Pv(e,n),i);return o.errorHandler=Ov(t),o}function Lv(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=cv(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new xv(a,"GET",function(e,t){return function(n,r){var i=Cv(e,t,r);return Nv(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Rv(t),u}function jv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Mv=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Fv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Rp){Nv(!1)}return Nv(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Uv=262144;function qv(e,t,n,r,i,o,a,s){var u=new Mv(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Lm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw Um();var g=t.maxUploadRetryTime,m=new xv(n,"POST",(function(e,n){var i,a=Fv(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Pv(t,o)(e,n):null,new Mv(s,c,"final"===a,i)}),g);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Rv(e),m}var Vv=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function zv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Bv=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=wv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=jv(t,r,i),s={name:a.fullPath},u=cv(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Tv(a,n),h=e.maxUploadRetryTime,f=new xv(u,"POST",(function(e){var t;Fv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Rp){Nv(!1)}return Nv(ov(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Rv(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new xv(n,"POST",(function(e){var t=Fv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Rp){Nv(!1)}n||Nv(!1);var i=Number(n);return Nv(!isNaN(i)),new Mv(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Rv(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Uv*this._chunkMultiplier,n=new Mv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=qv(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Rp){return e._error=Rp,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Uv*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Dv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=jv(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tv(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=gv.getBlob(c,r,l);if(null===h)throw Um();var f={name:u.fullPath},d=cv(o,e.host),p=e.maxUploadRetryTime,g=new xv(d,"POST",Pv(e,n),p);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=Rv(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Fm(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=ev(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Vv(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(ev(this._state)){case Zm.SUCCESS:zv(this._resolve.bind(null,this.snapshot))();break;case Zm.CANCELED:case Zm.ERROR:zv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(ev(this._state)){case Zm.RUNNING:case Zm.PAUSED:e.next&&zv(e.next.bind(e,this.snapshot))();break;case Zm.SUCCESS:e.complete&&zv(e.complete.bind(e))();break;default:e.error&&zv(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Wv=function(){function e(e,t){this._service=e,this._location=t instanceof rv?t:rv.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new rv(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return vv(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new rv(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw zm(e)},e}();function Kv(e){var t={prefixes:[],items:[]};return Hv(e,t).then((function(){return t}))}function Hv(e,t,n){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return[4,Gv(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Hv(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Gv(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&uv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Lv(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Yv(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=cv(t.fullServerUrl(),e.host),o=Tv(n,r),a=e.maxOperationRetryTime,s=new xv(i,"PATCH",Pv(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ov(t),s}(e.storage,e._location,t,wv()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Xv(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=cv(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new xv(r,"GET",Av(e,n),i);return o.errorHandler=Ov(t),o}(e.storage,e._location,wv()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Lm("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Qv(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=cv(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new xv(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ov(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function $v(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rv(e._location.bucket,n);return new Wv(e.storage,r)}function Jv(e){return/^[A-Za-z]+:\/\//.test(e)}function Zv(e,t){if(e instanceof ny){var n=e;if(null==n._bucket)throw new Lm("no-default-bucket","No default bucket found. Did you set the '"+Dm+"' property when initializing the app?");var r=new Wv(n,n._bucket);return null!=t?Zv(r,t):r}if(void 0!==t){if(t.includes(".."))throw qm('`path` param cannot contain ".."');return $v(e,t)}return e}function ey(e,t){if(t&&Jv(t)){if(e instanceof ny)return new Wv(e,t);throw qm("To use ref(service, url), the first argument must be a Storage instance.")}return Zv(e,t)}function ty(e,t){var n=null===t||void 0===t?void 0:t[Dm];return null==n?null:rv.makeFromBucketSpec(n,e)}var ny=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Om,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rv.makeFromBucketSpec(i,this._host):ty(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=rv.makeFromBucketSpec(this._url,e):this._bucket=ty(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){uv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){uv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Wv(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new iv(Vm());var i=function(e,t,n,r,i,o){var a=lv(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new hv(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function ry(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Bv(e,new gv(t),n)}(e=(0,$.getModularInstance)(e),t,n)}function iy(e){return function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Dv(e.storage,e._location,wv()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,$.getModularInstance)(e))}function oy(e,t){return ey(e=(0,$.getModularInstance)(e),t)}var ay=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),sy=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ay(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new ay(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new ay(e,i,i._ref))}:{next:t.next?function(e){return t.next(new ay(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),uy=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new cy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new cy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),cy=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return $v(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new sy(ry(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Km.RAW),this._throwIfRoot("putString");var r=Gm(t,e),i=(0,Q.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new sy(new Bv(this._delegate,new gv(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Kv(e=(0,$.getModularInstance)(e))}(this._delegate).then((function(t){return new uy(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Gv(e=(0,$.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new uy(e,t.storage)}))},e.prototype.getMetadata=function(){return iy(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Yv(e=(0,$.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Xv(e=(0,$.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Qv(e=(0,$.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw zm(e)},e}(),ly=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Jv(e))throw qm("ref() expected a child path but got a URL, use refFromURL instead.");return new cy(oy(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Jv(e))throw qm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rv.makeFromUrl(e,this._delegate.host)}catch(Rp){throw qm("refFromUrl() expected a valid full URL but got an invalid one.")}return new cy(oy(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function hy(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ly(r,new ny(r,i,o,new nv,n,X.default.SDK_VERSION))}!function(e){var t={TaskState:Zm,TaskEvent:Jm,StringFormat:Km,Storage:ny,Reference:cy};e.INTERNAL.registerComponent(new Dp.Component("storage",hy,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.6.0")}(X.default);var fy,dy,py,gy="0.4.16",my=gy,vy="FB-PERF-TRACE-MEASURE",yy="_wt_",_y="_fcp",by="_fid",wy="@firebase/performance/config",Sy="@firebase/performance/configexpire",Iy="Performance",Ty=((fy={})["trace started"]="Trace {$traceName} was started before.",fy["trace stopped"]="Trace {$traceName} is not running.",fy["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",fy["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",fy["no window"]="Window is not available.",fy["no app id"]="App id is not available.",fy["no project id"]="Project id is not available.",fy["no api key"]="Api key is not available.",fy["invalid cc log"]="Attempted to queue invalid cc event",fy["FB not default"]="Performance can only start when Firebase app instance is the default one.",fy["RC response not ok"]="RC response is not ok",fy["invalid attribute name"]="Attribute name {$attributeName} is invalid.",fy["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",fy["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",fy["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",fy),Ey=new $.ErrorFactory("performance",Iy,Ty),ky=new J.Logger(Iy);ky.logLevel=J.LogLevel.INFO;var Cy,xy=function(){function e(e){if(this.window=e,!e)throw Ey.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,$.isIndexedDBAvailable)()||(ky.info("IndexedDB is not supported by current browswer"),!1):(ky.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===dy&&(dy=new e(py)),dy},e}();function Ny(e,t){var n=e.length-t.length;if(n<0||n>1)throw Ey.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Py,Ay,Ry=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ny("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ny("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Ey.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Ey.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Ey.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Cy&&(Cy=new e),Cy},e}();function Oy(){return Py}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Ay||(Ay={}));var Dy=["firebase_","google_","ga_"],Ly=new RegExp("^[a-zA-Z]\\w*$");function jy(){var e=xy.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function My(){switch(xy.getInstance().document.visibilityState){case"visible":return Ay.VISIBLE;case"hidden":return Ay.HIDDEN;default:return Ay.UNKNOWN}}function Fy(){var e=xy.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Uy="0.0.1",qy={loggingEnabled:!0},Vy="FIREBASE_INSTALLATIONS_AUTH";function zy(e){var t=function(){var e=xy.getInstance().localStorage;if(!e)return;var t=e.getItem(Sy);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(wy);if(!r)return;try{return JSON.parse(r)}catch(fd){return}}();return t?(Wy(t),Promise.resolve()):function(e){return function(){var e=Ry.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ry.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ry.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Vy+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ry.getInstance().getAppId(),app_version:my,sdk_version:Uy})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Ey.create("RC response not ok")}))})).catch((function(){ky.info(By)}))}(e).then(Wy).then((function(e){return function(e){var t=xy.getInstance().localStorage;if(!e||!t)return;t.setItem(wy,JSON.stringify(e)),t.setItem(Sy,String(Date.now()+60*Ry.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var By="Could not fetch config, will use default configs";function Wy(e){if(!e)return e;var t=Ry.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=qy.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Ky(t.tracesSamplingRate),t.logNetworkAfterSampling=Ky(t.networkRequestsSamplingRate),e}function Ky(e){return Math.random()<=e}var Hy,Gy=1;function Yy(){return Gy=2,Hy=Hy||function(){var e=xy.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Ry.getInstance().installationsService.getId();return e.then((function(e){Py=e})),e}()})).then((function(e){return zy(e)})).then((function(){return Xy()}),(function(){return Xy()}))}function Xy(){Gy=3}var Qy,$y=1e4,Jy=3,Zy=1e3,e_=Jy,t_=[],n_=!1;function r_(e){setTimeout((function(){if(0!==e_)return t_.length?void function(){var e=t_.splice(0,Zy),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Ry.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||ky.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=$y;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(t_=(0,Q.__spreadArray)((0,Q.__spreadArray)([],t),t_),ky.info("Retry transport request later.")),e_=Jy,r_(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ry.getInstance().logSource,log_event:t},e).catch((function(){t_=(0,Q.__spreadArray)((0,Q.__spreadArray)([],e),t_),e_--,ky.info("Tries left: "+e_+"."),r_($y)}))}():r_($y)}),e)}function i_(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw Ey.create("invalid cc log");t_=(0,Q.__spreadArray)((0,Q.__spreadArray)([],t_),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function o_(e,t){Qy||(Qy=i_(u_)),Qy(e,t)}function a_(e){var t=Ry.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&xy.getInstance().requiredApisAvailable()&&(e.isAuto&&My()!==Ay.VISIBLE||(3===Gy?s_(e):Yy().then((function(){return s_(e)}),(function(){return s_(e)}))))}function s_(e){if(Oy()){var t=Ry.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return o_(e,1)}),0)}}function u_(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:c_(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:c_(),trace_metric:t};return JSON.stringify(r)}(e)}function c_(){return{google_app_id:Ry.getInstance().getAppId(),app_instance_id:Oy(),web_app_info:{sdk_version:my,page_url:xy.getInstance().getUrl(),service_worker_status:jy(),visibility_state:My(),effective_connection_type:Fy()},application_process_state:0}}var l_=["_fp",_y,by];var h_=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=xy.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||vy+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Ey.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Ey.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),a_(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Ey.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Ey.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,Q.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}a_(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(yy)&&l_.indexOf(n)>-1)&&n.startsWith("_"))throw Ey.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&ky.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Dy.some((function(e){return n.startsWith(e)}))&&!!n.match(Ly),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Ey.create("invalid attribute name",{attributeName:e});if(!i)throw Ey.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,Q.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=xy.getInstance().getUrl();if(i){var o=new e(yy+i,!0),a=Math.floor(1e3*xy.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(_y,Math.floor(1e3*u.startTime)),r&&o.putMetric(by,Math.floor(1e3*r))}a_(o)}},e.createUserTimingTrace=function(t){a_(new e(t,!1,t))},e}();function f_(e){var t=e;if(t&&void 0!==t.responseStart){var n=xy.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Ry.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return o_(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}var d_=5e3;function p_(){Oy()&&(setTimeout((function(){return function(){var e=xy.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){h_.createOobTrace(t,n),r=void 0}),d_);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),h_.createOobTrace(t,n,e))}))}else h_.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=xy.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){f_(r[n])}e.setupObserver("resource",f_)}()}),0),setTimeout((function(){return function(){for(var e=xy.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){g_(r[n])}e.setupObserver("measure",g_)}()}),0))}function g_(e){var t=e.name;t.substring(0,vy.length)!==vy&&h_.createUserTimingTrace(t)}var m_=function(){function e(e){this.app=e,xy.getInstance().requiredApisAvailable()&&(0,$.validateIndexedDBOpenable)().then((function(e){e&&(n_||(r_(5500),n_=!0),Yy().then(p_,p_))})).catch((function(e){ky.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new h_(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ry.getInstance().instrumentationEnabled},set:function(e){Ry.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ry.getInstance().dataCollectionEnabled},set:function(e){Ry.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Ey.create("FB not default");if("undefined"===typeof window)throw Ey.create("no window");return function(e){py=e}(window),Ry.getInstance().firebaseAppInstance=e,Ry.getInstance().installationsService=t,new m_(e)};e.INTERNAL.registerComponent(new Dp.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",gy)}(X.default);var v_,y_,__="firebase_id",b_="origin",w_=6e4,S_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I_="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(v_||(v_={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(y_||(y_={}));var T_,E_=new J.Logger("@firebase/analytics");function k_(e,t,n,r,i,o){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,Q.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),E_.error(c),[3,8];case 8:return e(v_.CONFIG,i,o),[2]}}))}))}function C_(e,t,n,r,i){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,Q.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(v_.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),E_.error(f),[3,5];case 5:return[2]}}))}))}function x_(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var s;return(0,Q.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==v_.EVENT?[3,2]:[4,C_(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==v_.CONFIG?[3,4]:[4,k_(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(v_.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),E_.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var N_=((T_={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",T_["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",T_["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",T_["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",T_["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",T_["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",T_["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",T_["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',T_["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',T_),P_=new $.ErrorFactory("analytics","Analytics",N_),A_=30,R_=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function O_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function D_(e){var t;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:O_(r)},o=S_.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw P_.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function L_(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=R_),(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,Q.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,j_(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return E_.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,D_(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof $.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return E_.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,$.calculateBackoffMillis)(o,r.intervalMillis,A_):(0,$.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),E_.debug("Calling attemptFetch again in "+l+" millis"),[2,L_(e,h,n,r)];case 7:return[2]}}))}))}function j_(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(P_.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var M_=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function F_(e,t,n,r,i,o){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,Q.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=R_),(0,Q.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,Q.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw P_.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw P_.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new M_,setTimeout((function(){return(0,Q.__awaiter)(c,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:w_),[2,L_({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&E_.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return E_.error(e)})),t.push(a),s=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Q.__generator)(this,(function(t){switch(t.label){case 0:return(0,$.isIndexedDBAvailable)()?[3,1]:(E_.warn(P_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,$.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),E_.warn(P_.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(I_))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=I_+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={})[b_]="firebase",f.update=!0,h=f,null!=l&&(h[__]=l),i(v_.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var U_,q_,V_={},z_=[],B_={},W_="dataLayer",K_="gtag",H_=!1;function G_(e){if(H_)throw P_.create("already-initialized");e.dataLayerName&&(W_=e.dataLayerName),e.gtagName&&(K_=e.gtagName)}function Y_(e,t){!function(){var e=[];if((0,$.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,$.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=P_.create("invalid-analytics-context",{errorInfo:t});E_.warn(n.message)}}();var n=e.options.appId;if(!n)throw P_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw P_.create("no-api-key");E_.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=V_[n])throw P_.create("already-exists",{id:n});if(!H_){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(W_);var r=x_(V_,z_,B_,W_,K_),i=r.wrappedGtag,o=r.gtagCore;q_=i,U_=o,H_=!0}V_[n]=F_(e,z_,B_,t,U_,W_);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,Q.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(v_.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,Q.__assign)((0,Q.__assign)({},r),{send_to:o}),e(v_.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(q_,V_[n],e,t,r).catch((function(e){return E_.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(v_.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(v_.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(q_,V_[n],e,t).catch((function(e){return E_.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Q.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(v_.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(v_.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(q_,V_[n],e,t).catch((function(e){return E_.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Q.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(v_.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(v_.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(q_,V_[n],e,t).catch((function(e){return E_.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(V_[n],e).catch((function(e){return E_.error(e)}))},INTERNAL:{delete:function(){return delete V_[n],Promise.resolve()}}};return a}var X_="analytics";function Q_(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:if((0,$.isBrowserExtension)())return[2,!1];if(!(0,$.areCookiesEnabled)())return[2,!1];if(!(0,$.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,$.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Dp.Component(X_,(function(e){return Y_(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:G_,EventName:y_,isSupported:Q_})),e.INTERNAL.registerComponent(new Dp.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(X_).getImmediate().logEvent}}catch(Rp){throw P_.create("interop-component-reg-failed",{reason:Rp})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.15")}(X.default);var $_,J_=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),Z_=(($_={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",$_["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",$_["registration-api-key"]="Undefined API key. Check Firebase app initialization.",$_["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",$_["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",$_["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",$_["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",$_["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",$_["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",$_["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',$_["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',$_["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",$_["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",$_),eb=new $.ErrorFactory("remoteconfig","Remote Config",Z_);var tb=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,m,v,y,_;return(0,Q.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return b.sent(),[4,c];case 4:return h=b.sent(),[3,6];case 5:throw f=b.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),eb.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,h.json()];case 8:return y=b.sent(),[3,10];case 9:throw _=b.sent(),eb.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:m=y.entries,v=y.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===v?p=500:"NO_CHANGE"===v?p=304:"NO_TEMPLATE"!==v&&"EMPTY_CONFIG"!==v||(m={}),304!==p&&200!==p)throw eb.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:g,config:m}]}var w}))}))},e}(),nb=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),rb=["1","true","t","yes","y","on"],ib=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&rb.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),ob=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=J.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=J.LogLevel.SILENT;break;default:this._logger.logLevel=J.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:e=new nb,setTimeout((function(){return(0,Q.__awaiter)(r,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof $.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){return(0,Q.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,Q.__assign)((0,Q.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new ib("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new ib("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new ib("static"))},e}();function ab(e,t){var n=e.target.error||void 0;return eb.create(t,{originalErrorMessage:n&&n.message})}var sb="app_namespace_store";var ub=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(ab(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(sb,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([sb],"readonly").objectStore(sb),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(ab(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Rp){i(eb.create("storage-get",{originalErrorMessage:Rp&&Rp.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Q.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([sb],"readwrite").objectStore(sb),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(ab(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Rp){o(eb.create("storage-set",{originalErrorMessage:Rp&&Rp.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Q.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([sb],"readwrite").objectStore(sb),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(ab(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Rp){i(eb.create("storage-delete",{originalErrorMessage:Rp&&Rp.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),cb=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function lb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(eb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var hb,fb=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Q.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,Q.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,Q.__generator)(this,(function(a){switch(a.label){case 0:return[4,lb(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof $.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,$.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),db="@firebase/remote-config";(hb=X.default).INTERNAL.registerComponent(new Dp.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw eb.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw eb.create("registration-project-id");if(!s)throw eb.create("registration-api-key");if(!u)throw eb.create("registration-app-id");n=n||"firebase";var c=new ub(u,r.name,n),l=new cb(c),h=new J.Logger(db);h.logLevel=J.LogLevel.ERROR;var f=new tb(i,hb.SDK_VERSION,n,a,s,u),d=new fb(f,c),p=new J_(d,c,l,h),g=new ob(r,p,l,c,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),hb.registerVersion(db,"0.1.41");n(446);var pb="8.8.0";X.default.registerVersion("firebase",pb,"app"),X.default.SDK_VERSION=pb;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),X.default.registerVersion("firebase","8.8.0");X.default.initializeApp({apiKey:"AIzaSyC0z5gTYET5XWVPHp6VhcoQ5c7v4qPU_xY",authDomain:"e-shop-461e0.firebaseapp.com",projectId:"e-shop-461e0",storageBucket:"e-shop-461e0.appspot.com",messagingSenderId:"899827481903",appId:"1:899827481903:web:6215c2cdecf96915abf5da",measurementId:"G-86C0GEHZQ8"}),X.default.firestore();var gb=X.default.auth();var mb=function(){var t=(0,q.k6)(),n=p((0,e.useState)(""),2),r=n[0],i=n[1],o=p((0,e.useState)(""),2),a=o[0],s=o[1];return(0,g.jsx)("div",{className:"login",children:(0,g.jsxs)("div",{className:"login-main",children:[(0,g.jsx)(q.rU,{to:"/",children:(0,g.jsx)("div",{className:"login_log",children:(0,g.jsx)("img",{src:"https://www.gartner.com/pi/vendorimages/cora-systems_project-portfolio-management-worldwide_1627042717398.png",width:"100px",alt:""})})}),(0,g.jsxs)("div",{className:"login-container",children:[(0,g.jsx)("h1",{className:"sign-up",children:"Sing Up"}),(0,g.jsxs)("form",{action:"",children:[(0,g.jsx)("h5",{children:"E-mail"}),(0,g.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),(0,g.jsx)("h5",{children:"Password"}),(0,g.jsx)("input",{type:"password",value:a,onChange:function(e){return s(e.target.value)}}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{type:"button",className:"login_signInButton",onClick:function(e){e.preventDefault(),gb.signInWithEmailAndPassword(r,a).then((function(e){t.push("/"),console.log(r.slice(0,1))})).catch((function(e){return alert(e.message)}))},children:"Sign In"})})]}),(0,g.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Facere tenetur consequuntur iure dolor nesciunt corporis blanditiis veritatis deserunt dignissimos nulla?"}),(0,g.jsx)("button",{className:"login_registrationButton",onClick:function(e){e.preventDefault(),gb.createUserWithEmailAndPassword(r,a).then((function(e){e&&t.push("/")})).catch((function(e){return alert(e.message)}))},children:" Create your eShop Account"})]})]})})};var vb=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{id:"newsLetter",className:"section-m1 section-p1",children:[(0,g.jsxs)("div",{className:"newsText",children:[(0,g.jsx)("h4",{children:"Sign Up For NewsLetters"}),(0,g.jsxs)("p",{children:["Get E-mail updates about our latest shop and ",(0,g.jsx)("span",{children:"special offers"})]})]}),(0,g.jsxs)("div",{className:"form",children:[(0,g.jsx)("input",{type:"text",placeholder:"your email address"}),(0,g.jsx)("button",{children:"Sign Up"})]})]})})};var yb=function(){var t=function(){var e=document.getElementById("mainImg"),t=document.getElementsByClassName("small-img");t[0].onclick=function(){e.src=t[0].src},t[1].onclick=function(){e.src=t[1].src},t[2].onclick=function(){e.src=t[2].src},t[3].onclick=function(){e.src=t[3].src}};(0,e.useEffect)((function(){t()}),[]);var n=(0,e.useContext)(m),r=n.addToCart,i=(n.viewProductDetails,n.cartItems),o=(n.closeProductDetails,n.selectedProduct),a=n.removeToCart,s=n.updateCartItemCount,l=o||0,h=u.find((function(e){return e.id===l}))||c.find((function(e){return e.id===l})),f=i[h.id];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{id:"prodetails",className:"section-p1 pa",children:[(0,g.jsxs)("div",{className:"single-pro-image",children:[(0,g.jsx)("img",{src:h.image,width:"100%",style:{objectFit:"contain",height:"400px"},id:"mainImg",alt:""}),(0,g.jsxs)("div",{className:"small-img-group",onClick:function(){return t()},children:[(0,g.jsx)("div",{className:"small-img-col",children:(0,g.jsx)("img",{src:h.image,width:"100%",className:"small-img",alt:""})}),(0,g.jsx)("div",{className:"small-img-col",children:(0,g.jsx)("img",{src:h.url1,width:"100%",className:"small-img",alt:""})}),(0,g.jsx)("div",{className:"small-img-col",children:(0,g.jsx)("img",{src:h.url2,width:"100%",className:"small-img",alt:""})}),(0,g.jsx)("div",{className:"small-img-col",children:(0,g.jsx)("img",{src:h.url3,width:"100%",className:"small-img",alt:""})})]})]}),(0,g.jsxs)("div",{className:"single-pro-details",children:[(0,g.jsx)("h6",{children:" Home / T-shirt"}),(0,g.jsx)("h4",{children:h.title}),(0,g.jsx)("strike",{children:h.prevPrice}),(0,g.jsxs)("span",{style:{marginLeft:"10px",fontSize:"30px",fontWeight:500},children:["$",h.price]}),(0,g.jsxs)("select",{style:{marginTop:"20px"},children:[(0,g.jsx)("option",{children:"Select Size"}),(0,g.jsx)("option",{value:"",children:"XL"}),(0,g.jsx)("option",{value:"",children:"XXL"}),(0,g.jsx)("option",{value:"",children:"Small"}),(0,g.jsx)("option",{value:"",children:"Large"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("button",{onClick:function(){a(h.id)},children:"-"}),(0,g.jsx)("input",{type:"text",value:i[h.id],onChange:function(e){return s}}),(0,g.jsx)("button",{onClick:function(){r(h.id)},children:"+"})]}),(0,g.jsxs)("button",{onClick:function(){return r(h.id)},children:["Add to cart",f>0&&"(".concat(f,")")]}),(0,g.jsx)("h4",{children:"Product Details"}),(0,g.jsx)("span",{children:h.details1}),(0,g.jsx)("div",{children:h.details2})]})]}),(0,g.jsxs)("section",{id:"product",className:"section-p1",children:[(0,g.jsx)("h2",{children:"Suggested Products"}),(0,g.jsx)("p",{children:"Summer Collection New Modern Design"}),(0,g.jsx)(R,{})]})]})};var _b=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:"details",children:[(0,g.jsx)(yb,{}),"fdgjdsgh"]})})};var bb=function(e){var t=e.handleInputChange,n=e.query;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("nav",{children:(0,g.jsx)("div",{className:"nav-container",children:(0,g.jsxs)("div",{className:"input",children:[(0,g.jsx)("input",{className:"search-input",type:"text",onChange:t,value:n,placeholder:"Search Product"}),(0,g.jsx)("i",{class:"fa-solid fa-magnifying-glass"})]})})})})};var wb=function(e){var t=e.result;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{id:"product",className:"section-p1",children:[(0,g.jsx)("h2",{children:"New Products"}),(0,g.jsx)("p",{children:"Summer Collection New Modern Design"}),(0,g.jsx)("div",{className:"pro-container",id:"newArrival",children:t})]})})};var Sb=function(e){var t=e.handleChange,n=e.value,r=(e.name,e.title),i=e.color;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("label",{style:{margin:"5px"},children:[(0,g.jsx)("input",{className:"check",onChange:t,value:n,type:"radio",name:"test"}),(0,g.jsx)("span",{className:"checkmark",style:{backgroundColor:i}}),r]})})};var Ib=function(e){var t=e.handleChange;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"sorting",children:[(0,g.jsxs)("div",{className:"sortCat",onClick:function(){document.getElementsByClassName("sortItem")[0].classList.toggle("active")},children:[(0,g.jsx)("input",{type:"text",className:"input",placeholder:"Sort By Category"}),(0,g.jsx)("i",{class:"fa-solid fa-caret-down"})]}),(0,g.jsxs)("div",{className:"sortItem",children:[(0,g.jsxs)("label",{htmlFor:"",children:[(0,g.jsx)("input",{type:"radio",onChange:t,value:"",name:"test1"}),(0,g.jsx)("span",{className:"checkmark"}),"All"]}),(0,g.jsx)(Sb,{handleChange:t,value:"top",title:"Top",name:"test"}),(0,g.jsx)(Sb,{handleChange:t,value:"middy",title:"Middy",name:"test"}),(0,g.jsx)(Sb,{handleChange:t,value:"tshirt",title:"tshirt",name:"test"}),(0,g.jsx)(Sb,{handleChange:t,value:"shirt",title:"Shirt",name:"test"})]})]})})};var Tb=function(e){var t=e.handleChange;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"sorting",children:[(0,g.jsxs)("div",{className:"sortCat",onClick:function(){document.getElementsByClassName("sortItem2")[0].classList.toggle("active")},children:[(0,g.jsx)("input",{type:"text",placeholder:"Sort By Color"}),(0,g.jsx)("i",{class:"fa-solid fa-caret-down"})]}),(0,g.jsxs)("div",{className:"sortItem2",children:[(0,g.jsxs)("label",{htmlFor:"",children:[(0,g.jsx)("input",{type:"radio",onChange:t,value:"",name:"test2"}),(0,g.jsx)("span",{className:"checkmark"}),"All"]}),(0,g.jsx)(Sb,{handleChange:t,value:"black",title:"Black",name:"test1",color:"black"}),(0,g.jsx)(Sb,{handleChange:t,value:"blue",title:"Blue",name:"test1",color:"blue"}),(0,g.jsx)(Sb,{handleChange:t,value:"red",title:"Red",name:"test1",color:"red"}),(0,g.jsx)(Sb,{handleChange:t,value:"pink",title:"Pink",name:"test1",color:"green"}),(0,g.jsx)(Sb,{handleChange:t,value:"white",title:"White",name:"test1",color:"white"})]})]})})};var Eb=function(e){var t=e.handleChange;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"sorting",children:[(0,g.jsxs)("div",{className:"sortCat",onClick:function(){document.getElementsByClassName("sortItem3")[0].classList.toggle("active")},children:[(0,g.jsx)("input",{type:"text",placeholder:"Sort By Category"}),(0,g.jsx)("i",{class:"fa-solid fa-caret-down"})]}),(0,g.jsxs)("div",{className:"sortItem3",children:[(0,g.jsxs)("label",{htmlFor:"",children:[(0,g.jsx)("input",{type:"radio",onChange:t,value:"",name:"test2"}),(0,g.jsx)("span",{className:"checkmark"}),"All"]}),(0,g.jsx)(Sb,{handleChange:t,value:300,title:"$200-$300",name:"test2"}),(0,g.jsx)(Sb,{handleChange:t,value:500,title:"$300-$500",name:"test2"}),(0,g.jsx)(Sb,{handleChange:t,value:650,title:"$500-$650",name:"test2"}),(0,g.jsx)(Sb,{handleChange:t,value:1e3,title:"$600-$1000",name:"test2"})]})]})})};var kb=function(e){var t=e.handleChange;return console.log(t),(0,g.jsx)("section",{id:"product",className:"section-p1",children:(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"10px"},children:[(0,g.jsx)(Ib,{handleChange:t}),(0,g.jsx)(Tb,{handleChange:t}),(0,g.jsx)(Eb,{handleChange:t})]})})};var Cb=function(t){var n=t.addToFav,r=p((0,e.useState)(null),2),i=r[0],o=r[1],a=p((0,e.useState)(""),2),s=a[0],c=a[1],l=u.filter((function(e){return-1!==e.title.toLocaleLowerCase().indexOf(s.toLocaleLowerCase())})),h=function(e,t,r){var i=e;return r&&(i=l),t&&(i=i.filter((function(e){var n=e.category,r=e.color,i=e.company,o=e.newPrice,a=e.title;return n===t||r===t||i===t||o===t||t===a}))),i.map((function(e,t){return(0,g.jsx)(A,{data:e,addToFav:n},t)}))}(u,i,s);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{children:[(0,g.jsx)(bb,{query:s,handleInputChange:function(e){c(e.target.value)}}),(0,g.jsx)(kb,{handleChange:function(e){o(e.target.value)}}),(0,g.jsx)("div",{className:"container",children:(0,g.jsx)(wb,{result:h})})]})})};var xb=function(){var e=function(e){console.log(e);var t=JSON.parse(localStorage.getItem("productdetails"));null!==t?t.push(e):(t=[]).push(e),localStorage.setItem("productdetails",JSON.stringify(t))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(v,{children:[(0,g.jsx)(V,{}),(0,g.jsxs)(i.Switch,{children:[(0,g.jsx)(i.Route,{path:"/",exact:!0,children:(0,g.jsx)(j,{})}),(0,g.jsx)(i.Route,{exact:!0,path:"/shop",children:(0,g.jsx)(U,{addToFav:e})}),(0,g.jsx)(i.Route,{exact:!0,path:"/blog",component:z}),(0,g.jsx)(i.Route,{exact:!0,path:"/about",component:B}),(0,g.jsx)(i.Route,{exact:!0,path:"/contact",component:W}),(0,g.jsx)(i.Route,{exact:!0,path:"/cart",component:H}),(0,g.jsx)(i.Route,{exact:!0,path:"/wishlist",children:(0,g.jsx)(Y,{removeFavouriteMovie:function(e){console.log(e);var t=JSON.parse(localStorage.getItem("productdetails")).filter((function(t){return t.id!=e}));localStorage.setItem("productdetails",JSON.stringify(t))}})}),(0,g.jsx)(i.Route,{exact:!0,path:"/login",component:mb}),(0,g.jsx)(i.Route,{exact:!0,path:"/details",component:_b}),(0,g.jsx)(i.Route,{exact:!0,path:"/filter",addToFav:e,children:(0,g.jsx)(Cb,{})})]}),(0,g.jsx)(vb,{}),(0,g.jsx)(G,{})]})})},Nb=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,g.jsx)(q.VK,{children:(0,g.jsx)(xb,{})})),Nb()}()}();
//# sourceMappingURL=main.bbb5ff22.js.map